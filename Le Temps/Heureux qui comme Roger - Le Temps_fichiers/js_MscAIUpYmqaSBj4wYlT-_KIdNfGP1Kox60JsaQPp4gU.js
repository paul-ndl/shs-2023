;(function(Drupal,firebase,drupalSettings,window){const Follow={db:null,storage:window.localStorage,following:JSON.parse(window.localStorage.getItem('following')||'{}'),env:drupalSettings.lt_firebase.environment,uid:drupalSettings.user.uid,_storageId:function(data){return data.entity_type+'-'+data.entity_id;},_updateDOM:function(){const matches=document.querySelectorAll('.follow-action-add');if(matches.length>0){const self=this;matches.forEach(elem=>{if(self.following){const storageId=elem.dataset.storageId;elem.classList.contains('is-followed')&&elem.classList.remove('is-followed');if(self.following[storageId]){elem.classList.add('is-followed');}}
if(elem.dataset.followOnce){return;}
elem.setAttribute('data-follow-once','true');elem.querySelector('a').addEventListener('click',function(e){e.preventDefault();if(!this.dataset.follow){return;}
const parent=this.parentNode,follow=JSON.parse(this.dataset.follow);let action=null;if(parent.classList.contains('is-followed')){Follow.unfollow(follow);parent.classList.remove('is-followed');action='unfollow';}else{Follow.follow(follow);parent.classList.add('is-followed');action='follow';}
const event=new CustomEvent('follow.action',{bubbles:true,detail:{action:action,data:follow}});this.dispatchEvent(event);});});}},_initObserver:function(){const self=this;const observer=new window.MutationObserver(function(mutations){for(let mutation of mutations){if(mutation.addedNodes&&mutation.addedNodes.length>0){for(let node of mutation.addedNodes){if(node.nodeType===Node.ELEMENT_NODE){let hasFollowButton=node.classList.contains('follow-action-add')||node.querySelectorAll('.follow-action-add').length;if(hasFollowButton){self._updateDOM();return;}}}}}});observer.observe(document.body||document.documentElement,{childList:true,subtree:true});},store:function(data,action,callback){const self=this;const methods={'unfollow':'DELETE','follow':'PUT','sync':'POST',};fetch(drupalSettings.lt_follow.api,{method:methods[action],headers:{'Content-Type':'application/json',},credentials:'include',body:JSON.stringify(data)}).then(response=>response.json()).then(data=>{if(action==='follow'){this.db.collection(self.env+"/"+self.uid+"/following").doc(self._storageId(data)).set(data).catch(error=>{throw new Error("While saving on Firebase: "+error);});}else if(action==='unfollow'){this.db.collection(self.env+"/"+self.uid+"/following").doc(self._storageId(data)).delete().catch(error=>{throw new Error("While deleting on Firebase:"+error);});}
if(data.request_time){this.db.collection(self.env).doc(self.uid).set({"following_last_updated":data.request_time});delete data.request_time;}
drupalSettings.lt_follow.last_sync=data.request_time;if(typeof callback==="function"){callback(data);}}).catch(error=>{console.error("Error"+error);});},follow:function(data){const self=this;this.store(data,'follow',data=>{self.following[self._storageId(data)]=true;self.storage.setItem("following",JSON.stringify(self.following));if(window.dataLayer){window.dataLayer.push({'event':'Follow','eventCategory':'Follow','eventAction':'follow','eventLabel':self._storageId(data)});}});},unfollow:function(data){const self=this;this.store(data,'unfollow',data=>{delete self.following[self._storageId(data)];self.storage.setItem("following",JSON.stringify(self.following));if(window.dataLayer){window.dataLayer.push({'event':'Follow','eventCategory':'Follow','eventAction':'unfollow','eventLabel':self._storageId(data)});}});},sync:function(){const self=this;this.db.collection(this.env).doc(this.uid).get().then(doc=>{if(doc.exists){const data=doc.data();if(data.following_last_updated){return data.following_last_updated;}}
return 0;}).then(firebase_last_update=>{const last_update=drupalSettings.lt_follow.last_update;if(firebase_last_update>last_update){self.db.collection(self.env+"/"+self.uid+"/following").get().then(querySnapshot=>{let docs={};querySnapshot.forEach(doc=>{docs[self._storageId(doc.data())]=doc.data();});self.store(docs,'sync',data=>{self.storage.removeItem('following');self.following={};Object.keys(data).forEach(item=>{self.following[item]=true;});self.storage.setItem('following',JSON.stringify(self.following));self._updateDOM();});});}});},init:function(){if(firebase&&firebase.apps.length>0&&this.db===null){this.db=firebase.firestore();if(this.uid!==0){const last_sync=window.sessionStorage.getItem('following_sync');if(last_sync===null||(Date.now()-last_sync>7.2e+6)){this.sync();window.sessionStorage.setItem("following_sync",Date.now());}}}
if(this.uid===0){if(this.following.left>0||this.storage.getItem('following')){this.following=null;this.storage.removeItem('following');window.sessionStorage.removeItem('following_sync');}}
this._updateDOM();this._initObserver();if(this.following&&Object.keys(this.following).length>0){const tab_feed=document.querySelectorAll('a[href="#my-content-feed"]');const tab_fav=document.querySelectorAll('a[href="#my-content-favorites"]');const div_feed=document.getElementById('my-content-feed');const div_fav=document.getElementById('my-content-favorites');if(tab_feed.length>0&&tab_fav.length>0&&div_feed&&div_fav){const li_feed=tab_feed[0].closest('li');const li_fav=tab_fav[0].closest('li');li_fav.classList.remove("active");li_feed.classList.add("active");div_fav.classList.remove("active");div_fav.classList.remove("in");div_feed.classList.add("active");div_feed.classList.add("in");}}}};Follow.init();})(Drupal,window.firebase,drupalSettings,window);;(function($,once){var deprecatedMessageSuffix="is deprecated in Drupal 9.3.0 and will be removed in Drupal 10.0.0. Use the core/once library instead. See https://www.drupal.org/node/3158256";var originalJQOnce=$.fn.once;var originalJQRemoveOnce=$.fn.removeOnce;$.fn.once=function jQueryOnce(id){Drupal.deprecationError({message:"jQuery.once() ".concat(deprecatedMessageSuffix)});return originalJQOnce.apply(this,[id]);};$.fn.removeOnce=function jQueryRemoveOnce(id){Drupal.deprecationError({message:"jQuery.removeOnce() ".concat(deprecatedMessageSuffix)});return originalJQRemoveOnce.apply(this,[id]);};var drupalOnce=once;function augmentedOnce(id,selector,context){originalJQOnce.apply($(selector,context),[id]);return drupalOnce(id,selector,context);}
function remove(id,selector,context){originalJQRemoveOnce.apply($(selector,context),[id]);return drupalOnce.remove(id,selector,context);}
window.once=Object.assign(augmentedOnce,drupalOnce,{remove:remove});})(jQuery,once);;(function($){'use strict';Drupal.behaviors.audienzz_gallery={attach:function(context){if($('.js-audienzz',context)){window.audienzz.refreshAds();}}};}(jQuery));;(function($,Drupal,drupalSettings){'use strict';window.np8Embed=window.np8Embed||{getSelectedWidget:function(editor,callbackCheck){var selection=editor.getSelection();var selectedElement=selection.getSelectedElement();if(callbackCheck){if(callbackCheck.call(this,editor,selectedElement)){return selectedElement;}
return null;}
return selectedElement;},getSelectedElement:function(editor){var selection=editor.getSelection();var selectedElement=selection.getSelectedElement();if(selectedElement){if(selectedElement.getName()!='np8-embed'){selectedElement=selectedElement.getElementsByTag('np8-embed').getItem(0);}
return selectedElement.getName()=='np8-embed'?selectedElement:null;}
return null;},removeNode:function(element){var parent=element.parentNode;parent.removeChild(element);if(!parent.childElementCount){if(parent.previousSibling&&(parent.previousSibling.nodeValue=='\n\n'||parent.previousSibling.nodeValue=='\n')){parent.parentNode.removeChild(parent.previousSibling);}
if(parent.nextSibling&&(parent.nextSibling.nodeValue=='\n\n'||parent.nextSibling.nodeValue=='\n')){parent.parentNode.removeChild(parent.nextSibling);}
parent.parentNode.removeChild(parent);}},createElement:function(text){var cleaned=text,search=new RegExp('data-embed-code="((.|[\r\n])*?)"','g'),embeddedCodes=text.match(search);if(embeddedCodes){cleaned=text.replace(search,'');}
var wrapper=document.createElement('div');wrapper.innerHTML=cleaned;if(embeddedCodes){var removeLength='data-embed-code="'.length;var embeds=wrapper.getElementsByTagName('np8-embed');for(var i=0;i<embeds.length;++i){var embeddedCode=embeddedCodes[i].substr(removeLength,embeddedCodes[i].length-removeLength-1);embeds[i].setAttribute('data-embed-code',embeddedCode);}}
return wrapper;},innerHTML:function(element){var text=element.innerHTML;var search=new RegExp('(?=)(\'|").*?(\'|")(?=.*?>)','g');var fixed=text.replace(search,function(match){return match.replace(/&amp;/g,'&');});return fixed;},loadTwitterJS:function(document,inIframe){if(document.np8EmbedloadedTwitterJS){return;}
document.np8EmbedloadedTwitterJS=true;(function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';if(inIframe){d.getElementsByTagName('head')[0].appendChild(js);}
else{fjs.parentNode.insertBefore(js,fjs);}}})(document,'script','twitter-wjs');},loadFacebookJS:function(document,inIframe){if(document.np8EmbedloadedFacebookJS){return;}
document.np8EmbedloadedFacebookJS=true;if(!drupalSettings.np8_embed&&!drupalSettings.np8_embed.facebook&&!drupalSettings.np8_embed.facebook.app_id){return;}
(function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(d.getElementById(id)){return;}
js=d.createElement(s);js.id=id;js.src="//connect.facebook.net/"+drupalSettings.np8_embed.facebook.langcode+"/sdk.js#xfbml=1&appId="+drupalSettings.np8_embed.facebook.app_id+"&version=v2.0";if(inIframe){d.getElementsByTagName('head')[0].appendChild(js);}
else{fjs.parentNode.insertBefore(js,fjs);}}(document,'script','facebook-jssdk'));}};Drupal.behaviors.np8_embed={attach:function(context){$(context).find('np8-embed').once('np8-embed').each(function(index,element){switch(element.getAttribute('data-embed-type')){case 'twitter':np8Embed.loadTwitterJS(document);if(window.twttr){window.twttr.widgets.load(element);}
break;case 'facebook':np8Embed.loadFacebookJS(document);if(window.FB){window.FB.XFBML.parse(element);}
break;}});if(!np8Embed.loadedTwitterJS&&(document.getElementsByClassName('twitter-tweet').length||document.getElementsByClassName('twitter-timeline').length)){np8Embed.loadTwitterJS(document);}
if(!np8Embed.loadedFacebookJS&&document.getElementsByClassName('fb-post').length){np8Embed.loadFacebookJS(document);}}};}(jQuery,Drupal,drupalSettings));;(function($,Drupal){Drupal.theme.progressBar=function(id){return "<div id=\"".concat(id,"\" class=\"progress\" aria-live=\"polite\">")+'<div class="progress__label">&nbsp;</div>'+'<div class="progress__track"><div class="progress__bar"></div></div>'+'<div class="progress__percentage"></div>'+'<div class="progress__description">&nbsp;</div>'+'</div>';};Drupal.ProgressBar=function(id,updateCallback,method,errorCallback){this.id=id;this.method=method||'GET';this.updateCallback=updateCallback;this.errorCallback=errorCallback;this.element=$(Drupal.theme('progressBar',id));};$.extend(Drupal.ProgressBar.prototype,{setProgress:function setProgress(percentage,message,label){if(percentage>=0&&percentage<=100){$(this.element).find('div.progress__bar').css('width',"".concat(percentage,"%"));$(this.element).find('div.progress__percentage').html("".concat(percentage,"%"));}
$('div.progress__description',this.element).html(message);$('div.progress__label',this.element).html(label);if(this.updateCallback){this.updateCallback(percentage,message,this);}},startMonitoring:function startMonitoring(uri,delay){this.delay=delay;this.uri=uri;this.sendPing();},stopMonitoring:function stopMonitoring(){clearTimeout(this.timer);this.uri=null;},sendPing:function sendPing(){if(this.timer){clearTimeout(this.timer);}
if(this.uri){var pb=this;var uri=this.uri;if(uri.indexOf('?')===-1){uri+='?';}else{uri+='&';}
uri+='_format=json';$.ajax({type:this.method,url:uri,data:'',dataType:'json',success:function success(progress){if(progress.status===0){pb.displayError(progress.data);return;}
pb.setProgress(progress.percentage,progress.message,progress.label);pb.timer=setTimeout(function(){pb.sendPing();},pb.delay);},error:function error(xmlhttp){var e=new Drupal.AjaxError(xmlhttp,pb.uri);pb.displayError("<pre>".concat(e.message,"</pre>"));}});}},displayError:function displayError(string){var error=$('<div class="messages messages--error"></div>').html(string);$(this.element).before(error).hide();if(this.errorCallback){this.errorCallback(this);}}});})(jQuery,Drupal);;(function(Drupal){Drupal.behaviors.responsiveImageAJAX={attach:function attach(){if(window.picturefill){window.picturefill();}}};})(Drupal);;function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread();}
function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}
function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}
function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&iter[Symbol.iterator]!=null||iter["@@iterator"]!=null)return Array.from(iter);}
function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr);}
function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}
(function($,window,Drupal,drupalSettings,_ref){var isFocusable=_ref.isFocusable,tabbable=_ref.tabbable;Drupal.behaviors.AJAX={attach:function attach(context,settings){function loadAjaxBehavior(base){var elementSettings=settings.ajax[base];if(typeof elementSettings.selector==='undefined'){elementSettings.selector="#".concat(base);}
once('drupal-ajax',$(elementSettings.selector)).forEach(function(el){elementSettings.element=el;elementSettings.base=base;Drupal.ajax(elementSettings);});}
Object.keys(settings.ajax||{}).forEach(function(base){return loadAjaxBehavior(base);});Drupal.ajax.bindAjaxLinks(document.body);once('ajax','.use-ajax-submit').forEach(function(el){var elementSettings={};elementSettings.url=$(el.form).attr('action');elementSettings.setClick=true;elementSettings.event='click';elementSettings.progress={type:'throbber'};elementSettings.base=el.id;elementSettings.element=el;Drupal.ajax(elementSettings);});},detach:function detach(context,settings,trigger){if(trigger==='unload'){Drupal.ajax.expired().forEach(function(instance){Drupal.ajax.instances[instance.instanceIndex]=null;});}}};Drupal.AjaxError=function(xmlhttp,uri,customMessage){var statusCode;var statusText;var responseText;if(xmlhttp.status){statusCode="\n".concat(Drupal.t('An AJAX HTTP error occurred.'),"\n").concat(Drupal.t('HTTP Result Code: !status',{'!status':xmlhttp.status}));}else{statusCode="\n".concat(Drupal.t('An AJAX HTTP request terminated abnormally.'));}
statusCode+="\n".concat(Drupal.t('Debugging information follows.'));var pathText="\n".concat(Drupal.t('Path: !uri',{'!uri':uri}));statusText='';try{statusText="\n".concat(Drupal.t('StatusText: !statusText',{'!statusText':xmlhttp.statusText.trim()}));}catch(e){}
responseText='';try{responseText="\n".concat(Drupal.t('ResponseText: !responseText',{'!responseText':xmlhttp.responseText.trim()}));}catch(e){}
responseText=responseText.replace(/<("[^"]*"|'[^']*'|[^'">])*>/gi,'');responseText=responseText.replace(/[\n]+\s+/g,'\n');var readyStateText=xmlhttp.status===0?"\n".concat(Drupal.t('ReadyState: !readyState',{'!readyState':xmlhttp.readyState})):'';customMessage=customMessage?"\n".concat(Drupal.t('CustomMessage: !customMessage',{'!customMessage':customMessage})):'';this.message=statusCode+pathText+statusText+customMessage+responseText+readyStateText;this.name='AjaxError';};Drupal.AjaxError.prototype=new Error();Drupal.AjaxError.prototype.constructor=Drupal.AjaxError;Drupal.ajax=function(settings){if(arguments.length!==1){throw new Error('Drupal.ajax() function must be called with one configuration object only');}
var base=settings.base||false;var element=settings.element||false;delete settings.base;delete settings.element;if(!settings.progress&&!element){settings.progress=false;}
var ajax=new Drupal.Ajax(base,element,settings);ajax.instanceIndex=Drupal.ajax.instances.length;Drupal.ajax.instances.push(ajax);return ajax;};Drupal.ajax.instances=[];Drupal.ajax.expired=function(){return Drupal.ajax.instances.filter(function(instance){return instance&&instance.element!==false&&!document.body.contains(instance.element);});};Drupal.ajax.bindAjaxLinks=function(element){once('ajax','.use-ajax',element).forEach(function(ajaxLink){var $linkElement=$(ajaxLink);var elementSettings={progress:{type:'throbber'},dialogType:$linkElement.data('dialog-type'),dialog:$linkElement.data('dialog-options'),dialogRenderer:$linkElement.data('dialog-renderer'),base:$linkElement.attr('id'),element:ajaxLink};var href=$linkElement.attr('href');if(href){elementSettings.url=href;elementSettings.event='click';}
Drupal.ajax(elementSettings);});};Drupal.Ajax=function(base,element,elementSettings){var defaults={event:element?'mousedown':null,keypress:true,selector:base?"#".concat(base):null,effect:'none',speed:'none',method:'replaceWith',progress:{type:'throbber',message:Drupal.t('Please wait...')},submit:{js:true}};$.extend(this,defaults,elementSettings);this.commands=new Drupal.AjaxCommands();this.instanceIndex=false;if(this.wrapper){this.wrapper="#".concat(this.wrapper);}
this.element=element;this.element_settings=elementSettings;this.elementSettings=elementSettings;if(this.element&&this.element.form){this.$form=$(this.element.form);}
if(!this.url){var $element=$(this.element);if($element.is('a')){this.url=$element.attr('href');}else if(this.element&&element.form){this.url=this.$form.attr('action');}}
var originalUrl=this.url;this.url=this.url.replace(/\/nojs(\/|$|\?|#)/,'/ajax$1');if(drupalSettings.ajaxTrustedUrl[originalUrl]){drupalSettings.ajaxTrustedUrl[this.url]=true;}
var ajax=this;ajax.options={url:ajax.url,data:ajax.submit,beforeSerialize:function beforeSerialize(elementSettings,options){return ajax.beforeSerialize(elementSettings,options);},beforeSubmit:function beforeSubmit(formValues,elementSettings,options){ajax.ajaxing=true;return ajax.beforeSubmit(formValues,elementSettings,options);},beforeSend:function beforeSend(xmlhttprequest,options){ajax.ajaxing=true;return ajax.beforeSend(xmlhttprequest,options);},success:function success(response,status,xmlhttprequest){if(typeof response==='string'){response=$.parseJSON(response);}
if(response!==null&&!drupalSettings.ajaxTrustedUrl[ajax.url]){if(xmlhttprequest.getResponseHeader('X-Drupal-Ajax-Token')!=='1'){var customMessage=Drupal.t('The response failed verification so will not be processed.');return ajax.error(xmlhttprequest,ajax.url,customMessage);}}
return ajax.success(response,status);},complete:function complete(xmlhttprequest,status){ajax.ajaxing=false;if(status==='error'||status==='parsererror'){return ajax.error(xmlhttprequest,ajax.url);}},dataType:'json',jsonp:false,type:'POST'};if(elementSettings.dialog){ajax.options.data.dialogOptions=elementSettings.dialog;}
if(ajax.options.url.indexOf('?')===-1){ajax.options.url+='?';}else{ajax.options.url+='&';}
var wrapper="drupal_".concat(elementSettings.dialogType||'ajax');if(elementSettings.dialogRenderer){wrapper+=".".concat(elementSettings.dialogRenderer);}
ajax.options.url+="".concat(Drupal.ajax.WRAPPER_FORMAT,"=").concat(wrapper);$(ajax.element).on(elementSettings.event,function(event){if(!drupalSettings.ajaxTrustedUrl[ajax.url]&&!Drupal.url.isLocal(ajax.url)){throw new Error(Drupal.t('The callback URL is not local and not trusted: !url',{'!url':ajax.url}));}
return ajax.eventResponse(this,event);});if(elementSettings.keypress){$(ajax.element).on('keypress',function(event){return ajax.keypressResponse(this,event);});}
if(elementSettings.prevent){$(ajax.element).on(elementSettings.prevent,false);}};Drupal.ajax.WRAPPER_FORMAT='_wrapper_format';Drupal.Ajax.AJAX_REQUEST_PARAMETER='_drupal_ajax';Drupal.Ajax.prototype.execute=function(){if(this.ajaxing){return;}
try{this.beforeSerialize(this.element,this.options);return $.ajax(this.options);}catch(e){this.ajaxing=false;window.alert("An error occurred while attempting to process ".concat(this.options.url,": ").concat(e.message));return $.Deferred().reject();}};Drupal.Ajax.prototype.keypressResponse=function(element,event){var ajax=this;if(event.which===13||event.which===32&&element.type!=='text'&&element.type!=='textarea'&&element.type!=='tel'&&element.type!=='number'){event.preventDefault();event.stopPropagation();$(element).trigger(ajax.elementSettings.event);}};Drupal.Ajax.prototype.eventResponse=function(element,event){event.preventDefault();event.stopPropagation();var ajax=this;if(ajax.ajaxing){return;}
try{if(ajax.$form){if(ajax.setClick){element.form.clk=element;}
ajax.$form.ajaxSubmit(ajax.options);}else{ajax.beforeSerialize(ajax.element,ajax.options);$.ajax(ajax.options);}}catch(e){ajax.ajaxing=false;window.alert("An error occurred while attempting to process ".concat(ajax.options.url,": ").concat(e.message));}};Drupal.Ajax.prototype.beforeSerialize=function(element,options){if(this.$form&&document.body.contains(this.$form.get(0))){var settings=this.settings||drupalSettings;Drupal.detachBehaviors(this.$form.get(0),settings,'serialize');}
options.data[Drupal.Ajax.AJAX_REQUEST_PARAMETER]=1;var pageState=drupalSettings.ajaxPageState;options.data['ajax_page_state[theme]']=pageState.theme;options.data['ajax_page_state[theme_token]']=pageState.theme_token;options.data['ajax_page_state[libraries]']=pageState.libraries;};Drupal.Ajax.prototype.beforeSubmit=function(formValues,element,options){};Drupal.Ajax.prototype.beforeSend=function(xmlhttprequest,options){if(this.$form){options.extraData=options.extraData||{};options.extraData.ajax_iframe_upload='1';var v=$.fieldValue(this.element);if(v!==null){options.extraData[this.element.name]=v;}}
$(this.element).prop('disabled',true);if(!this.progress||!this.progress.type){return;}
var progressIndicatorMethod="setProgressIndicator".concat(this.progress.type.slice(0,1).toUpperCase()).concat(this.progress.type.slice(1).toLowerCase());if(progressIndicatorMethod in this&&typeof this[progressIndicatorMethod]==='function'){this[progressIndicatorMethod].call(this);}};Drupal.theme.ajaxProgressThrobber=function(message){var messageMarkup=typeof message==='string'?Drupal.theme('ajaxProgressMessage',message):'';var throbber='<div class="throbber">&nbsp;</div>';return "<div class=\"ajax-progress ajax-progress-throbber\">".concat(throbber).concat(messageMarkup,"</div>");};Drupal.theme.ajaxProgressIndicatorFullscreen=function(){return '<div class="ajax-progress ajax-progress-fullscreen">&nbsp;</div>';};Drupal.theme.ajaxProgressMessage=function(message){return "<div class=\"message\">".concat(message,"</div>");};Drupal.theme.ajaxProgressBar=function($element){return $('<div class="ajax-progress ajax-progress-bar"></div>').append($element);};Drupal.Ajax.prototype.setProgressIndicatorBar=function(){var progressBar=new Drupal.ProgressBar("ajax-progress-".concat(this.element.id),$.noop,this.progress.method,$.noop);if(this.progress.message){progressBar.setProgress(-1,this.progress.message);}
if(this.progress.url){progressBar.startMonitoring(this.progress.url,this.progress.interval||1500);}
this.progress.element=$(Drupal.theme('ajaxProgressBar',progressBar.element));this.progress.object=progressBar;$(this.element).after(this.progress.element);};Drupal.Ajax.prototype.setProgressIndicatorThrobber=function(){this.progress.element=$(Drupal.theme('ajaxProgressThrobber',this.progress.message));$(this.element).after(this.progress.element);};Drupal.Ajax.prototype.setProgressIndicatorFullscreen=function(){this.progress.element=$(Drupal.theme('ajaxProgressIndicatorFullscreen'));$('body').append(this.progress.element);};Drupal.Ajax.prototype.success=function(response,status){var _this=this;if(this.progress.element){$(this.progress.element).remove();}
if(this.progress.object){this.progress.object.stopMonitoring();}
$(this.element).prop('disabled',false);var elementParents=$(this.element).parents('[data-drupal-selector]').addBack().toArray();var focusChanged=false;Object.keys(response||{}).forEach(function(i){if(response[i].command&&_this.commands[response[i].command]){_this.commands[response[i].command](_this,response[i],status);if(response[i].command==='invoke'&&response[i].method==='focus'||response[i].command==='focusFirst'){focusChanged=true;}}});if(!focusChanged&&this.element&&!$(this.element).data('disable-refocus')){var target=false;for(var n=elementParents.length-1;!target&&n>=0;n--){target=document.querySelector("[data-drupal-selector=\"".concat(elementParents[n].getAttribute('data-drupal-selector'),"\"]"));}
if(target){$(target).trigger('focus');}}
if(this.$form&&document.body.contains(this.$form.get(0))){var settings=this.settings||drupalSettings;Drupal.attachBehaviors(this.$form.get(0),settings);}
this.settings=null;};Drupal.Ajax.prototype.getEffect=function(response){var type=response.effect||this.effect;var speed=response.speed||this.speed;var effect={};if(type==='none'){effect.showEffect='show';effect.hideEffect='hide';effect.showSpeed='';}else if(type==='fade'){effect.showEffect='fadeIn';effect.hideEffect='fadeOut';effect.showSpeed=speed;}else{effect.showEffect="".concat(type,"Toggle");effect.hideEffect="".concat(type,"Toggle");effect.showSpeed=speed;}
return effect;};Drupal.Ajax.prototype.error=function(xmlhttprequest,uri,customMessage){if(this.progress.element){$(this.progress.element).remove();}
if(this.progress.object){this.progress.object.stopMonitoring();}
$(this.wrapper).show();$(this.element).prop('disabled',false);if(this.$form&&document.body.contains(this.$form.get(0))){var settings=this.settings||drupalSettings;Drupal.attachBehaviors(this.$form.get(0),settings);}
throw new Drupal.AjaxError(xmlhttprequest,uri,customMessage);};Drupal.theme.ajaxWrapperNewContent=function($newContent,ajax,response){return(response.effect||ajax.effect)!=='none'&&$newContent.filter(function(i){return!($newContent[i].nodeName==='#comment'||$newContent[i].nodeName==='#text'&&/^(\s|\n|\r)*$/.test($newContent[i].textContent));}).length>1?Drupal.theme('ajaxWrapperMultipleRootElements',$newContent):$newContent;};Drupal.theme.ajaxWrapperMultipleRootElements=function($elements){return $('<div></div>').append($elements);};Drupal.AjaxCommands=function(){};Drupal.AjaxCommands.prototype={insert:function insert(ajax,response){var $wrapper=response.selector?$(response.selector):$(ajax.wrapper);var method=response.method||ajax.method;var effect=ajax.getEffect(response);var settings=response.settings||ajax.settings||drupalSettings;var $newContent=$($.parseHTML(response.data,document,true));$newContent=Drupal.theme('ajaxWrapperNewContent',$newContent,ajax,response);switch(method){case 'html':case 'replaceWith':case 'replaceAll':case 'empty':case 'remove':Drupal.detachBehaviors($wrapper.get(0),settings);break;default:break;}
$wrapper[method]($newContent);if(effect.showEffect!=='show'){$newContent.hide();}
var $ajaxNewContent=$newContent.find('.ajax-new-content');if($ajaxNewContent.length){$ajaxNewContent.hide();$newContent.show();$ajaxNewContent[effect.showEffect](effect.showSpeed);}else if(effect.showEffect!=='show'){$newContent[effect.showEffect](effect.showSpeed);}
if($newContent.parents('html').length){$newContent.each(function(index,element){if(element.nodeType===Node.ELEMENT_NODE){Drupal.attachBehaviors(element,settings);}});}},remove:function remove(ajax,response,status){var settings=response.settings||ajax.settings||drupalSettings;$(response.selector).each(function(){Drupal.detachBehaviors(this,settings);}).remove();},changed:function changed(ajax,response,status){var $element=$(response.selector);if(!$element.hasClass('ajax-changed')){$element.addClass('ajax-changed');if(response.asterisk){$element.find(response.asterisk).append(" <abbr class=\"ajax-changed\" title=\"".concat(Drupal.t('Changed'),"\">*</abbr> "));}}},alert:function alert(ajax,response,status){window.alert(response.text);},announce:function announce(ajax,response){if(response.priority){Drupal.announce(response.text,response.priority);}else{Drupal.announce(response.text);}},redirect:function redirect(ajax,response,status){window.location=response.url;},css:function css(ajax,response,status){$(response.selector).css(response.argument);},settings:function settings(ajax,response,status){var ajaxSettings=drupalSettings.ajax;if(ajaxSettings){Drupal.ajax.expired().forEach(function(instance){if(instance.selector){var selector=instance.selector.replace('#','');if(selector in ajaxSettings){delete ajaxSettings[selector];}}});}
if(response.merge){$.extend(true,drupalSettings,response.settings);}else{ajax.settings=response.settings;}},data:function data(ajax,response,status){$(response.selector).data(response.name,response.value);},focusFirst:function focusFirst(ajax,response,status){var focusChanged=false;var container=document.querySelector(response.selector);if(container){var tabbableElements=tabbable(container);if(tabbableElements.length){tabbableElements[0].focus();focusChanged=true;}else if(isFocusable(container)){container.focus();focusChanged=true;}}
if(ajax.hasOwnProperty('element')&&!focusChanged){ajax.element.focus();}},invoke:function invoke(ajax,response,status){var $element=$(response.selector);$element[response.method].apply($element,_toConsumableArray(response.args));},restripe:function restripe(ajax,response,status){$(response.selector).find('> tbody > tr:visible, > tr:visible').removeClass('odd even').filter(':even').addClass('odd').end().filter(':odd').addClass('even');},update_build_id:function update_build_id(ajax,response,status){document.querySelectorAll("input[name=\"form_build_id\"][value=\"".concat(response.old,"\"]")).forEach(function(item){item.value=response.new;});},add_css:function add_css(ajax,response,status){$('head').prepend(response.data);},message:function message(ajax,response){var messages=new Drupal.Message(document.querySelector(response.messageWrapperQuerySelector));if(response.clearPrevious){messages.clear();}
messages.add(response.message,response.messageOptions);}};})(jQuery,window,Drupal,drupalSettings,window.tabbable);;(function(Drupal){Drupal.theme.ajaxProgressBar=function($element){return $element.addClass('ajax-progress ajax-progress-bar');};})(Drupal);;+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),i=o.data("bs.affix"),r="object"==typeof e&&e;i||o.data("bs.affix",i=new n(this,r)),"string"==typeof e&&i[e]()})}var n=function(e,o){this.options=t.extend({},n.DEFAULTS,o),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.3.5",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(t,e,n,o){var i=this.$target.scrollTop(),r=this.$element.offset(),s=this.$target.height();if(null!=n&&"top"==this.affixed)return n>i?"top":!1;if("bottom"==this.affixed)return null!=n?i+this.unpin<=r.top?!1:"bottom":t-o>=i+s?!1:"bottom";var a=null==this.affixed,l=a?i:r.top,c=a?s:e;return null!=n&&n>=i?"top":null!=o&&l+c>=t-o?"bottom":!1},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},n.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),o=this.options.offset,i=o.top,r=o.bottom,s=Math.max(t(document).height(),t(document.body).height());"object"!=typeof o&&(r=i=o),"function"==typeof i&&(i=o.top(this.$element)),"function"==typeof r&&(r=o.bottom(this.$element));var a=this.getState(s,e,i,r);if(this.affixed!=a){null!=this.unpin&&this.$element.css("top","");var l="affix"+(a?"-"+a:""),c=t.Event(l+".bs.affix");if(this.$element.trigger(c),c.isDefaultPrevented())return;this.affixed=a,this.unpin="bottom"==a?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==a&&this.$element.offset({top:s-e-r})}};var o=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=n,t.fn.affix.noConflict=function(){return t.fn.affix=o,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var n=t(this),o=n.data();o.offset=o.offset||{},null!=o.offsetBottom&&(o.offset.bottom=o.offsetBottom),null!=o.offsetTop&&(o.offset.top=o.offsetTop),e.call(n,o)})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),i=n.data("bs.alert");i||n.data("bs.alert",i=new o(this)),"string"==typeof e&&i[e].call(n)})}var n='[data-dismiss="alert"]',o=function(e){t(e).on("click",n,this.close)};o.VERSION="3.3.5",o.TRANSITION_DURATION=150,o.prototype.close=function(e){function n(){s.detach().trigger("closed.bs.alert").remove()}var i=t(this),r=i.attr("data-target");r||(r=i.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));var s=t(r);e&&e.preventDefault(),s.length||(s=i.closest(".alert")),s.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(s.removeClass("in"),t.support.transition&&s.hasClass("fade")?s.one("bsTransitionEnd",n).emulateTransitionEnd(o.TRANSITION_DURATION):n())};var i=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=o,t.fn.alert.noConflict=function(){return t.fn.alert=i,this},t(document).on("click.bs.alert.data-api",n,o.prototype.close)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),i=o.data("bs.button"),r="object"==typeof e&&e;i||o.data("bs.button",i=new n(this,r)),"toggle"==e?i.toggle():e&&i.setState(e)})}var n=function(e,o){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,o),this.isLoading=!1};n.VERSION="3.3.5",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(e){var n="disabled",o=this.$element,i=o.is("input")?"val":"html",r=o.data();e+="Text",null==r.resetText&&o.data("resetText",o[i]()),setTimeout(t.proxy(function(){o[i](null==r[e]?this.options[e]:r[e]),"loadingText"==e?(this.isLoading=!0,o.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,o.removeClass(n).removeAttr(n))},this),0)},n.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),t&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var o=t.fn.button;t.fn.button=e,t.fn.button.Constructor=n,t.fn.button.noConflict=function(){return t.fn.button=o,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var o=t(n.target);o.hasClass("btn")||(o=o.closest(".btn")),e.call(o,"toggle"),t(n.target).is('input[type="radio"]')||t(n.target).is('input[type="checkbox"]')||n.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),i=o.data("bs.carousel"),r=t.extend({},n.DEFAULTS,o.data(),"object"==typeof e&&e),s="string"==typeof e?e:r.slide;i||o.data("bs.carousel",i=new n(this,r)),"number"==typeof e?i.to(e):s?i[s]():r.interval&&i.pause().cycle()})}var n=function(e,n){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};n.VERSION="3.3.5",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},n.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},n.prototype.getItemForDirection=function(t,e){var n=this.getItemIndex(e),o="prev"==t&&0===n||"next"==t&&n==this.$items.length-1;if(o&&!this.options.wrap)return e;var i="prev"==t?-1:1,r=(n+i)%this.$items.length;return this.$items.eq(r)},n.prototype.to=function(t){var e=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));return t>this.$items.length-1||0>t?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):n==t?this.pause().cycle():this.slide(t>n?"next":"prev",this.$items.eq(t))},n.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){return this.sliding?void 0:this.slide("next")},n.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},n.prototype.slide=function(e,o){var i=this.$element.find(".item.active"),r=o||this.getItemForDirection(e,i),s=this.interval,a="next"==e?"left":"right",l=this;if(r.hasClass("active"))return this.sliding=!1;var c=r[0],d=t.Event("slide.bs.carousel",{relatedTarget:c,direction:a});if(this.$element.trigger(d),!d.isDefaultPrevented()){if(this.sliding=!0,s&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var u=t(this.$indicators.children()[this.getItemIndex(r)]);u&&u.addClass("active")}var p=t.Event("slid.bs.carousel",{relatedTarget:c,direction:a});return t.support.transition&&this.$element.hasClass("slide")?(r.addClass(e),r[0].offsetWidth,i.addClass(a),r.addClass(a),i.one("bsTransitionEnd",function(){r.removeClass([e,a].join(" ")).addClass("active"),i.removeClass(["active",a].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(p)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(i.removeClass("active"),r.addClass("active"),this.sliding=!1,this.$element.trigger(p)),s&&this.cycle(),this}};var o=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=n,t.fn.carousel.noConflict=function(){return t.fn.carousel=o,this};var i=function(n){var o,i=t(this),r=t(i.attr("data-target")||(o=i.attr("href"))&&o.replace(/.*(?=#[^\s]+$)/,""));if(r.hasClass("carousel")){var s=t.extend({},r.data(),i.data()),a=i.attr("data-slide-to");a&&(s.interval=!1),e.call(r,s),a&&r.data("bs.carousel").to(a),n.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",i).on("click.bs.carousel.data-api","[data-slide-to]",i),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var n=t(this);e.call(n,n.data())})})}(jQuery),+function(t){"use strict";function e(e){var n,o=e.attr("data-target")||(n=e.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return t(o)}function n(e){return this.each(function(){var n=t(this),i=n.data("bs.collapse"),r=t.extend({},o.DEFAULTS,n.data(),"object"==typeof e&&e);!i&&r.toggle&&/show|hide/.test(e)&&(r.toggle=!1),i||n.data("bs.collapse",i=new o(this,r)),"string"==typeof e&&i[e]()})}var o=function(e,n){this.$element=t(e),this.options=t.extend({},o.DEFAULTS,n),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};o.VERSION="3.3.5",o.TRANSITION_DURATION=350,o.DEFAULTS={toggle:!0},o.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},o.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,i=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(i&&i.length&&(e=i.data("bs.collapse"),e&&e.transitioning))){var r=t.Event("show.bs.collapse");if(this.$element.trigger(r),!r.isDefaultPrevented()){i&&i.length&&(n.call(i,"hide"),e||i.data("bs.collapse",null));var s=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[s](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var a=function(){this.$element.removeClass("collapsing").addClass("collapse in")[s](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return a.call(this);var l=t.camelCase(["scroll",s].join("-"));this.$element.one("bsTransitionEnd",t.proxy(a,this)).emulateTransitionEnd(o.TRANSITION_DURATION)[s](this.$element[0][l])}}}},o.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return t.support.transition?void this.$element[n](0).one("bsTransitionEnd",t.proxy(i,this)).emulateTransitionEnd(o.TRANSITION_DURATION):i.call(this)}}},o.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},o.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(n,o){var i=t(o);this.addAriaAndCollapsedClass(e(i),i)},this)).end()},o.prototype.addAriaAndCollapsedClass=function(t,e){var n=t.hasClass("in");t.attr("aria-expanded",n),e.toggleClass("collapsed",!n).attr("aria-expanded",n)};var i=t.fn.collapse;t.fn.collapse=n,t.fn.collapse.Constructor=o,t.fn.collapse.noConflict=function(){return t.fn.collapse=i,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(o){var i=t(this);i.attr("data-target")||o.preventDefault();var r=e(i),s=r.data("bs.collapse"),a=s?"toggle":i.data();n.call(r,a)})}(jQuery),+function(t){"use strict";function e(e){var n=e.attr("data-target");n||(n=e.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var o=n&&t(n);return o&&o.length?o:e.parent()}function n(n){n&&3===n.which||(t(i).remove(),t(r).each(function(){var o=t(this),i=e(o),r={relatedTarget:this};i.hasClass("open")&&(n&&"click"==n.type&&/input|textarea/i.test(n.target.tagName)&&t.contains(i[0],n.target)||(i.trigger(n=t.Event("hide.bs.dropdown",r)),n.isDefaultPrevented()||(o.attr("aria-expanded","false"),i.removeClass("open").trigger("hidden.bs.dropdown",r))))}))}function o(e){return this.each(function(){var n=t(this),o=n.data("bs.dropdown");o||n.data("bs.dropdown",o=new s(this)),"string"==typeof e&&o[e].call(n)})}var i=".dropdown-backdrop",r='[data-toggle="dropdown"]',s=function(e){t(e).on("click.bs.dropdown",this.toggle)};s.VERSION="3.3.5",s.prototype.toggle=function(o){var i=t(this);if(!i.is(".disabled, :disabled")){var r=e(i),s=r.hasClass("open");if(n(),!s){"ontouchstart"in document.documentElement&&!r.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",n);var a={relatedTarget:this};if(r.trigger(o=t.Event("show.bs.dropdown",a)),o.isDefaultPrevented())return;i.trigger("focus").attr("aria-expanded","true"),r.toggleClass("open").trigger("shown.bs.dropdown",a)}return!1}},s.prototype.keydown=function(n){if(/(38|40|27|32)/.test(n.which)&&!/input|textarea/i.test(n.target.tagName)){var o=t(this);if(n.preventDefault(),n.stopPropagation(),!o.is(".disabled, :disabled")){var i=e(o),s=i.hasClass("open");if(!s&&27!=n.which||s&&27==n.which)return 27==n.which&&i.find(r).trigger("focus"),o.trigger("click");var a=" li:not(.disabled):visible a",l=i.find(".dropdown-menu"+a);if(l.length){var c=l.index(n.target);38==n.which&&c>0&&c--,40==n.which&&c<l.length-1&&c++,~c||(c=0),l.eq(c).trigger("focus")}}}};var a=t.fn.dropdown;t.fn.dropdown=o,t.fn.dropdown.Constructor=s,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=a,this},t(document).on("click.bs.dropdown.data-api",n).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",r,s.prototype.toggle).on("keydown.bs.dropdown.data-api",r,s.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",s.prototype.keydown)}(jQuery),+function(t){"use strict";function e(e,o){return this.each(function(){var i=t(this),r=i.data("bs.modal"),s=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e);r||i.data("bs.modal",r=new n(this,s)),"string"==typeof e?r[e](o):s.show&&r.show(o)})}var n=function(e,n){this.options=n,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.3.5",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},n.prototype.show=function(e){var o=this,i=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){o.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(o.$element)&&(o.ignoreBackdropClick=!0)})}),this.backdrop(function(){var i=t.support.transition&&o.$element.hasClass("fade");o.$element.parent().length||o.$element.appendTo(o.$body),o.$element.show().scrollTop(0),o.adjustDialog(),i&&o.$element[0].offsetWidth,o.$element.addClass("in"),o.enforceFocus();var r=t.Event("shown.bs.modal",{relatedTarget:e});i?o.$dialog.one("bsTransitionEnd",function(){o.$element.trigger("focus").trigger(r)}).emulateTransitionEnd(n.TRANSITION_DURATION):o.$element.trigger("focus").trigger(r)}))},n.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(e){var o=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=t.support.transition&&i;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+i).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;r?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var s=function(){o.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",s).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):s()}else e&&e()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},n.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var o=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=n,t.fn.modal.noConflict=function(){return t.fn.modal=o,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var o=t(this),i=o.attr("href"),r=t(o.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),s=r.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(i)&&i},r.data(),o.data());o.is("a")&&n.preventDefault(),r.one("show.bs.modal",function(t){t.isDefaultPrevented()||r.one("hidden.bs.modal",function(){o.is(":visible")&&o.trigger("focus")})}),e.call(r,s,this)})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),i=o.data("bs.tooltip"),r="object"==typeof e&&e;(i||!/destroy|hide/.test(e))&&(i||o.data("bs.tooltip",i=new n(this,r)),"string"==typeof e&&i[e]())})}var n=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};n.VERSION="3.3.5",n.TRANSITION_DURATION=150,n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(e,n,o){if(this.enabled=!0,this.type=e,this.$element=t(n),this.options=this.getOptions(o),this.$viewport=this.options.viewport&&t(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var i=this.options.trigger.split(" "),r=i.length;r--;){var s=i[r];if("click"==s)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=s){var a="hover"==s?"mouseenter":"focusin",l="hover"==s?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},n.prototype.getDelegateOptions=function(){var e={},n=this.getDefaults();return this._options&&t.each(this._options,function(t,o){n[t]!=o&&(e[t]=o)}),e},n.prototype.enter=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),e instanceof t.Event&&(n.inState["focusin"==e.type?"focus":"hover"]=!0),n.tip().hasClass("in")||"in"==n.hoverState?void(n.hoverState="in"):(clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show())},n.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},n.prototype.leave=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),e instanceof t.Event&&(n.inState["focusout"==e.type?"focus":"hover"]=!1),n.isInStateTrue()?void 0:(clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide())},n.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var o=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!o)return;var i=this,r=this.tip(),s=this.getUID(this.type);this.setContent(),r.attr("id",s),this.$element.attr("aria-describedby",s),this.options.animation&&r.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,c=l.test(a);c&&(a=a.replace(l,"")||"top"),r.detach().css({top:0,left:0,display:"block"}).addClass(a).data("bs."+this.type,this),this.options.container?r.appendTo(this.options.container):r.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var d=this.getPosition(),u=r[0].offsetWidth,p=r[0].offsetHeight;if(c){var h=a,f=this.getPosition(this.$viewport);a="bottom"==a&&d.bottom+p>f.bottom?"top":"top"==a&&d.top-p<f.top?"bottom":"right"==a&&d.right+u>f.width?"left":"left"==a&&d.left-u<f.left?"right":a,r.removeClass(h).addClass(a)}var m=this.getCalculatedOffset(a,d,u,p);this.applyPlacement(m,a);var v=function(){var t=i.hoverState;i.$element.trigger("shown.bs."+i.type),i.hoverState=null,"out"==t&&i.leave(i)};t.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",v).emulateTransitionEnd(n.TRANSITION_DURATION):v()}},n.prototype.applyPlacement=function(e,n){var o=this.tip(),i=o[0].offsetWidth,r=o[0].offsetHeight,s=parseInt(o.css("margin-top"),10),a=parseInt(o.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(a)&&(a=0),e.top+=s,e.left+=a,t.offset.setOffset(o[0],t.extend({using:function(t){o.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),o.addClass("in");var l=o[0].offsetWidth,c=o[0].offsetHeight;"top"==n&&c!=r&&(e.top=e.top+r-c);var d=this.getViewportAdjustedDelta(n,e,l,c);d.left?e.left+=d.left:e.top+=d.top;var u=/top|bottom/.test(n),p=u?2*d.left-i+l:2*d.top-r+c,h=u?"offsetWidth":"offsetHeight";o.offset(e),this.replaceArrow(p,o[0][h],u)},n.prototype.replaceArrow=function(t,e,n){this.arrow().css(n?"left":"top",50*(1-t/e)+"%").css(n?"top":"left","")},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},n.prototype.hide=function(e){function o(){"in"!=i.hoverState&&r.detach(),i.$element.removeAttr("aria-describedby").trigger("hidden.bs."+i.type),e&&e()}var i=this,r=t(this.$tip),s=t.Event("hide.bs."+this.type);return this.$element.trigger(s),s.isDefaultPrevented()?void 0:(r.removeClass("in"),t.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",o).emulateTransitionEnd(n.TRANSITION_DURATION):o(),this.hoverState=null,this)},n.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(e){e=e||this.$element;var n=e[0],o="BODY"==n.tagName,i=n.getBoundingClientRect();null==i.width&&(i=t.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var r=o?{top:0,left:0}:e.offset(),s={scroll:o?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},a=o?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},i,s,a,r)},n.prototype.getCalculatedOffset=function(t,e,n,o){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-o,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-o/2,left:e.left-n}:{top:e.top+e.height/2-o/2,left:e.left+e.width}},n.prototype.getViewportAdjustedDelta=function(t,e,n,o){var i={top:0,left:0};if(!this.$viewport)return i;var r=this.options.viewport&&this.options.viewport.padding||0,s=this.getPosition(this.$viewport);if(/right|left/.test(t)){var a=e.top-r-s.scroll,l=e.top+r-s.scroll+o;a<s.top?i.top=s.top-a:l>s.top+s.height&&(i.top=s.top+s.height-l)}else{var c=e.left-r,d=e.left+r+n;c<s.left?i.left=s.left-c:d>s.right&&(i.left=s.left+s.width-d)}return i},n.prototype.getTitle=function(){var t,e=this.$element,n=this.options;return t=e.attr("data-original-title")||("function"==typeof n.title?n.title.call(e[0]):n.title)},n.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},n.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(e){var n=this;e&&(n=t(e.currentTarget).data("bs."+this.type),n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n))),e?(n.inState.click=!n.inState.click,n.isInStateTrue()?n.enter(n):n.leave(n)):n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null})};var o=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=n,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=o,this}}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),i=o.data("bs.popover"),r="object"==typeof e&&e;(i||!/destroy|hide/.test(e))&&(i||o.data("bs.popover",i=new n(this,r)),"string"==typeof e&&i[e]())})}var n=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.3.5",n.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var o=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=n,t.fn.popover.noConflict=function(){return t.fn.popover=o,this}}(jQuery),+function(t){"use strict";function e(n,o){this.$body=t(document.body),this.$scrollElement=t(t(n).is(document.body)?window:n),this.options=t.extend({},e.DEFAULTS,o),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function n(n){return this.each(function(){var o=t(this),i=o.data("bs.scrollspy"),r="object"==typeof n&&n;i||o.data("bs.scrollspy",i=new e(this,r)),"string"==typeof n&&i[n]()})}e.VERSION="3.3.5",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e=this,n="offset",o=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(n="position",o=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=t(this),i=e.data("target")||e.attr("href"),r=/^#./.test(i)&&t(i);return r&&r.length&&r.is(":visible")&&[[r[n]().top+o,i]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),o=this.options.offset+n-this.$scrollElement.height(),i=this.offsets,r=this.targets,s=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),e>=o)return s!=(t=r[r.length-1])&&this.activate(t);if(s&&e<i[0])return this.activeTarget=null,this.clear();for(t=i.length;t--;)s!=r[t]&&e>=i[t]&&(void 0===i[t+1]||e<i[t+1])&&this.activate(r[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var n=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',o=t(n).parents("li").addClass("active");o.parent(".dropdown-menu").length&&(o=o.closest("li.dropdown").addClass("active")),o.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var o=t.fn.scrollspy;t.fn.scrollspy=n,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=o,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);n.call(e,e.data())})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),i=o.data("bs.tab");i||o.data("bs.tab",i=new n(this)),"string"==typeof e&&i[e]()})}var n=function(e){this.element=t(e)};n.VERSION="3.3.5",n.TRANSITION_DURATION=150,n.prototype.show=function(){var e=this.element,n=e.closest("ul:not(.dropdown-menu)"),o=e.data("target");if(o||(o=e.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var i=n.find(".active:last a"),r=t.Event("hide.bs.tab",{relatedTarget:e[0]}),s=t.Event("show.bs.tab",{relatedTarget:i[0]});if(i.trigger(r),e.trigger(s),!s.isDefaultPrevented()&&!r.isDefaultPrevented()){var a=t(o);this.activate(e.closest("li"),n),this.activate(a,a.parent(),function(){i.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:i[0]})})}}},n.prototype.activate=function(e,o,i){function r(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),a?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),i&&i()}var s=o.find("> .active"),a=i&&t.support.transition&&(s.length&&s.hasClass("fade")||!!o.find("> .fade").length);s.length&&a?s.one("bsTransitionEnd",r).emulateTransitionEnd(n.TRANSITION_DURATION):r(),s.removeClass("in")};var o=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=n,t.fn.tab.noConflict=function(){return t.fn.tab=o,this};var i=function(n){n.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',i).on("click.bs.tab.data-api",'[data-toggle="pill"]',i)}(jQuery),+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}t.fn.emulateTransitionEnd=function(e){var n=!1,o=this;t(this).one("bsTransitionEnd",function(){n=!0});var i=function(){n||t(o).trigger(t.support.transition.end)};return setTimeout(i,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.PhotoSwipe=e()}(this,function(){"use strict";var t=function(t,e,n,o){var i={features:null,bind:function(t,e,n,o){var i=(o?"remove":"add")+"EventListener";e=e.split(" ");for(var r=0;r<e.length;r++)e[r]&&t[i](e[r],n,!1)},isArray:function(t){return t instanceof Array},createEl:function(t,e){var n=document.createElement(e||"div");return t&&(n.className=t),n},getScrollY:function(){var t=window.pageYOffset;return void 0!==t?t:document.documentElement.scrollTop},unbind:function(t,e,n){i.bind(t,e,n,!0)},removeClass:function(t,e){var n=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(n," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(t,e){i.hasClass(t,e)||(t.className+=(t.className?" ":"")+e)},hasClass:function(t,e){return t.className&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(t.className)},getChildByClass:function(t,e){for(var n=t.firstChild;n;){if(i.hasClass(n,e))return n;n=n.nextSibling}},arraySearch:function(t,e,n){for(var o=t.length;o--;)if(t[o][n]===e)return o;return-1},extend:function(t,e,n){for(var o in e)if(e.hasOwnProperty(o)){if(n&&t.hasOwnProperty(o))continue;t[o]=e[o]}},easing:{sine:{out:function(t){return Math.sin(t*(Math.PI/2))},inOut:function(t){return-(Math.cos(Math.PI*t)-1)/2}},cubic:{out:function(t){return--t*t*t+1}}},detectFeatures:function(){if(i.features)return i.features;var t=i.createEl(),e=t.style,n="",o={};if(o.oldIE=document.all&&!document.addEventListener,o.touch="ontouchstart"in window,window.requestAnimationFrame&&(o.raf=window.requestAnimationFrame,o.caf=window.cancelAnimationFrame),o.pointerEvent=navigator.pointerEnabled||navigator.msPointerEnabled,!o.pointerEvent){var r=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var s=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);s&&s.length>0&&(s=parseInt(s[1],10),s>=1&&8>s&&(o.isOldIOSPhone=!0))}var a=r.match(/Android\s([0-9\.]*)/),l=a?a[1]:0;l=parseFloat(l),l>=1&&(4.4>l&&(o.isOldAndroid=!0),o.androidVersion=l),o.isMobileOpera=/opera mini|opera mobi/i.test(r)}for(var c,d,u=["transform","perspective","animationName"],p=["","webkit","Moz","ms","O"],h=0;4>h;h++){n=p[h];for(var f=0;3>f;f++)c=u[f],d=n+(n?c.charAt(0).toUpperCase()+c.slice(1):c),!o[c]&&d in e&&(o[c]=d);n&&!o.raf&&(n=n.toLowerCase(),o.raf=window[n+"RequestAnimationFrame"],o.raf&&(o.caf=window[n+"CancelAnimationFrame"]||window[n+"CancelRequestAnimationFrame"]))}if(!o.raf){var m=0;o.raf=function(t){var e=(new Date).getTime(),n=Math.max(0,16-(e-m)),o=window.setTimeout(function(){t(e+n)},n);return m=e+n,o},o.caf=function(t){clearTimeout(t)}}return o.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,i.features=o,o}};i.detectFeatures(),i.features.oldIE&&(i.bind=function(t,e,n,o){e=e.split(" ");for(var i,r=(o?"detach":"attach")+"Event",s=function(){n.handleEvent.call(n)},a=0;a<e.length;a++)if(i=e[a])if("object"==typeof n&&n.handleEvent){if(o){if(!n["oldIE"+i])return!1}else n["oldIE"+i]=s;t[r]("on"+i,n["oldIE"+i])}else t[r]("on"+i,n)});var r=this,s=25,a=3,l={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(t){return"A"===t.tagName},getDoubleTapZoom:function(t,e){return t?1:e.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit",alwaysFadeIn:!1};i.extend(l,o);var c,d,u,p,h,f,m,v,g,y,w,b,x,T,C,E,S,I,D,k,$,A,O,N,L,M,R,_,F,P,U,H,j,q,z,W,Z,B,K,V,Y,G,Q,X,J,tt,et,nt,ot,it,rt,st,at,lt,ct,dt,ut=function(){return{x:0,y:0}},pt=ut(),ht=ut(),ft=ut(),mt={},vt=0,gt={},yt=ut(),wt=0,bt=!0,xt=[],Tt={},Ct=!1,Et=function(t,e){i.extend(r,e.publicMethods),xt.push(t)},St=function(t){var e=Je();return t>e-1?t-e:0>t?e+t:t},It={},Dt=function(t,e){return It[t]||(It[t]=[]),It[t].push(e)},kt=function(t){var e=It[t];if(e){var n=Array.prototype.slice.call(arguments);n.shift();for(var o=0;o<e.length;o++)e[o].apply(r,n)}},$t=function(){return(new Date).getTime()},At=function(t){lt=t,r.bg.style.opacity=t*l.bgOpacity},Ot=function(t,e,n,o,i){(!Ct||i&&i!==r.currItem)&&(o/=i?i.fitRatio:r.currItem.fitRatio),t[A]=b+e+"px, "+n+"px"+x+" scale("+o+")"},Nt=function(t){ot&&(t&&(y>r.currItem.fitRatio?Ct||(pn(r.currItem,!1,!0),Ct=!0):Ct&&(pn(r.currItem),Ct=!1)),Ot(ot,ft.x,ft.y,y))},Lt=function(t){t.container&&Ot(t.container.style,t.initialPosition.x,t.initialPosition.y,t.initialZoomLevel,t)},Mt=function(t,e){e[A]=b+t+"px, 0px"+x},Rt=function(t,e){if(!l.loop&&e){var n=p+(yt.x*vt-t)/yt.x,o=Math.round(t-ye.x);(0>n&&o>0||n>=Je()-1&&0>o)&&(t=ye.x+o*l.mainScrollEndFriction)}ye.x=t,Mt(t,h)},_t=function(t,e){var n=we[t]-gt[t];return ht[t]+pt[t]+n-n*(e/w)},Ft=function(t,e){t.x=e.x,t.y=e.y,e.id&&(t.id=e.id)},Pt=function(t){t.x=Math.round(t.x),t.y=Math.round(t.y)},Ut=null,Ht=function(){Ut&&(i.unbind(document,"mousemove",Ht),i.addClass(t,"pswp--has_mouse"),l.mouseUsed=!0,kt("mouseUsed")),Ut=setTimeout(function(){Ut=null},100)},jt=function(){i.bind(document,"keydown",r),U.transform&&i.bind(r.scrollWrap,"click",r),l.mouseUsed||i.bind(document,"mousemove",Ht),i.bind(window,"resize scroll",r),kt("bindEvents")},qt=function(){i.unbind(window,"resize",r),i.unbind(window,"scroll",g.scroll),i.unbind(document,"keydown",r),i.unbind(document,"mousemove",Ht),U.transform&&i.unbind(r.scrollWrap,"click",r),B&&i.unbind(window,m,r),kt("unbindEvents")},zt=function(t,e){var n=ln(r.currItem,mt,t);return e&&(nt=n),n},Wt=function(t){return t||(t=r.currItem),t.initialZoomLevel},Zt=function(t){return t||(t=r.currItem),t.w>0?l.maxSpreadZoom:1},Bt=function(t,e,n,o){return o===r.currItem.initialZoomLevel?(n[t]=r.currItem.initialPosition[t],!0):(n[t]=_t(t,o),n[t]>e.min[t]?(n[t]=e.min[t],!0):n[t]<e.max[t]?(n[t]=e.max[t],!0):!1)},Kt=function(){if(A){var e=U.perspective&&!N;return b="translate"+(e?"3d(":"("),void(x=U.perspective?", 0px)":")")}A="left",i.addClass(t,"pswp--ie"),Mt=function(t,e){e.left=t+"px"},Lt=function(t){var e=t.fitRatio>1?1:t.fitRatio,n=t.container.style,o=e*t.w,i=e*t.h;n.width=o+"px",n.height=i+"px",n.left=t.initialPosition.x+"px",n.top=t.initialPosition.y+"px"},Nt=function(){if(ot){var t=ot,e=r.currItem,n=e.fitRatio>1?1:e.fitRatio,o=n*e.w,i=n*e.h;t.width=o+"px",t.height=i+"px",t.left=ft.x+"px",t.top=ft.y+"px"}}},Vt=function(t){var e="";l.escKey&&27===t.keyCode?e="close":l.arrowKeys&&(37===t.keyCode?e="prev":39===t.keyCode&&(e="next")),e&&(t.ctrlKey||t.altKey||t.shiftKey||t.metaKey||(t.preventDefault?t.preventDefault():t.returnValue=!1,r[e]()))},Yt=function(t){t&&(Y||V||it||W)&&(t.preventDefault(),t.stopPropagation())},Gt=function(){r.setScrollOffset(0,i.getScrollY())},Qt={},Xt=0,Jt=function(t){Qt[t]&&(Qt[t].raf&&M(Qt[t].raf),Xt--,delete Qt[t])},te=function(t){Qt[t]&&Jt(t),Qt[t]||(Xt++,Qt[t]={})},ee=function(){for(var t in Qt)Qt.hasOwnProperty(t)&&Jt(t)},ne=function(t,e,n,o,i,r,s){var a,l=$t();te(t);var c=function(){if(Qt[t]){if(a=$t()-l,a>=o)return Jt(t),r(n),void(s&&s());r((n-e)*i(a/o)+e),Qt[t].raf=L(c)}};c()},oe={shout:kt,listen:Dt,viewportSize:mt,options:l,isMainScrollAnimating:function(){return it},getZoomLevel:function(){return y},getCurrentIndex:function(){return p},isDragging:function(){return B},isZooming:function(){return J},setScrollOffset:function(t,e){gt.x=t,P=gt.y=e,kt("updateScrollOffset",gt)},applyZoomPan:function(t,e,n,o){ft.x=e,ft.y=n,y=t,Nt(o)},init:function(){if(!c&&!d){var n;r.framework=i,r.template=t,r.bg=i.getChildByClass(t,"pswp__bg"),R=t.className,c=!0,U=i.detectFeatures(),L=U.raf,M=U.caf,A=U.transform,F=U.oldIE,r.scrollWrap=i.getChildByClass(t,"pswp__scroll-wrap"),r.container=i.getChildByClass(r.scrollWrap,"pswp__container"),h=r.container.style,r.itemHolders=E=[{el:r.container.children[0],wrap:0,index:-1},{el:r.container.children[1],wrap:0,index:-1},{el:r.container.children[2],wrap:0,index:-1}],E[0].el.style.display=E[2].el.style.display="none",Kt(),g={resize:r.updateSize,scroll:Gt,keydown:Vt,click:Yt};var o=U.isOldIOSPhone||U.isOldAndroid||U.isMobileOpera;for(U.animationName&&U.transform&&!o||(l.showAnimationDuration=l.hideAnimationDuration=0),n=0;n<xt.length;n++)r["init"+xt[n]]();if(e){var s=r.ui=new e(r,i);s.init()}kt("firstUpdate"),p=p||l.index||0,(isNaN(p)||0>p||p>=Je())&&(p=0),r.currItem=Xe(p),(U.isOldIOSPhone||U.isOldAndroid)&&(bt=!1),t.setAttribute("aria-hidden","false"),l.modal&&(bt?t.style.position="fixed":(t.style.position="absolute",t.style.top=i.getScrollY()+"px")),void 0===P&&(kt("initialLayout"),P=_=i.getScrollY());var u="pswp--open ";for(l.mainClass&&(u+=l.mainClass+" "),l.showHideOpacity&&(u+="pswp--animate_opacity "),u+=N?"pswp--touch":"pswp--notouch",u+=U.animationName?" pswp--css_animation":"",u+=U.svg?" pswp--svg":"",i.addClass(t,u),r.updateSize(),f=-1,wt=null,n=0;a>n;n++)Mt((n+f)*yt.x,E[n].el.style);F||i.bind(r.scrollWrap,v,r),Dt("initialZoomInEnd",function(){r.setContent(E[0],p-1),r.setContent(E[2],p+1),E[0].el.style.display=E[2].el.style.display="block",l.focus&&t.focus(),jt()}),r.setContent(E[1],p),r.updateCurrItem(),kt("afterInit"),bt||(T=setInterval(function(){Xt||B||J||y!==r.currItem.initialZoomLevel||r.updateSize()},1e3)),i.addClass(t,"pswp--visible")}},close:function(){c&&(c=!1,d=!0,kt("close"),qt(),en(r.currItem,null,!0,r.destroy))},destroy:function(){kt("destroy"),Ve&&clearTimeout(Ve),t.setAttribute("aria-hidden","true"),t.className=R,T&&clearInterval(T),i.unbind(r.scrollWrap,v,r),i.unbind(window,"scroll",r),Ee(),ee(),It=null},panTo:function(t,e,n){n||(t>nt.min.x?t=nt.min.x:t<nt.max.x&&(t=nt.max.x),e>nt.min.y?e=nt.min.y:e<nt.max.y&&(e=nt.max.y)),ft.x=t,ft.y=e,Nt()},handleEvent:function(t){t=t||window.event,g[t.type]&&g[t.type](t)},goTo:function(t){t=St(t);var e=t-p;wt=e,p=t,r.currItem=Xe(p),vt-=e,Rt(yt.x*vt),ee(),it=!1,r.updateCurrItem()},next:function(){r.goTo(p+1)},prev:function(){r.goTo(p-1)},updateCurrZoomItem:function(t){if(t&&kt("beforeChange",0),E[1].el.children.length){var e=E[1].el.children[0];ot=i.hasClass(e,"pswp__zoom-wrap")?e.style:null}else ot=null;nt=r.currItem.bounds,w=y=r.currItem.initialZoomLevel,ft.x=nt.center.x,ft.y=nt.center.y,t&&kt("afterChange")},invalidateCurrItems:function(){C=!0;for(var t=0;a>t;t++)E[t].item&&(E[t].item.needsUpdate=!0)},updateCurrItem:function(t){if(0!==wt){var e,n=Math.abs(wt);if(!(t&&2>n)){r.currItem=Xe(p),Ct=!1,kt("beforeChange",wt),n>=a&&(f+=wt+(wt>0?-a:a),n=a);for(var o=0;n>o;o++)wt>0?(e=E.shift(),E[a-1]=e,f++,Mt((f+2)*yt.x,e.el.style),r.setContent(e,p-n+o+1+1)):(e=E.pop(),E.unshift(e),f--,Mt(f*yt.x,e.el.style),r.setContent(e,p+n-o-1-1));if(ot&&1===Math.abs(wt)){var i=Xe(S);i.initialZoomLevel!==y&&(ln(i,mt),pn(i),Lt(i))}wt=0,r.updateCurrZoomItem(),S=p,kt("afterChange")}}},updateSize:function(e){if(!bt&&l.modal){var n=i.getScrollY();if(P!==n&&(t.style.top=n+"px",P=n),!e&&Tt.x===window.innerWidth&&Tt.y===window.innerHeight)return;Tt.x=window.innerWidth,Tt.y=window.innerHeight,t.style.height=Tt.y+"px"}if(mt.x=r.scrollWrap.clientWidth,mt.y=r.scrollWrap.clientHeight,Gt(),yt.x=mt.x+Math.round(mt.x*l.spacing),yt.y=mt.y,Rt(yt.x*vt),kt("beforeResize"),void 0!==f){for(var o,s,c,d=0;a>d;d++)o=E[d],Mt((d+f)*yt.x,o.el.style),c=p+d-1,l.loop&&Je()>2&&(c=St(c)),s=Xe(c),s&&(C||s.needsUpdate||!s.bounds)?(r.cleanSlide(s),r.setContent(o,c),1===d&&(r.currItem=s,r.updateCurrZoomItem(!0)),s.needsUpdate=!1):-1===o.index&&c>=0&&r.setContent(o,c),s&&s.container&&(ln(s,mt),pn(s),Lt(s));C=!1}w=y=r.currItem.initialZoomLevel,nt=r.currItem.bounds,nt&&(ft.x=nt.center.x,ft.y=nt.center.y,Nt(!0)),kt("resize")},zoomTo:function(t,e,n,o,r){e&&(w=y,we.x=Math.abs(e.x)-ft.x,we.y=Math.abs(e.y)-ft.y,Ft(ht,ft));var s=zt(t,!1),a={};Bt("x",s,a,t),Bt("y",s,a,t);var l=y,c={x:ft.x,y:ft.y};Pt(a);var d=function(e){1===e?(y=t,ft.x=a.x,ft.y=a.y):(y=(t-l)*e+l,ft.x=(a.x-c.x)*e+c.x,ft.y=(a.y-c.y)*e+c.y),r&&r(e),Nt(1===e)};n?ne("customZoomTo",0,1,n,o||i.easing.sine.inOut,d):d(1)}},ie=30,re=10,se={},ae={},le={},ce={},de={},ue=[],pe={},he=[],fe={},me=0,ve=ut(),ge=0,ye=ut(),we=ut(),be=ut(),xe=function(t,e){return t.x===e.x&&t.y===e.y},Te=function(t,e){return Math.abs(t.x-e.x)<s&&Math.abs(t.y-e.y)<s},Ce=function(t,e){return fe.x=Math.abs(t.x-e.x),fe.y=Math.abs(t.y-e.y),Math.sqrt(fe.x*fe.x+fe.y*fe.y)},Ee=function(){G&&(M(G),G=null)},Se=function(){B&&(G=L(Se),je())},Ie=function(){return!("fit"===l.scaleMode&&y===r.currItem.initialZoomLevel)},De=function(t,e){return t?t.className&&t.className.indexOf("pswp__scroll-wrap")>-1?!1:e(t)?t:De(t.parentNode,e):!1},ke={},$e=function(t,e){return ke.prevent=!De(t.target,l.isClickableElement),kt("preventDragEvent",t,e,ke),ke.prevent},Ae=function(t,e){return e.x=t.pageX,e.y=t.pageY,e.id=t.identifier,e},Oe=function(t,e,n){n.x=.5*(t.x+e.x),n.y=.5*(t.y+e.y)},Ne=function(t,e,n){if(t-j>50){var o=he.length>2?he.shift():{};o.x=e,o.y=n,he.push(o),j=t}},Le=function(){var t=ft.y-r.currItem.initialPosition.y;return 1-Math.abs(t/(mt.y/2))},Me={},Re={},_e=[],Fe=function(t){for(;_e.length>0;)_e.pop();return O?(dt=0,ue.forEach(function(t){0===dt?_e[0]=t:1===dt&&(_e[1]=t),dt++})):t.type.indexOf("touch")>-1?t.touches&&t.touches.length>0&&(_e[0]=Ae(t.touches[0],Me),t.touches.length>1&&(_e[1]=Ae(t.touches[1],Re))):(Me.x=t.pageX,Me.y=t.pageY,Me.id="",_e[0]=Me),_e},Pe=function(t,e){var n,o,i,s,a=0,c=ft[t]+e[t],d=e[t]>0,u=ye.x+e.x,p=ye.x-pe.x;return n=c>nt.min[t]||c<nt.max[t]?l.panEndFriction:1,c=ft[t]+e[t]*n,!l.allowPanToNext&&y!==r.currItem.initialZoomLevel||(ot?"h"!==rt||"x"!==t||V||(d?(c>nt.min[t]&&(n=l.panEndFriction,a=nt.min[t]-c,o=nt.min[t]-ht[t]),(0>=o||0>p)&&Je()>1?(s=u,0>p&&u>pe.x&&(s=pe.x)):nt.min.x!==nt.max.x&&(i=c)):(c<nt.max[t]&&(n=l.panEndFriction,a=c-nt.max[t],o=ht[t]-nt.max[t]),(0>=o||p>0)&&Je()>1?(s=u,p>0&&u<pe.x&&(s=pe.x)):nt.min.x!==nt.max.x&&(i=c))):s=u,"x"!==t)?void(it||Q||y>r.currItem.fitRatio&&(ft[t]+=e[t]*n)):(void 0!==s&&(Rt(s,!0),Q=s===pe.x?!1:!0),nt.min.x!==nt.max.x&&(void 0!==i?ft.x=i:Q||(ft.x+=e.x*n)),void 0!==s)},Ue=function(t){if(!("mousedown"===t.type&&t.button>0)){if(Qe)return void t.preventDefault();if(!Z||"mousedown"!==t.type){if($e(t,!0)&&t.preventDefault(),kt("pointerDown"),O){var e=i.arraySearch(ue,t.pointerId,"id");0>e&&(e=ue.length),ue[e]={x:t.pageX,y:t.pageY,id:t.pointerId}}var n=Fe(t),o=n.length;X=null,ee(),B&&1!==o||(B=st=!0,i.bind(window,m,r),z=ct=at=W=Q=Y=K=V=!1,rt=null,kt("firstTouchStart",n),Ft(ht,ft),pt.x=pt.y=0,Ft(ce,n[0]),Ft(de,ce),pe.x=yt.x*vt,he=[{x:ce.x,y:ce.y}],j=H=$t(),zt(y,!0),Ee(),Se()),!J&&o>1&&!it&&!Q&&(w=y,V=!1,J=K=!0,pt.y=pt.x=0,Ft(ht,ft),Ft(se,n[0]),Ft(ae,n[1]),Oe(se,ae,be),we.x=Math.abs(be.x)-ft.x,we.y=Math.abs(be.y)-ft.y,tt=et=Ce(se,ae))}}},He=function(t){if(t.preventDefault(),O){var e=i.arraySearch(ue,t.pointerId,"id");if(e>-1){var n=ue[e];n.x=t.pageX,n.y=t.pageY}}if(B){var o=Fe(t);if(rt||Y||J)X=o;else if(ye.x!==yt.x*vt)rt="h";else{var r=Math.abs(o[0].x-ce.x)-Math.abs(o[0].y-ce.y);Math.abs(r)>=re&&(rt=r>0?"h":"v",X=o)}}},je=function(){if(X){var t=X.length;if(0!==t)if(Ft(se,X[0]),le.x=se.x-ce.x,le.y=se.y-ce.y,J&&t>1){if(ce.x=se.x,ce.y=se.y,!le.x&&!le.y&&xe(X[1],ae))return;Ft(ae,X[1]),V||(V=!0,kt("zoomGestureStarted"));var e=Ce(se,ae),n=Be(e);n>r.currItem.initialZoomLevel+r.currItem.initialZoomLevel/15&&(ct=!0);var o=1,i=Wt(),s=Zt();if(i>n)if(l.pinchToClose&&!ct&&w<=r.currItem.initialZoomLevel){var a=i-n,c=1-a/(i/1.2);At(c),kt("onPinchClose",c),at=!0}else o=(i-n)/i,o>1&&(o=1),n=i-o*(i/3);else n>s&&(o=(n-s)/(6*i),o>1&&(o=1),n=s+o*i);0>o&&(o=0),tt=e,Oe(se,ae,ve),pt.x+=ve.x-be.x,pt.y+=ve.y-be.y,Ft(be,ve),ft.x=_t("x",n),ft.y=_t("y",n),z=n>y,y=n,Nt()}else{if(!rt)return;if(st&&(st=!1,Math.abs(le.x)>=re&&(le.x-=X[0].x-de.x),Math.abs(le.y)>=re&&(le.y-=X[0].y-de.y)),ce.x=se.x,ce.y=se.y,0===le.x&&0===le.y)return;if("v"===rt&&l.closeOnVerticalDrag&&!Ie()){pt.y+=le.y,ft.y+=le.y;var d=Le();return W=!0,kt("onVerticalDrag",d),At(d),void Nt()}Ne($t(),se.x,se.y),Y=!0,nt=r.currItem.bounds;var u=Pe("x",le);u||(Pe("y",le),Pt(ft),Nt())}}},qe=function(t){if(U.isOldAndroid){if(Z&&"mouseup"===t.type)return;t.type.indexOf("touch")>-1&&(clearTimeout(Z),Z=setTimeout(function(){Z=0},600))}kt("pointerUp"),$e(t,!1)&&t.preventDefault();var e;if(O){var n=i.arraySearch(ue,t.pointerId,"id");if(n>-1)if(e=ue.splice(n,1)[0],navigator.pointerEnabled)e.type=t.pointerType||"mouse";else{var o={4:"mouse",2:"touch",3:"pen"};e.type=o[t.pointerType],e.type||(e.type=t.pointerType||"mouse")}}var s,a=Fe(t),c=a.length;if("mouseup"===t.type&&(c=0),2===c)return X=null,!0;1===c&&Ft(de,a[0]),0!==c||rt||it||(e||("mouseup"===t.type?e={x:t.pageX,y:t.pageY,type:"mouse"}:t.changedTouches&&t.changedTouches[0]&&(e={x:t.changedTouches[0].pageX,y:t.changedTouches[0].pageY,type:"touch"})),kt("touchRelease",t,e));var d=-1;if(0===c&&(B=!1,i.unbind(window,m,r),Ee(),J?d=0:-1!==ge&&(d=$t()-ge)),ge=1===c?$t():-1,s=-1!==d&&150>d?"zoom":"swipe",J&&2>c&&(J=!1,1===c&&(s="zoomPointerUp"),kt("zoomGestureEnded")),X=null,Y||V||it||W)if(ee(),q||(q=ze()),q.calculateSwipeSpeed("x"),W){var u=Le();if(u<l.verticalDragRange)r.close();else{var p=ft.y,h=lt;ne("verticalDrag",0,1,300,i.easing.cubic.out,function(t){ft.y=(r.currItem.initialPosition.y-p)*t+p,At((1-h)*t+h),Nt()}),kt("onVerticalDrag",1)}}else{if((Q||it)&&0===c){var f=Ze(s,q);if(f)return;s="zoomPointerUp"}if(!it)return"swipe"!==s?void Ke():void(!Q&&y>r.currItem.fitRatio&&We(q))}},ze=function(){var t,e,n={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(o){he.length>1?(t=$t()-j+50,e=he[he.length-2][o]):(t=$t()-H,e=de[o]),n.lastFlickOffset[o]=ce[o]-e,n.lastFlickDist[o]=Math.abs(n.lastFlickOffset[o]),n.lastFlickSpeed[o]=n.lastFlickDist[o]>20?n.lastFlickOffset[o]/t:0,Math.abs(n.lastFlickSpeed[o])<.1&&(n.lastFlickSpeed[o]=0),n.slowDownRatio[o]=.95,n.slowDownRatioReverse[o]=1-n.slowDownRatio[o],n.speedDecelerationRatio[o]=1},calculateOverBoundsAnimOffset:function(t,e){n.backAnimStarted[t]||(ft[t]>nt.min[t]?n.backAnimDestination[t]=nt.min[t]:ft[t]<nt.max[t]&&(n.backAnimDestination[t]=nt.max[t]),void 0!==n.backAnimDestination[t]&&(n.slowDownRatio[t]=.7,n.slowDownRatioReverse[t]=1-n.slowDownRatio[t],n.speedDecelerationRatioAbs[t]<.05&&(n.lastFlickSpeed[t]=0,n.backAnimStarted[t]=!0,ne("bounceZoomPan"+t,ft[t],n.backAnimDestination[t],e||300,i.easing.sine.out,function(e){ft[t]=e,Nt()}))))},calculateAnimOffset:function(t){n.backAnimStarted[t]||(n.speedDecelerationRatio[t]=n.speedDecelerationRatio[t]*(n.slowDownRatio[t]+n.slowDownRatioReverse[t]-n.slowDownRatioReverse[t]*n.timeDiff/10),n.speedDecelerationRatioAbs[t]=Math.abs(n.lastFlickSpeed[t]*n.speedDecelerationRatio[t]),n.distanceOffset[t]=n.lastFlickSpeed[t]*n.speedDecelerationRatio[t]*n.timeDiff,ft[t]+=n.distanceOffset[t])},panAnimLoop:function(){return Qt.zoomPan&&(Qt.zoomPan.raf=L(n.panAnimLoop),n.now=$t(),n.timeDiff=n.now-n.lastNow,n.lastNow=n.now,n.calculateAnimOffset("x"),n.calculateAnimOffset("y"),Nt(),n.calculateOverBoundsAnimOffset("x"),n.calculateOverBoundsAnimOffset("y"),n.speedDecelerationRatioAbs.x<.05&&n.speedDecelerationRatioAbs.y<.05)?(ft.x=Math.round(ft.x),ft.y=Math.round(ft.y),Nt(),void Jt("zoomPan")):void 0}};return n},We=function(t){return t.calculateSwipeSpeed("y"),nt=r.currItem.bounds,t.backAnimDestination={},t.backAnimStarted={},Math.abs(t.lastFlickSpeed.x)<=.05&&Math.abs(t.lastFlickSpeed.y)<=.05?(t.speedDecelerationRatioAbs.x=t.speedDecelerationRatioAbs.y=0,t.calculateOverBoundsAnimOffset("x"),t.calculateOverBoundsAnimOffset("y"),!0):(te("zoomPan"),t.lastNow=$t(),void t.panAnimLoop())},Ze=function(t,e){var n;it||(me=p);var o;if("swipe"===t){var s=ce.x-de.x,a=e.lastFlickDist.x<10;s>ie&&(a||e.lastFlickOffset.x>20)?o=-1:-ie>s&&(a||e.lastFlickOffset.x<-20)&&(o=1)}var c;o&&(p+=o,0>p?(p=l.loop?Je()-1:0,c=!0):p>=Je()&&(p=l.loop?0:Je()-1,c=!0),(!c||l.loop)&&(wt+=o,vt-=o,n=!0));var d,u=yt.x*vt,h=Math.abs(u-ye.x);return n||u>ye.x==e.lastFlickSpeed.x>0?(d=Math.abs(e.lastFlickSpeed.x)>0?h/Math.abs(e.lastFlickSpeed.x):333,d=Math.min(d,400),d=Math.max(d,250)):d=333,me===p&&(n=!1),it=!0,kt("mainScrollAnimStart"),ne("mainScroll",ye.x,u,d,i.easing.cubic.out,Rt,function(){ee(),it=!1,me=-1,(n||me!==p)&&r.updateCurrItem(),kt("mainScrollAnimComplete")}),n&&r.updateCurrItem(!0),n},Be=function(t){return 1/et*t*w},Ke=function(){var t=y,e=Wt(),n=Zt();e>y?t=e:y>n&&(t=n);var o,s=1,a=lt;return at&&!z&&!ct&&e>y?(r.close(),!0):(at&&(o=function(t){At((s-a)*t+a)}),r.zoomTo(t,0,200,i.easing.cubic.out,o),!0)};Et("Gestures",{publicMethods:{initGestures:function(){var t=function(t,e,n,o,i){I=t+e,D=t+n,k=t+o,$=i?t+i:""};O=U.pointerEvent,O&&U.touch&&(U.touch=!1),O?navigator.pointerEnabled?t("pointer","down","move","up","cancel"):t("MSPointer","Down","Move","Up","Cancel"):U.touch?(t("touch","start","move","end","cancel"),N=!0):t("mouse","down","move","up"),m=D+" "+k+" "+$,v=I,O&&!N&&(N=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),r.likelyTouchDevice=N,g[I]=Ue,g[D]=He,g[k]=qe,$&&(g[$]=g[k]),U.touch&&(v+=" mousedown",m+=" mousemove mouseup",g.mousedown=g[I],g.mousemove=g[D],g.mouseup=g[k]),N||(l.allowPanToNext=!1)}}});var Ve,Ye,Ge,Qe,Xe,Je,tn,en=function(e,n,o,s){Ve&&clearTimeout(Ve),Qe=!0,Ge=!0;var a;e.initialLayout?(a=e.initialLayout,e.initialLayout=null):a=l.getThumbBoundsFn&&l.getThumbBoundsFn(p);var c=o?l.hideAnimationDuration:l.showAnimationDuration,d=function(){Jt("initialZoom"),o?(r.template.removeAttribute("style"),r.bg.removeAttribute("style")):(At(1),n&&(n.style.display="block"),i.addClass(t,"pswp--animated-in"),kt("initialZoom"+(o?"OutEnd":"InEnd"))),s&&s(),Qe=!1};if(!c||!a||void 0===a.x){var h=function(){kt("initialZoom"+(o?"Out":"In")),y=e.initialZoomLevel,Ft(ft,e.initialPosition),Nt(),t.style.opacity=o?0:1,At(1),d()};return void h()}var f=function(){var n=u,s=!r.currItem.src||r.currItem.loadError||l.showHideOpacity;e.miniImg&&(e.miniImg.style.webkitBackfaceVisibility="hidden"),o||(y=a.w/e.w,ft.x=a.x,ft.y=a.y-_,r[s?"template":"bg"].style.opacity=.001,Nt()),te("initialZoom"),o&&!n&&i.removeClass(t,"pswp--animated-in"),s&&(o?i[(n?"remove":"add")+"Class"](t,"pswp--animate_opacity"):setTimeout(function(){i.addClass(t,"pswp--animate_opacity")},30)),Ve=setTimeout(function(){if(kt("initialZoom"+(o?"Out":"In")),o){var r=a.w/e.w,l={x:ft.x,y:ft.y},u=y,p=lt,h=function(e){1===e?(y=r,ft.x=a.x,ft.y=a.y-P):(y=(r-u)*e+u,ft.x=(a.x-l.x)*e+l.x,ft.y=(a.y-P-l.y)*e+l.y),Nt(),s?t.style.opacity=1-e:At(p-e*p)};n?ne("initialZoom",0,1,c,i.easing.cubic.out,h,d):(h(1),Ve=setTimeout(d,c+20))}else y=e.initialZoomLevel,Ft(ft,e.initialPosition),Nt(),At(1),s?t.style.opacity=1:At(1),Ve=setTimeout(d,c+20)},o?25:90)};f()},nn={},on=[],rn={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return Ye.length}},sn=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},an=function(t,e,n){var o=t.bounds;o.center.x=Math.round((nn.x-e)/2),o.center.y=Math.round((nn.y-n)/2)+t.vGap.top,o.max.x=e>nn.x?Math.round(nn.x-e):o.center.x,o.max.y=n>nn.y?Math.round(nn.y-n)+t.vGap.top:o.center.y,o.min.x=e>nn.x?0:o.center.x,o.min.y=n>nn.y?t.vGap.top:o.center.y},ln=function(t,e,n){if(t.src&&!t.loadError){var o=!n;if(o&&(t.vGap||(t.vGap={top:0,bottom:0}),kt("parseVerticalMargin",t)),nn.x=e.x,nn.y=e.y-t.vGap.top-t.vGap.bottom,o){var i=nn.x/t.w,r=nn.y/t.h;t.fitRatio=r>i?i:r;var s=l.scaleMode;"orig"===s?n=1:"fit"===s&&(n=t.fitRatio),n>1&&(n=1),t.initialZoomLevel=n,t.bounds||(t.bounds=sn())}if(!n)return;return an(t,t.w*n,t.h*n),o&&n===t.initialZoomLevel&&(t.initialPosition=t.bounds.center),t.bounds}return t.w=t.h=0,t.initialZoomLevel=t.fitRatio=1,t.bounds=sn(),t.initialPosition=t.bounds.center,t.bounds},cn=function(t,e,n,o,i,r){e.loadError||o&&(e.imageAppended=!0,pn(e,o),n.appendChild(o),r&&setTimeout(function(){e&&e.loaded&&e.placeholder&&(e.placeholder.style.display="none",e.placeholder=null)},500))},dn=function(t){t.loading=!0,t.loaded=!1;var e=t.img=i.createEl("pswp__img","img"),n=function(){t.loading=!1,t.loaded=!0,t.loadComplete?t.loadComplete(t):t.img=null,e.onload=e.onerror=null,e=null};return e.onload=n,e.onerror=function(){t.loadError=!0,n()},e.src=t.src,e},un=function(t,e){return t.src&&t.loadError&&t.container?(e&&(t.container.innerHTML=""),t.container.innerHTML=l.errorMsg.replace("%url%",t.src),!0):void 0},pn=function(t,e,n){if(t.src){e||(e=t.container.lastChild);var o=n?t.w:Math.round(t.w*t.fitRatio),i=n?t.h:Math.round(t.h*t.fitRatio);t.placeholder&&!t.loaded&&(t.placeholder.style.width=o+"px",t.placeholder.style.height=i+"px"),e.style.width=o+"px",e.style.height=i+"px"}},hn=function(){if(on.length){for(var t,e=0;e<on.length;e++)t=on[e],t.holder.index===t.index&&cn(t.index,t.item,t.baseDiv,t.img,!1,t.clearPlaceholder);on=[]}};Et("Controller",{publicMethods:{lazyLoadItem:function(t){t=St(t);var e=Xe(t);!e||e.loaded||e.loading||(kt("gettingData",t,e),e.src&&dn(e))},initController:function(){i.extend(l,rn,!0),r.items=Ye=n,Xe=r.getItemAt,Je=l.getNumItemsFn,tn=l.loop,Je()<3&&(l.loop=!1),Dt("beforeChange",function(t){var e,n=l.preload,o=null===t?!0:t>0,i=Math.min(n[0],Je()),s=Math.min(n[1],Je());for(e=1;(o?s:i)>=e;e++)r.lazyLoadItem(p+e);for(e=1;(o?i:s)>=e;e++)r.lazyLoadItem(p-e)}),Dt("initialLayout",function(){r.currItem.initialLayout=l.getThumbBoundsFn&&l.getThumbBoundsFn(p)}),Dt("mainScrollAnimComplete",hn),Dt("initialZoomInEnd",hn),Dt("destroy",function(){for(var t,e=0;e<Ye.length;e++)t=Ye[e],t.container&&(t.container=null),t.placeholder&&(t.placeholder=null),t.img&&(t.img=null),t.preloader&&(t.preloader=null),t.loadError&&(t.loaded=t.loadError=!1);on=null})},getItemAt:function(t){return t>=0&&void 0!==Ye[t]?Ye[t]:!1},allowProgressiveImg:function(){return l.forceProgressiveLoading||!N||l.mouseUsed||screen.width>1200},setContent:function(t,e){l.loop&&(e=St(e));var n=r.getItemAt(t.index);n&&(n.container=null);var o,s=r.getItemAt(e);if(!s)return void(t.el.innerHTML="");kt("gettingData",e,s),t.index=e,t.item=s;var a=s.container=i.createEl("pswp__zoom-wrap");if(!s.src&&s.html&&(s.html.tagName?a.appendChild(s.html):a.innerHTML=s.html),un(s),ln(s,mt),!s.src||s.loadError||s.loaded)s.src&&!s.loadError&&(o=i.createEl("pswp__img","img"),o.style.opacity=1,o.src=s.src,pn(s,o),cn(e,s,a,o,!0));else{if(s.loadComplete=function(n){if(c){if(t&&t.index===e){if(un(n,!0))return n.loadComplete=n.img=null,ln(n,mt),Lt(n),void(t.index===p&&r.updateCurrZoomItem());n.imageAppended?!Qe&&n.placeholder&&(n.placeholder.style.display="none",n.placeholder=null):U.transform&&(it||Qe)?on.push({item:n,baseDiv:a,img:n.img,index:e,holder:t,clearPlaceholder:!0}):cn(e,n,a,n.img,it||Qe,!0)}n.loadComplete=null,n.img=null,kt("imageLoadComplete",e,n)}},i.features.transform){var d="pswp__img pswp__img--placeholder";d+=s.msrc?"":" pswp__img--placeholder--blank";var u=i.createEl(d,s.msrc?"img":"");s.msrc&&(u.src=s.msrc),pn(s,u),a.appendChild(u),s.placeholder=u}s.loading||dn(s),r.allowProgressiveImg()&&(!Ge&&U.transform?on.push({item:s,baseDiv:a,img:s.img,index:e,holder:t}):cn(e,s,a,s.img,!0,!0))}Ge||e!==p?Lt(s):(ot=a.style,en(s,o||s.img)),t.el.innerHTML="",t.el.appendChild(a)},cleanSlide:function(t){t.img&&(t.img.onload=t.img.onerror=null),t.loaded=t.loading=t.img=t.imageAppended=!1}}});var fn,mn={},vn=function(t,e,n){var o=document.createEvent("CustomEvent"),i={origEvent:t,target:t.target,releasePoint:e,pointerType:n||"touch"};o.initCustomEvent("pswpTap",!0,!0,i),t.target.dispatchEvent(o)};Et("Tap",{publicMethods:{initTap:function(){Dt("firstTouchStart",r.onTapStart),Dt("touchRelease",r.onTapRelease),Dt("destroy",function(){mn={},fn=null})},onTapStart:function(t){t.length>1&&(clearTimeout(fn),fn=null)},onTapRelease:function(t,e){if(e&&!Y&&!K&&!Xt){var n=e;if(fn&&(clearTimeout(fn),fn=null,Te(n,mn)))return void kt("doubleTap",n);if("mouse"===e.type)return void vn(t,e,"mouse");var o=t.target.tagName.toUpperCase();if("BUTTON"===o||i.hasClass(t.target,"pswp__single-tap"))return void vn(t,e);Ft(mn,n),fn=setTimeout(function(){vn(t,e),fn=null},300)}}}});var gn;Et("DesktopZoom",{publicMethods:{initDesktopZoom:function(){F||(N?Dt("mouseUsed",function(){r.setupDesktopZoom()}):r.setupDesktopZoom(!0))},setupDesktopZoom:function(e){gn={};var n="wheel mousewheel DOMMouseScroll";Dt("bindEvents",function(){i.bind(t,n,r.handleMouseWheel)}),Dt("unbindEvents",function(){gn&&i.unbind(t,n,r.handleMouseWheel)}),r.mouseZoomedIn=!1;var o,s=function(){r.mouseZoomedIn&&(i.removeClass(t,"pswp--zoomed-in"),r.mouseZoomedIn=!1),1>y?i.addClass(t,"pswp--zoom-allowed"):i.removeClass(t,"pswp--zoom-allowed"),a()},a=function(){o&&(i.removeClass(t,"pswp--dragging"),o=!1)};Dt("resize",s),Dt("afterChange",s),Dt("pointerDown",function(){r.mouseZoomedIn&&(o=!0,i.addClass(t,"pswp--dragging"))}),Dt("pointerUp",a),e||s()},handleMouseWheel:function(t){if(y<=r.currItem.fitRatio)return l.modal&&(!l.closeOnScroll||Xt||B?t.preventDefault():A&&Math.abs(t.deltaY)>2&&(u=!0,r.close())),!0;if(t.stopPropagation(),gn.x=0,"deltaX"in t)1===t.deltaMode?(gn.x=18*t.deltaX,gn.y=18*t.deltaY):(gn.x=t.deltaX,gn.y=t.deltaY);else if("wheelDelta"in t)t.wheelDeltaX&&(gn.x=-.16*t.wheelDeltaX),gn.y=t.wheelDeltaY?-.16*t.wheelDeltaY:-.16*t.wheelDelta;else{if(!("detail"in t))return;gn.y=t.detail}zt(y,!0);var e=ft.x-gn.x,n=ft.y-gn.y;(l.modal||e<=nt.min.x&&e>=nt.max.x&&n<=nt.min.y&&n>=nt.max.y)&&t.preventDefault(),r.panTo(e,n)},toggleDesktopZoom:function(e){e=e||{x:mt.x/2+gt.x,y:mt.y/2+gt.y};var n=l.getDoubleTapZoom(!0,r.currItem),o=y===n;r.mouseZoomedIn=!o,r.zoomTo(o?r.currItem.initialZoomLevel:n,e,333),i[(o?"remove":"add")+"Class"](t,"pswp--zoomed-in")}}});var yn,wn,bn,xn,Tn,Cn,En,Sn,In,Dn,kn,$n,An={history:!0,galleryUID:1},On=function(){return kn.hash.substring(1)},Nn=function(){yn&&clearTimeout(yn),bn&&clearTimeout(bn)},Ln=function(){var t=On(),e={};if(t.length<5)return e;var n,o=t.split("&");for(n=0;n<o.length;n++)if(o[n]){var i=o[n].split("=");i.length<2||(e[i[0]]=i[1])}if(l.galleryPIDs){var r=e.pid;for(e.pid=0,n=0;n<Ye.length;n++)if(Ye[n].pid===r){e.pid=n;break}}else e.pid=parseInt(e.pid,10)-1;return e.pid<0&&(e.pid=0),e},Mn=function(){if(bn&&clearTimeout(bn),Xt||B)return void(bn=setTimeout(Mn,500));xn?clearTimeout(wn):xn=!0;var t=p+1,e=Xe(p);e.hasOwnProperty("pid")&&(t=e.pid);var n=En+"&gid="+l.galleryUID+"&pid="+t;Sn||-1===kn.hash.indexOf(n)&&(Dn=!0);var o=kn.href.split("#")[0]+"#"+n;$n?"#"+n!==window.location.hash&&history[Sn?"replaceState":"pushState"]("",document.title,o):Sn?kn.replace(o):kn.hash=n,Sn=!0,wn=setTimeout(function(){xn=!1},60)};Et("History",{publicMethods:{initHistory:function(){if(i.extend(l,An,!0),l.history){kn=window.location,Dn=!1,In=!1,Sn=!1,En=On(),$n="pushState"in history,En.indexOf("gid=")>-1&&(En=En.split("&gid=")[0],En=En.split("?gid=")[0]),Dt("afterChange",r.updateURL),Dt("unbindEvents",function(){i.unbind(window,"hashchange",r.onHashChange)});var t=function(){Cn=!0,In||(Dn?history.back():En?kn.hash=En:$n?history.pushState("",document.title,kn.pathname+kn.search):kn.hash=""),Nn()};Dt("unbindEvents",function(){u&&t()}),Dt("destroy",function(){Cn||t()}),Dt("firstUpdate",function(){p=Ln().pid});var e=En.indexOf("pid=");e>-1&&(En=En.substring(0,e),"&"===En.slice(-1)&&(En=En.slice(0,-1))),setTimeout(function(){c&&i.bind(window,"hashchange",r.onHashChange)},40)}},onHashChange:function(){return On()===En?(In=!0,void r.close()):void(xn||(Tn=!0,r.goTo(Ln().pid),Tn=!1))},updateURL:function(){Nn(),Tn||(Sn?yn=setTimeout(Mn,800):Mn())}}}),i.extend(r,oe)};return t}),function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.PhotoSwipeUI_Default=e()}(this,function(){"use strict";var t=function(t,e){var n,o,i,r,s,a,l,c,d,u,p,h,f,m,v,g,y,w,b,x=this,T=!1,C=!0,E=!0,S={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(t,e){return t.title?(e.children[0].innerHTML=t.title,!0):(e.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return t.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return t.currItem.title||""},indexIndicatorSep:" / "},I=function(t){if(g)return!0;t=t||window.event,v.timeToIdle&&v.mouseUsed&&!d&&_();for(var n,o,i=t.target||t.srcElement,r=i.className,s=0;s<W.length;s++)n=W[s],n.onTap&&r.indexOf("pswp__"+n.name)>-1&&(n.onTap(),o=!0);if(o){t.stopPropagation&&t.stopPropagation(),g=!0;var a=e.features.isOldAndroid?600:30;y=setTimeout(function(){g=!1},a)}},D=function(){return!t.likelyTouchDevice||v.mouseUsed||screen.width>1200},k=function(t,n,o){e[(o?"add":"remove")+"Class"](t,"pswp__"+n)},$=function(){var t=1===v.getNumItemsFn();t!==m&&(k(o,"ui--one-slide",t),m=t)},A=function(){k(l,"share-modal--hidden",E)},O=function(){return E=!E,E?(e.removeClass(l,"pswp__share-modal--fade-in"),setTimeout(function(){E&&A()},300)):(A(),setTimeout(function(){E||e.addClass(l,"pswp__share-modal--fade-in")},30)),E||L(),!1},N=function(e){e=e||window.event;var n=e.target||e.srcElement;return t.shout("shareLinkClick",e,n),n.href?n.hasAttribute("download")?!0:(window.open(n.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),E||O(),!1):!1},L=function(){for(var t,e,n,o,i,r="",s=0;s<v.shareButtons.length;s++)t=v.shareButtons[s],n=v.getImageURLForShare(t),o=v.getPageURLForShare(t),i=v.getTextForShare(t),e=t.url.replace("{{url}}",encodeURIComponent(o)).replace("{{image_url}}",encodeURIComponent(n)).replace("{{raw_image_url}}",n).replace("{{text}}",encodeURIComponent(i)),r+='<a href="'+e+'" target="_blank" class="pswp__share--'+t.id+'"'+(t.download?"download":"")+">"+t.label+"</a>",v.parseShareButtonOut&&(r=v.parseShareButtonOut(t,r));l.children[0].innerHTML=r,l.children[0].onclick=N},M=function(t){for(var n=0;n<v.closeElClasses.length;n++)if(e.hasClass(t,"pswp__"+v.closeElClasses[n]))return!0},R=0,_=function(){clearTimeout(b),R=0,d&&x.setIdle(!1)},F=function(t){t=t?t:window.event;var e=t.relatedTarget||t.toElement;e&&"HTML"!==e.nodeName||(clearTimeout(b),b=setTimeout(function(){x.setIdle(!0)},v.timeToIdleOutside))},P=function(){v.fullscreenEl&&(n||(n=x.getFullscreenAPI()),n?(e.bind(document,n.eventK,x.updateFullscreen),x.updateFullscreen(),e.addClass(t.template,"pswp--supports-fs")):e.removeClass(t.template,"pswp--supports-fs"))},U=function(){v.preloaderEl&&(H(!0),u("beforeChange",function(){clearTimeout(f),f=setTimeout(function(){t.currItem&&t.currItem.loading?(!t.allowProgressiveImg()||t.currItem.img&&!t.currItem.img.naturalWidth)&&H(!1):H(!0)},v.loadingIndicatorDelay)}),u("imageLoadComplete",function(e,n){t.currItem===n&&H(!0)}))},H=function(t){h!==t&&(k(p,"preloader--active",!t),h=t)},j=function(t){var n=t.vGap;if(D()){var s=v.barsSize;if(v.captionEl&&"auto"===s.bottom)if(r||(r=e.createEl("pswp__caption pswp__caption--fake"),r.appendChild(e.createEl("pswp__caption__center")),o.insertBefore(r,i),e.addClass(o,"pswp__ui--fit")),v.addCaptionHTMLFn(t,r,!0)){var a=r.clientHeight;n.bottom=parseInt(a,10)||44}else n.bottom=s.top;else n.bottom="auto"===s.bottom?0:s.bottom;n.top=s.top}else n.top=n.bottom=0},q=function(){v.timeToIdle&&u("mouseUsed",function(){e.bind(document,"mousemove",_),e.bind(document,"mouseout",F),w=setInterval(function(){R++,2===R&&x.setIdle(!0)},v.timeToIdle/2)})},z=function(){u("onVerticalDrag",function(t){C&&.95>t?x.hideControls():!C&&t>=.95&&x.showControls()});var t;u("onPinchClose",function(e){C&&.9>e?(x.hideControls(),t=!0):t&&!C&&e>.9&&x.showControls()}),u("zoomGestureEnded",function(){t=!1,t&&!C&&x.showControls()})},W=[{name:"caption",option:"captionEl",onInit:function(t){i=t}},{name:"share-modal",option:"shareEl",onInit:function(t){l=t},onTap:function(){O()}},{name:"button--share",option:"shareEl",onInit:function(t){a=t},onTap:function(){O()}},{name:"button--zoom",option:"zoomEl",onTap:t.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(t){s=t}},{name:"button--close",option:"closeEl",onTap:t.close},{name:"button--arrow--left",option:"arrowEl",onTap:t.prev},{name:"button--arrow--right",option:"arrowEl",onTap:t.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){n.isFullscreen()?n.exit():n.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(t){p=t}}],Z=function(){var t,n,i,r=function(o){if(o)for(var r=o.length,s=0;r>s;s++){t=o[s],n=t.className;for(var a=0;a<W.length;a++)i=W[a],n.indexOf("pswp__"+i.name)>-1&&(v[i.option]?(e.removeClass(t,"pswp__element--disabled"),i.onInit&&i.onInit(t)):e.addClass(t,"pswp__element--disabled"))}};r(o.children);var s=e.getChildByClass(o,"pswp__top-bar");s&&r(s.children)};x.init=function(){e.extend(t.options,S,!0),v=t.options,o=e.getChildByClass(t.scrollWrap,"pswp__ui"),u=t.listen,z(),u("beforeChange",x.update),u("doubleTap",function(e){var n=t.currItem.initialZoomLevel;t.getZoomLevel()!==n?t.zoomTo(n,e,333):t.zoomTo(v.getDoubleTapZoom(!1,t.currItem),e,333)}),u("preventDragEvent",function(t,e,n){var o=t.target||t.srcElement;o&&o.className&&t.type.indexOf("mouse")>-1&&(o.className.indexOf("__caption")>0||/(SMALL|STRONG|EM)/i.test(o.tagName))&&(n.prevent=!1)}),u("bindEvents",function(){e.bind(o,"pswpTap click",I),e.bind(t.scrollWrap,"pswpTap",x.onGlobalTap),t.likelyTouchDevice||e.bind(t.scrollWrap,"mouseover",x.onMouseOver)}),u("unbindEvents",function(){E||O(),w&&clearInterval(w),e.unbind(document,"mouseout",F),e.unbind(document,"mousemove",_),e.unbind(o,"pswpTap click",I),e.unbind(t.scrollWrap,"pswpTap",x.onGlobalTap),e.unbind(t.scrollWrap,"mouseover",x.onMouseOver),n&&(e.unbind(document,n.eventK,x.updateFullscreen),n.isFullscreen()&&(v.hideAnimationDuration=0,n.exit()),n=null)}),u("destroy",function(){v.captionEl&&(r&&o.removeChild(r),e.removeClass(i,"pswp__caption--empty")),l&&(l.children[0].onclick=null),e.removeClass(o,"pswp__ui--over-close"),e.addClass(o,"pswp__ui--hidden"),x.setIdle(!1)}),v.showAnimationDuration||e.removeClass(o,"pswp__ui--hidden"),u("initialZoomIn",function(){v.showAnimationDuration&&e.removeClass(o,"pswp__ui--hidden")}),u("initialZoomOut",function(){e.addClass(o,"pswp__ui--hidden")}),u("parseVerticalMargin",j),Z(),v.shareEl&&a&&l&&(E=!0),$(),q(),P(),U()},x.setIdle=function(t){d=t,k(o,"ui--idle",t)},x.update=function(){C&&t.currItem?(x.updateIndexIndicator(),v.captionEl&&(v.addCaptionHTMLFn(t.currItem,i),k(i,"caption--empty",!t.currItem.title)),T=!0):T=!1,E||O(),$()},x.updateFullscreen=function(o){o&&setTimeout(function(){t.setScrollOffset(0,e.getScrollY())},50),e[(n.isFullscreen()?"add":"remove")+"Class"](t.template,"pswp--fs")},x.updateIndexIndicator=function(){v.counterEl&&(s.innerHTML=t.getCurrentIndex()+1+v.indexIndicatorSep+v.getNumItemsFn())},x.onGlobalTap=function(n){n=n||window.event;var o=n.target||n.srcElement;if(!g)if(n.detail&&"mouse"===n.detail.pointerType){if(M(o))return void t.close();e.hasClass(o,"pswp__img")&&(1===t.getZoomLevel()&&t.getZoomLevel()<=t.currItem.fitRatio?v.clickToCloseNonZoomable&&t.close():t.toggleDesktopZoom(n.detail.releasePoint))}else if(v.tapToToggleControls&&(C?x.hideControls():x.showControls()),v.tapToClose&&(e.hasClass(o,"pswp__img")||M(o)))return void t.close()},x.onMouseOver=function(t){t=t||window.event;var e=t.target||t.srcElement;k(o,"ui--over-close",M(e))},x.hideControls=function(){e.addClass(o,"pswp__ui--hidden"),C=!1},x.showControls=function(){C=!0,T||x.update(),e.removeClass(o,"pswp__ui--hidden")},x.supportsFullscreen=function(){var t=document;return!!(t.exitFullscreen||t.mozCancelFullScreen||t.webkitExitFullscreen||t.msExitFullscreen)},x.getFullscreenAPI=function(){var e,n=document.documentElement,o="fullscreenchange";return n.requestFullscreen?e={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:o}:n.mozRequestFullScreen?e={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+o}:n.webkitRequestFullscreen?e={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+o}:n.msRequestFullscreen&&(e={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),e&&(e.enter=function(){return c=v.closeOnScroll,v.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK?t.template[this.enterK]():void t.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},e.exit=function(){return v.closeOnScroll=c,document[this.exitK]()},e.isFullscreen=function(){return document[this.elementK]}),e}};return t}),!function(t){t.matches=t.matches||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector||function(t){for(var e=this,n=(e.document||e.ownerDocument).querySelectorAll(t),o=0;n[o]&&n[o]!==e;)++o;return n[o]?!0:!1},t.closest=t.closest||function(t){for(var e=this;e&&!e.matches(t);)e=e.parentElement;return e}}(Element.prototype),function(){if("function"!=typeof window.getMatchedCSSRules){var t=/[\w-]+/g,e=/#[\w-]+/g,n=/\.[\w-]+/g,o=/\[[^\]]+\]/g,i=/\:(?!not)[\w-]+(\(.*\))?/g,r=/\:\:?(after|before|first-letter|first-line|selection)/g,s=function(t){for(var e=[],n=0,o=t.length;o>n;n++)e.push(t[n]);return e},a=function(t){var e=document.createElement("a");return e.href=t,e.host},l=function(t){var e,n=t.media&&t.media.mediaText;if("true"==objectFit.disableCrossDomain&&(e=a(t.href),e!==window.location.host))return[];if(t.disabled)return[];if(window.matchMedia){if(n&&n.length&&!window.matchMedia(n).matches)return[]}else if(n&&n.length)return[];return s(t.cssRules)},c=function(t,e){return t.match(e),e?e.length:0},d=function(s){for(var a,l,d=[0,0,0],u=s.split(" ");a=u.shift(),"string"==typeof a;)l=c(a,r),d[2]=l,l&&(a=a.replace(r,"")),l=c(a,i),d[1]=l,l&&(a=a.replace(i,"")),l=c(a,o),d[1]+=l,l&&(a=a.replace(o,"")),l=c(a,e),d[0]=l,l&&(a=a.replace(e,"")),l=c(a,n),d[1]+=l,l&&(a=a.replace(n,"")),d[2]+=c(a,t);return parseInt(d.join(""),10)},u=function(t,e){for(var n,o,i=e.split(","),r=0;n=i.shift();)t.closest(n)&&(o=d(n),r=o>r?o:r);return r},p=function(t,e){var n=function(e,n){return u(t,n.selectorText)-u(t,e.selectorText)};return e.sort(n)};window.getMatchedCSSRules=function(t){var e,n,o,i,r=[];for(e=s(window.document.styleSheets);n=e.shift();)for(o=l(n);i=o.shift();)i.styleSheet?o=l(i.styleSheet).concat(o):i.media?o=l(i).concat(o):t.closest(i.selectorText)&&r.push(i);return p(t,r)}}}(),function(t){for(var e=0,n=["webkit","moz"],o=t.requestAnimationFrame,i=t.cancelAnimationFrame,r=n.length;--r>=0&&!o;)o=t[n[r]+"RequestAnimationFrame"],i=t[n[r]+"CancelAnimationFrame"];o&&i||(o=function(t){var n=+new Date,o=Math.max(e+16,n);return setTimeout(function(){t(e=o)},o-n)},i=clearTimeout),t.requestAnimationFrame=o,t.cancelAnimationFrame=i}(window),function(t){"use strict";var e={};e._debug=!1,e.observer=null,e.disableCrossDomain="false",e.getComputedStyle=function(t,e){return e=e||window,e.getComputedStyle?e.getComputedStyle(t,null):t.currentStyle},e.getDefaultComputedStyle=function(t){var e=t.cloneNode(!0),n={},o=document.createElement("iframe");document.body.appendChild(o),o.contentWindow.document.open(),o.contentWindow.document.write("<body></body>"),o.contentWindow.document.body.appendChild(e),o.contentWindow.document.close();var i,r,s=o.contentWindow.document.querySelectorAll(t.nodeName.toLowerCase())[0],a=this.getComputedStyle(s,o.contentWindow);for(r in a)if(i=a.getPropertyValue===!0?a.getPropertyValue(r):a[r],null!==i)switch(r){default:n[r]=i;break;case"width":case"height":case"minWidth":case"minHeight":case"maxWidth":case"maxHeight":}return document.body.removeChild(o),n},e.getMatchedStyle=function(t,e){var n=null,o=null;t.style.getPropertyValue?o=t.style.getPropertyValue(e):t.currentStyle&&(o=t.currentStyle[e]);var i,r,s=window.getMatchedCSSRules(t),a=s.length;if(a)for(;a-->0&&(i=s[a],r=i.style.getPropertyPriority(e),null!==n&&!r||(n=i.style.getPropertyValue(e),!r)););return n||null===o||(n=o),n},e.orientation=function(t){if(t.parentNode&&"x-object-fit"===t.parentNode.nodeName.toLowerCase()){var e=t.naturalWidth||t.clientWidth,n=t.naturalHeight||t.clientHeight,o=t.parentNode.clientWidth,i=t.parentNode.clientHeight;!n||e/n>o/i?"wider"!==t.getAttribute("data-x-object-relation")&&(t.setAttribute("data-x-object-relation","wider"),t.className+=" x-object-fit-wider",this._debug&&window.console&&console.log("x-object-fit-wider")):"taller"!==t.getAttribute("data-x-object-relation")&&(t.setAttribute("data-x-object-relation","taller"),t.className+=" x-object-fit-taller",this._debug&&window.console&&console.log("x-object-fit-taller"))}},e.process=function(t){if(t.selector&&t.replacedElements){switch(e.disableCrossDomain=t.disableCrossDomain||"false",t.fittype=t.fittype||"none",t.fittype){default:return;case"none":case"fill":case"contain":case"cover":}var n=t.replacedElements;if(n.length)for(var o=0,i=n.length;i>o;o++)this.processElement(n[o],t)}},e.processElement=function(t,n){var o,i,r=e.getComputedStyle(t),s=e.getDefaultComputedStyle(t),a=document.createElement("x-object-fit");e._debug&&window.console&&console.log("Applying to WRAPPER-------------------------------------------------------");for(o in r)switch(o){default:i=e.getMatchedStyle(t,o),null!==i&&""!==i&&(e._debug&&window.console&&console.log(o+": "+i),a.style[o]=i);break;case"length":case"parentRule":}e._debug&&window.console&&console.log("Applying to REPLACED ELEMENT-------------------------------------------------------");for(o in s)switch(o){default:i=s[o],e._debug&&window.console&&""!==i&&(console.log(o+": "+i),void 0===t.style[o]&&console.log("Indexed style properties (`"+o+"`) not supported in: "+window.navigator.userAgent)),t.style[o]?t.style[o]=i:t.style.property=i;break;case"length":case"parentRule":}a.setAttribute("class","x-object-fit-"+n.fittype),t.parentNode.insertBefore(a,t),a.appendChild(t),e.orientation(t);var l=null,c=function(){null!==l&&window.cancelAnimationFrame(l),l=window.requestAnimationFrame(function(){e.orientation(t)})};switch(n.fittype){default:break;case"contain":case"cover":window.addEventListener?(t.addEventListener("load",c,!1),window.addEventListener("resize",c,!1),window.addEventListener("orientationchange",c,!1)):(t.attachEvent("onload",c),window.attachEvent("onresize",c))}},e.listen=function(t){var n=function(n){for(var o=0,i=t.length;i>o;o++)(n.mozMatchesSelector&&n.mozMatchesSelector(t[o].selector)||n.msMatchesSelector&&n.msMatchesSelector(t[o].selector)||n.oMatchesSelector&&n.oMatchesSelector(t[o].selector)||n.webkitMatchesSelector&&n.webkitMatchesSelector(t[o].selector))&&(t[o].replacedElements=[n],e.process(t[o]),e._debug&&window.console&&console.log("Matching node inserted: "+n.nodeName))},o=function(t){e.observer.disconnect(),n(t),e.observer.observe(document.documentElement,{childList:!0,subtree:!0})},i=function(t){window.removeEventListener("DOMNodeInserted",i,!1),n(t.target),window.addEventListener("DOMNodeInserted",i,!1)},r=function(t){"x-object-fit"===t.nodeName.toLowerCase()&&(t.parentNode.removeChild(t),e._debug&&window.console&&console.log("Matching node removed: "+t.nodeName))},s=function(t){e.observer.disconnect(),r(t),e.observer.observe(document.documentElement,{childList:!0,subtree:!0})},a=function(t){window.removeEventListener("DOMNodeRemoved",a,!1),r(t.target.parentNode),window.addEventListener("DOMNodeRemoved",a,!1)};window.MutationObserver?(e._debug&&window.console&&console.log("DOM MutationObserver"),this.observer=new MutationObserver(function(t){t.forEach(function(t){if(t.addedNodes&&t.addedNodes.length)for(var e=t.addedNodes,n=0,i=e.length;i>n;n++)o(e[n]);t.removedNodes&&t.removedNodes.length&&s(t.target)})}),this.observer.observe(document.documentElement,{childList:!0,subtree:!0})):window.addEventListener&&(e._debug&&window.console&&console.log("DOM Mutation Events"),window.addEventListener("DOMNodeInserted",i,!1),window.addEventListener("DOMNodeRemoved",a,!1))},e.init=function(t){if(t){t instanceof Array||(t=[t]);for(var e=0,n=t.length;n>e;e++)t[e].replacedElements=document.querySelectorAll(t[e].selector),this.process(t[e]);this.listen(t)}},e.polyfill=function(t){"objectFit"in document.documentElement.style==0?(e._debug&&window.console&&console.log("object-fit not natively supported"),"complete"===document.readyState?e.init(t):window.addEventListener?window.addEventListener("load",function(){e.init(t)},!1):window.attachEvent("onload",function(){e.init(t)})):e._debug&&window.console&&console.log("object-fit natively supported")},"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=e:"function"==typeof define&&define.amd?define([],function(){return e}):"object"==typeof t&&"object"==typeof t.document&&(t.objectFit=e)}(window),!function(t,e){"use strict";"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():t.Headroom=e()}(this,function(){"use strict";function t(t){this.callback=t,this.ticking=!1}function e(t){return t&&"undefined"!=typeof window&&(t===window||t.nodeType)}function n(t){if(arguments.length<=0)throw new Error("Missing arguments in extend function");var o,i,r=t||{};for(i=1;i<arguments.length;i++){var s=arguments[i]||{};for(o in s)r[o]="object"!=typeof r[o]||e(r[o])?r[o]||s[o]:n(r[o],s[o])}return r}function o(t){return t===Object(t)?t:{down:t,up:t}}function i(e,r){r=n(r,i.options),this.lastKnownScrollY=0,this.elem=e,this.debouncer=new t(this.update.bind(this)),this.tolerance=o(r.tolerance),this.classes=r.classes,this.offset=r.offset,this.scroller=r.scroller,this.initialised=!1,this.onPin=r.onPin,this.onUnpin=r.onUnpin,this.onTop=r.onTop,this.onNotTop=r.onNotTop}var r={bind:!!function(){}.bind,classList:"classList"in document.documentElement,rAF:!!(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame)};return window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame,t.prototype={constructor:t,update:function(){this.callback&&this.callback(),this.ticking=!1},requestTick:function(){this.ticking||(requestAnimationFrame(this.rafCallback||(this.rafCallback=this.update.bind(this))),this.ticking=!0)},handleEvent:function(){this.requestTick()}},i.prototype={constructor:i,init:function(){return i.cutsTheMustard?(this.elem.classList.add(this.classes.initial),setTimeout(this.attachEvent.bind(this),100),this):void 0},destroy:function(){var t=this.classes;this.initialised=!1,this.elem.classList.remove(t.unpinned,t.pinned,t.top,t.initial),this.scroller.removeEventListener("scroll",this.debouncer,!1)},attachEvent:function(){this.initialised||(this.lastKnownScrollY=this.getScrollY(),this.initialised=!0,this.scroller.addEventListener("scroll",this.debouncer,!1),this.debouncer.handleEvent())},unpin:function(){var t=this.elem.classList,e=this.classes;(t.contains(e.pinned)||!t.contains(e.unpinned))&&(t.add(e.unpinned),t.remove(e.pinned),this.onUnpin&&this.onUnpin.call(this))},pin:function(){var t=this.elem.classList,e=this.classes;t.contains(e.unpinned)&&(t.remove(e.unpinned),t.add(e.pinned),this.onPin&&this.onPin.call(this))},top:function(){var t=this.elem.classList,e=this.classes;t.contains(e.top)||(t.add(e.top),t.remove(e.notTop),this.onTop&&this.onTop.call(this))},notTop:function(){var t=this.elem.classList,e=this.classes;t.contains(e.notTop)||(t.add(e.notTop),t.remove(e.top),this.onNotTop&&this.onNotTop.call(this))},getScrollY:function(){return void 0!==this.scroller.pageYOffset?this.scroller.pageYOffset:void 0!==this.scroller.scrollTop?this.scroller.scrollTop:(document.documentElement||document.body.parentNode||document.body).scrollTop},getViewportHeight:function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},getDocumentHeight:function(){var t=document.body,e=document.documentElement;return Math.max(t.scrollHeight,e.scrollHeight,t.offsetHeight,e.offsetHeight,t.clientHeight,e.clientHeight)},getElementHeight:function(t){return Math.max(t.scrollHeight,t.offsetHeight,t.clientHeight)},getScrollerHeight:function(){return this.scroller===window||this.scroller===document.body?this.getDocumentHeight():this.getElementHeight(this.scroller)},isOutOfBounds:function(t){var e=0>t,n=t+this.getViewportHeight()>this.getScrollerHeight();return e||n},toleranceExceeded:function(t,e){return Math.abs(t-this.lastKnownScrollY)>=this.tolerance[e]},shouldUnpin:function(t,e){var n=t>this.lastKnownScrollY,o=t>=this.offset;return n&&o&&e},shouldPin:function(t,e){var n=t<this.lastKnownScrollY,o=t<=this.offset;return n&&e||o},update:function(){var t=this.getScrollY(),e=t>this.lastKnownScrollY?"down":"up",n=this.toleranceExceeded(t,e);this.isOutOfBounds(t)||(t<=this.offset?this.top():this.notTop(),this.shouldUnpin(t,n)?this.unpin():this.shouldPin(t,n)&&this.pin(),this.lastKnownScrollY=t)}},i.options={tolerance:{up:0,down:0},offset:0,scroller:window,classes:{pinned:"headroom--pinned",unpinned:"headroom--unpinned",top:"headroom--top",notTop:"headroom--not-top",initial:"headroom"}},i.cutsTheMustard="undefined"!=typeof r&&r.rAF&&r.bind&&r.classList,i}),!function(t){t&&(t.fn.headroom=function(e){return this.each(function(){var n=t(this),o=n.data("headroom"),i="object"==typeof e&&e;i=t.extend(!0,{},Headroom.options,i),o||(o=new Headroom(this,i),o.init(),n.data("headroom",o)),"string"==typeof e&&o[e]()})},t("[data-headroom]").each(function(){var e=t(this);e.headroom(e.data())}))}(window.Zepto||window.jQuery),!function(t,e){"function"==typeof define&&define.amd?define("priorityNav",e(t)):"object"==typeof exports?module.exports=e(t):t.priorityNav=e(t)}(window||this,function(t){"use strict";function e(t,e,n){var o;return function(){var i=this,r=arguments,s=function(){o=null,n||t.apply(i,r)},a=n&&!o;clearTimeout(o),o=setTimeout(s,e),a&&t.apply(i,r)}}var n,o,i,r,s,a,l,c,d={},u=[],p=!!document.querySelector&&!!t.addEventListener,h={},f=0,m=0,v=0,g={initClass:"js-priorityNav",mainNavWrapper:"nav",mainNav:"ul",navDropdown:"nav__dropdown",navDropdownToggle:"nav__dropdown-toggle",navDropdownLabel:"more",navDropdownBreakpointLabel:"menu",breakPoint:500,throttleDelay:50,offsetPixels:0,count:!0,moved:function(){},movedBack:function(){}},y=function(t,e,n){if("[object Object]"===Object.prototype.toString.call(t))for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.call(n,t[o],o,t);else for(var i=0,r=t.length;r>i;i++)e.call(n,t[i],i,t)},w=function(t,e){for(var n=e.charAt(0);t&&t!==document;t=t.parentNode)if("."===n){if(t.classList.contains(e.substr(1)))return t}else if("#"===n){if(t.id===e.substr(1))return t}else if("["===n&&t.hasAttribute(e.substr(1,e.length-2)))return t;return!1},b=function(t,e){var n={};return y(t,function(e,o){n[o]=t[o]}),y(e,function(t,o){n[o]=e[o]}),n},x=function(t,e){if(t.classList)t.classList.toggle(e);else{var n=t.className.split(" "),o=n.indexOf(e);o>=0?n.splice(o,1):n.push(e),t.className=n.join(" ")}},T=function(t){c=document.createElement("span"),s=document.createElement("ul"),a=document.createElement("button"),a.innerHTML=h.navDropdownLabel,t.insertAfter(c,t.querySelector(r)),c.appendChild(s),c.appendChild(a),s.classList.add(h.navDropdown),s.classList.add("priority-nav__dropdown"),a.classList.add(h.navDropdownToggle),a.classList.add("priority-nav__dropdown-toggle"),c.classList.add(h.navDropdown+"-wrapper"),c.classList.add("priority-nav__wrapper"),t.classList.add("priority-nav")},C=function(t){var e=window.getComputedStyle(t),n=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight);return t.clientWidth-n},E=function(){var t=document,e=window,n=t.compatMode&&"CSS1Compat"===t.compatMode?t.documentElement:t.body,o=n.clientWidth,i=n.clientHeight;return e.innerWidth&&o>e.innerWidth&&(o=e.innerWidth,i=e.innerHeight),{width:o,height:i}},S=function(t){o=C(t),l=t.querySelector(s).parentNode===t?t.querySelector(s).offsetWidth:0,i=$(t)+h.offsetPixels,v=E().width};d.doesItFit=function(t){var n=0===t.getAttribute("instance")?n:h.throttleDelay;f++,e(function(){var e=t.getAttribute("instance");for(S(t);i>=o&&t.querySelector(r).children.length>0||v<h.breakPoint&&t.querySelector(r).children.length>0;)d.toDropdown(t,e),S(t,e),v<h.breakPoint&&k(t,e,h.navDropdownBreakpointLabel);for(;o>=u[e][u[e].length-1]&&v>h.breakPoint;)d.toMenu(t,e),v>h.breakPoint&&k(t,e,h.navDropdownLabel);u[e].length<1&&t.querySelector(s).classList.remove("show"),I(t,e)},n)()};var I=function(t,e){u[e].length<1?(t.querySelector(a).classList.add("priority-nav-is-hidden"),t.querySelector(a).classList.remove("priority-nav-is-visible"),t.classList.remove("priority-nav-has-dropdown")):(t.querySelector(a).classList.add("priority-nav-is-visible"),t.querySelector(a).classList.remove("priority-nav-is-hidden"),t.classList.add("priority-nav-has-dropdown"))},D=function(t,e){t.querySelector(a).setAttribute("priorityNav-count",u[e].length)},k=function(t,e,n){t.querySelector(a).innerHTML=n};d.toDropdown=function(t,e){t.querySelector(s).firstChild&&t.querySelector(r).children.length>0?t.querySelector(s).insertBefore(t.querySelector(r).lastElementChild,t.querySelector(s).firstChild):t.querySelector(r).children.length>0&&t.querySelector(s).appendChild(t.querySelector(r).lastElementChild),u[e].push(i),I(t,e),t.querySelector(r).children.length>0&&h.count&&D(t,e),h.moved()},d.toMenu=function(t,e){t.querySelector(s).children.length>0&&t.querySelector(r).appendChild(t.querySelector(s).firstElementChild),u[e].pop(),I(t,e),t.querySelector(r).children.length>0&&h.count&&D(t,e),h.movedBack()};var $=function(t){for(var e=t.childNodes,n=0,o=0;o<e.length;o++)3!==e[o].nodeType&&(isNaN(e[o].offsetWidth)||(n+=e[o].offsetWidth));return n},A=function(t){window.attachEvent?window.attachEvent("onresize",function(){d.doesItFit&&d.doesItFit(t)}):window.addEventListener&&window.addEventListener("resize",function(){d.doesItFit&&d.doesItFit(t)},!0),t.querySelector(a).addEventListener("click",function(){x(t.querySelector(s),"show"),x(this,"is-open"),x(t,"is-open")}),document.addEventListener("click",function(e){w(e.target,h.navDropdown)||e.target===t.querySelector(a)||(t.querySelector(s).classList.remove("show"),t.querySelector(a).classList.remove("is-open"),t.classList.remove("is-open"))}),document.onkeydown=function(t){t=t||window.event,27===t.keyCode&&(s.classList.remove("show"),a.classList.remove("is-open"),n.classList.remove("is-open"))}};return Element.prototype.remove=function(){this.parentElement.removeChild(this)},NodeList.prototype.remove=HTMLCollection.prototype.remove=function(){for(var t=0,e=this.length;e>t;t++)this[t]&&this[t].parentElement&&this[t].parentElement.removeChild(this[t])},d.destroy=function(){h&&(document.documentElement.classList.remove(h.initClass),c.remove(),h=null,delete d.init,delete d.doesItFit)},Node.prototype.insertAfter=function(t,e){this.insertBefore(t,e.nextSibling)},d.init=function(t){if(!p)return void console.warn("This browser doesn't support priorityNav");h=b(g,t||{});var e=document.querySelectorAll(h.mainNavWrapper);y(e,function(t){return u[m]=[],t.setAttribute("instance",m++),(n=t)?(r=h.mainNav,t.querySelector(r)?(T(t),s="."+h.navDropdown,t.querySelector(s)?(a="."+h.navDropdownToggle,t.querySelector(a)?(A(t),void d.doesItFit(t)):void console.warn("couldn't find the specified navDropdownToggle element")):void console.warn("couldn't find the specified navDropdown element")):void console.warn("couldn't find the specified mainNav element")):void console.warn("couldn't find the specified mainNavWrapper element")}),f++,document.documentElement.classList.add(h.initClass)},d});;'use strict';(function($){$(document).ready(function(){if($('.picture-caption-icon').length>0){$('.picture-caption-icon').click(function(e){e.stopPropagation();e.preventDefault();$(this).next('figcaption').toggleClass('visible');});}});}(jQuery));'use strict';(function(){var initPhotoSwipeFromDOM=function(gallerySelector){var parseThumbnailElements=function(el){var thumbElements=el.getElementsByClassName('gallery-item'),numNodes=thumbElements.length,items=[],childElements,size,item;for(var i=0;i<numNodes;i++){el=thumbElements[i];if(el.nodeType!==1){continue;}
childElements=el.children;if(el.getAttribute('data-size')){size=el.getAttribute('data-size').split('x');}
item={src:el.getAttribute('href'),w:parseInt(size[0],10),h:parseInt(size[1],10)};item.el=el;if(childElements.length>0){item.msrc=childElements[0].getAttribute('src');if(childElements.length>1){item.title=childElements[1].innerHTML;}}
var mediumSrc=el.getAttribute('data-med');if(mediumSrc){size=el.getAttribute('data-med-size').split('x');item.m={src:mediumSrc,w:parseInt(size[0],10),h:parseInt(size[1],10)};}
item.o={src:item.src,w:item.w,h:item.h};item.m=item.o;items.push(item);}
return items;};var closest=function closest(el,fn){return el&&(fn(el)?el:closest(el.parentNode,fn));};var photoswipeParseHash=function(){var hash=window.location.hash.substring(1),params={};if(hash.length<5){return params;}
var vars=hash.split('&');for(var i=0;i<vars.length;i++){if(!vars[i]){continue;}
var pair=vars[i].split('=');if(pair.length<2){continue;}
params[pair[0]]=pair[1];}
if(params.gid){params.gid=parseInt(params.gid,10);}
if(!params.hasOwnProperty('pid')){return params;}
params.pid=parseInt(params.pid,10);return params;};var openPhotoSwipe=function(index,galleryElement,disableAnimation){var pswpElement=document.querySelectorAll('.pswp')[0],gallery,options,items;items=parseThumbnailElements(galleryElement);options={index:index,galleryUID:galleryElement.getAttribute('data-pswp-uid'),getThumbBoundsFn:function(index){var thumbnail=items[index].el.children[0],pageYScroll=window.pageYOffset||document.documentElement.scrollTop,rect=thumbnail.getBoundingClientRect();return{x:rect.left,y:rect.top+pageYScroll,w:rect.width};},addCaptionHTMLFn:function(item,captionEl){if(!item.title){captionEl.children[0].innerText='';return false;}
captionEl.children[0].innerHTML=item.title+'<br/><small>Photo: '+item.author+'</small>';return true;}};if(disableAnimation){options.showAnimationDuration=0;}
gallery=new PhotoSwipe(pswpElement,PhotoSwipeUI_Default,items,options);var realViewportWidth,useLargeImages=false,firstResize=true,imageSrcWillChange;gallery.listen('beforeResize',function(){var dpiRatio=window.devicePixelRatio?window.devicePixelRatio:1;dpiRatio=Math.min(dpiRatio,2.5);realViewportWidth=gallery.viewportSize.x*dpiRatio;if(realViewportWidth>=1200||(!gallery.likelyTouchDevice&&realViewportWidth>800)||screen.width>1200){if(!useLargeImages){useLargeImages=true;imageSrcWillChange=true;}}else{if(useLargeImages){useLargeImages=false;imageSrcWillChange=true;}}
if(imageSrcWillChange&&!firstResize){gallery.invalidateCurrItems();}
if(firstResize){firstResize=false;}
imageSrcWillChange=false;});gallery.listen('gettingData',function(index,item){if(useLargeImages){item.src=item.o.src;item.w=item.o.w;item.h=item.o.h;}else{item.src=item.m.src;item.w=item.m.w;item.h=item.m.h;}});gallery.init();};var onThumbnailsClick=function(e){e=e||window.event;var eTarget=e.target||e.srcElement;var clickedListItem=closest(eTarget,function(el){if(el.classList){var gallery_item_target=el.classList.contains('gallery-item');if(gallery_item_target){if(e.preventDefault){e.preventDefault();}else{e.returnValue=false;}}
return gallery_item_target;}});if(!clickedListItem){return;}
var clickedGallery=clickedListItem.closest('.gallery');var childNodes=clickedGallery.getElementsByClassName('gallery-item'),numChildNodes=childNodes.length,nodeIndex=0,index;for(var i=0;i<numChildNodes;i++){if(childNodes[i].nodeType!==1){continue;}
if(childNodes[i]===clickedListItem){index=nodeIndex;break;}
nodeIndex++;}
if(index>=0){openPhotoSwipe(index,clickedGallery);}
return false;};var galleryElements=document.querySelectorAll(gallerySelector);for(var i=0,l=galleryElements.length;i<l;i++){galleryElements[i].setAttribute('data-pswp-uid',i+1);galleryElements[i].onclick=onThumbnailsClick;}
var hashData=photoswipeParseHash();if(hashData.pid>0&&hashData.gid>0){openPhotoSwipe(hashData.pid-1,galleryElements[hashData.gid-1],true);}};initPhotoSwipeFromDOM('.gallery');})();'use strict';(function($){var BrowserDetect={init:function(){this.browser=this.searchString(this.dataBrowser)||'Other';this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||'Unknown';},searchString:function(data){for(var i=0;i<data.length;i++){var dataString=data[i].string;this.versionSearchString=data[i].subString;if(dataString.indexOf(data[i].subString)!==-1){return data[i].identity;}}},searchVersion:function(dataString){var index=dataString.indexOf(this.versionSearchString);if(index===-1){return;}
var rv=dataString.indexOf('rv:');if(this.versionSearchString==='Trident'&&rv!==-1){return parseFloat(dataString.substring(rv+3));}else{return parseFloat(dataString.substring(index+this.versionSearchString.length+1));}},dataBrowser:[{string:navigator.userAgent,subString:'Edge',identity:'MS Edge'},{string:navigator.userAgent,subString:'MSIE',identity:'Explorer'},{string:navigator.userAgent,subString:'Trident',identity:'Explorer'},{string:navigator.userAgent,subString:'Firefox',identity:'Firefox'},{string:navigator.userAgent,subString:'Opera',identity:'Opera'},{string:navigator.userAgent,subString:'OPR',identity:'Opera'},{string:navigator.userAgent,subString:'Chrome',identity:'Chrome'},{string:navigator.userAgent,subString:'Safari',identity:'Safari'}]};BrowserDetect.init();if(BrowserDetect.browser==='Explorer'){$('html').addClass('ie');}}(jQuery));'use strict';(function($){$(function(){$('#navbar-search').on('shown.bs.collapse',function(){$(this).find('input').focus();});$(document).keyup(function(e){if(e.keyCode===27&&$('#navbar-search input:focus')){$('#navbar-search').collapse('hide').find('input').blur();}});});$('html').toggleClass('no-js js');}(jQuery));'use strict';(function($){$(document).ready(function(){var header_height=$('header.header').height();var navbar_default=$('.navbar-default');if(navbar_default&&navbar_default.offset()){const navbar_default_offset=navbar_default.offset().top;navbar_default.affix({offset:{top:function(){var elemAd=document.querySelector('header .block-lt-admeira'),AdOffsetHeight=0;if(elemAd){AdOffsetHeight=elemAd.clientHeight;}
return navbar_default_offset+AdOffsetHeight;},}});}
$('#main-navbar').headroom({offset:header_height+400,tolerance:{up:15,down:5},classes:{initial:'navbar-base',pinned:'navbar-pinned',unpinned:'navbar-unpinned',top:'navbar-top',notTop:'navbar-not-top'},onPin:function(){$('header.header').removeClass('header-pinned-elements');const sponsorSticky=document.getElementsByClassName('sponsorbar-sticky ')[0];if(sponsorSticky){sponsorSticky.classList.remove('sticky-no-menu');}},onUnpin:function(){$('.navbar-nav .dropdown.open .dropdown-toggle').dropdown('toggle');$('#main-nav-collapse').collapse('hide');$('header.header').addClass('header-pinned-elements');const sponsorSticky=document.getElementsByClassName('sponsorbar-sticky ')[0];if(sponsorSticky){sponsorSticky.classList.add('sticky-no-menu');}},onNotTop:function(){$('.navbar-nav .dropdown.open .dropdown-toggle').dropdown('toggle');}});$('.search-form input').focus(function(){$(this).parent().find('input[type="submit"]').toggleClass('hover');});var $nav=$('.js-priority-wrapper-letemps');var $more=$('.js-priority-wrapper-letemps .more');var $vlinks=$('.js-priority-wrapper-letemps .visible-links');var $hlinks=$('.js-priority-wrapper-letemps .hidden-links');var $searchfield=$('.navbar-search');var $weatherlink=$('.navbar-weather');var breaks=[];var updateNav=function(){if($(window).width()<768){return;}
var availableSpace=$more.hasClass('hidden')?$nav.width():$nav.width()-$more.width();availableSpace=availableSpace-$searchfield.width()-$weatherlink.width()-20;if($vlinks.width()>availableSpace){breaks.push($vlinks.width());$vlinks.children().last().prependTo($hlinks);if($more.hasClass('hidden')){$more.removeClass('hidden');}}else{if(availableSpace>=breaks[breaks.length-1]){$hlinks.children().first().appendTo($vlinks);breaks.pop();}
if(!breaks.length){$more.addClass('hidden');}}
$more.attr('count',breaks.length);if($vlinks.width()>availableSpace){updateNav();}};function debounce(func,wait,immediate){var timeout;return function(){var context=this,args=arguments;var later=function(){timeout=null;if(!immediate){func.apply(context,args);}};var callNow=immediate&&!timeout;clearTimeout(timeout);timeout=setTimeout(later,wait);if(callNow){func.apply(context,args);}};}});}(jQuery));(function($){$('[data-toggle="popover"]').popover();$('body').on('inserted.bs.popover',function(e){$('body').append('<div class="popover-overlay"></div>');}).on('hide.bs.popover',function(){$('.popover-overlay').remove();});})(jQuery);(function($){$('.newsticker-share>.icon-share').on('click',function(){var $button=$(this);if($button.attr('aria-expanded')!=='true'){$button.attr('aria-expanded','true');$button.parent().addClass('active');}else{$button.attr('aria-expanded','false');$button.parent().removeClass('active');}});})(jQuery);(function($){$('[role="tablist"]>[role="tab"]').on('click',function(){var $tab=$(this);var $tabId=$tab.attr('aria-controls');var $otherTab=($tabId==='tab-1')?'tab-2':'tab-1';if($tab.attr('aria-selected')!=='true'){$tab.attr('aria-selected','true');$('[role="tablist"]>[role="tab"][aria-controls='+$otherTab+']').attr('aria-selected','false');$('#'+$tabId).attr('active','true');$('#'+$otherTab).attr('active','false');}});})(jQuery);;(function($,drupalSettings){"use strict";$(".navbar-default").on('affixed-top.bs.affix',function(){var $elements=$('header.header');$elements.removeClass('header-fixed-elements');}).on('affixed.bs.affix',function(){var $elements=$('header.header');$elements.addClass('header-fixed-elements');});})(jQuery,drupalSettings);;(function($,Drupal){Drupal.timestampAsTimeDiff=Drupal.timestampAsTimeDiff||{};Drupal.dateFormatter=Drupal.dateFormatter||{};Drupal.behaviors.timestampAsTimeDiff={attach:function(){$('time').once('time-diff').each(function(index,$elem){if(!$elem.closest('.home-events')){Drupal.timestampAsTimeDiff.showTimeDiff($elem);}});},detach:function(context,settings,trigger){if(trigger==='unload'){const elements=$(context).find('time');elements.removeOnce('time-diff');}}};Drupal.timestampAsTimeDiff.showTimeDiff=function($elem){const timestamp=new Date($($elem).attr('datetime')).getTime();const now=Date.now();let timeDiff;let formattedDate;if(timestamp>now){timeDiff=Drupal.dateFormatter.formatDiff(now,timestamp);formattedDate=Drupal.t('@time hence',{'@time':timeDiff.formatted});}else{if(!(now-timestamp<6.048e+8)){return false;}
timeDiff=Drupal.dateFormatter.formatDiff(timestamp,now);formattedDate=Drupal.t('@time ago',{'@time':timeDiff.formatted});}
$($elem).text(formattedDate);};Drupal.dateFormatter.formatDiff=function(from,to,options){options=options||{};options=$.extend({granularity:1,strict:true},options);if(options.strict&&from>to){return{formatted:Drupal.t('0 seconds'),value:{second:0}};}
const output=[];const value={};let units;let granularity=options.granularity;let diff=Math.round(Math.abs(to-from)/1000);$.each(Drupal.dateFormatter.intervals,function(interval,duration){units=Math.floor(diff/duration);if(units>0){diff%=units*duration;switch(interval){case 'year':output.push(Drupal.formatPlural(units,'1 year','@count years'));break;case 'month':output.push(Drupal.formatPlural(units,'1 month','@count months'));break;case 'week':output.push(Drupal.formatPlural(units,'1 week','@count weeks'));break;case 'day':output.push(Drupal.formatPlural(units,'1 day','@count days'));break;case 'hour':output.push(Drupal.formatPlural(units,'1 hour','@count hours'));break;case 'minute':output.push(Drupal.formatPlural(units,'1 minute','@count minutes'));break;default:output.push(Drupal.formatPlural(units,'1 second','@count seconds'));}
value[interval]=units;granularity-=1;if(granularity<=0){return false;}}else if(output.length>0){return false;}});if(output.length===0){return{formatted:Drupal.t('0 seconds'),value:{second:0}};}
return{formatted:output.join(' ')};};Drupal.dateFormatter.intervals={year:31536000,month:2592000,week:604800,day:86400,hour:3600,minute:60,second:1,};})(jQuery,Drupal);;(function(Drupal,drupalSettings){Drupal.behaviors.activeLinks={attach:function attach(context){var path=drupalSettings.path;var queryString=JSON.stringify(path.currentQuery);var querySelector=path.currentQuery?"[data-drupal-link-query='".concat(queryString,"']"):':not([data-drupal-link-query])';var originalSelectors=["[data-drupal-link-system-path=\"".concat(path.currentPath,"\"]")];var selectors;if(path.isFront){originalSelectors.push('[data-drupal-link-system-path="<front>"]');}
selectors=[].concat(originalSelectors.map(function(selector){return "".concat(selector,":not([hreflang])");}),originalSelectors.map(function(selector){return "".concat(selector,"[hreflang=\"").concat(path.currentLanguage,"\"]");}));selectors=selectors.map(function(current){return current+querySelector;});var activeLinks=context.querySelectorAll(selectors.join(','));var il=activeLinks.length;for(var i=0;i<il;i++){activeLinks[i].classList.add('is-active');}},detach:function detach(context,settings,trigger){if(trigger==='unload'){var activeLinks=context.querySelectorAll('[data-drupal-link-system-path].is-active');var il=activeLinks.length;for(var i=0;i<il;i++){activeLinks[i].classList.remove('is-active');}}}};})(Drupal,drupalSettings);;(function($,Drupal,_){"use strict";var entityInstancesTracker=[];Drupal.behaviors.np8_subscription_leads={attach:function(context){entityInstancesTracker=[];$(context).find('[data-paywall-entity-id]').once('np8_subscription').each(function(index,entityElement){var entityID=entityElement.getAttribute('data-paywall-entity-id');entityInstancesTracker.push(entityID);});if(entityInstancesTracker.length==0){return;}
getLeads();}};function getLeads(){if(entityInstancesTracker.length){$.ajax({url:Drupal.url('np8_subscription/check_access'),type:'POST',data:{'entities[]':entityInstancesTracker},dataType:'json',success:function(results){_.each(results,function(data,entity_string){var data_attribute='data-paywall-entity-id';var $article=$('article[data-paywall-entity-id="'+entity_string+'"]');if(data.access){$article.removeClass('paywall-no-access').addClass('paywall-access');$article.find('.node__title a, .paywall-wrapper a').filter(function(index){if($(this).attr('href')=='/purchase-subscription/'+entity_string){return $(this).parents('.node').first().attr(data_attribute)==entity_string;}}).off().attr('href',data.url);if(data.replacements){data.replacements.forEach(function(replacement){$article.find(replacement.selector).replaceWith(replacement.data);});}}});}});}}})(jQuery,Drupal,_);;(function($,Drupal){'use strict';var ajaxSettings={};var element=document.getElementsByClassName('lazy-load-related');if(element.length){let observer=new IntersectionObserver(function(entries,observer){for(let entry of entries){if(entry.isIntersecting){const data={nodeId:element[0].getAttribute('data-node-id'),sectionId:element[0].getAttribute('data-section-id'),tagIds:element[0].getAttribute('data-tag-ids'),selectedTagId:element[0].getAttribute('data-selectedtag'),};$.ajax({url:drupalSettings.path.baseUrl+'api/related_news'+'?'+$.param(data),dataType:"json",success:function(response){if(response.data){$(response.target).html(response.data);$('[data-toggle="popover"]').popover()}
$('.tag-related .tag-name li').once('tag_related_changed').click(function(){$('.ajax-tag-related').html('<div class="loader"><div class="circle1"></div><div class="circle2"></div><div class="circle3"></div></div>');const currentTagId=$(this).data('tag-id');const dataTag={nodeId:element[0].getAttribute('data-node-id'),sectionId:element[0].getAttribute('data-section-id'),tagIds:element[0].getAttribute('data-tag-ids'),selectedTagId:currentTagId,};$.ajax({url:drupalSettings.path.baseUrl+'api/related_news'+'?'+$.param(dataTag),dataType:"json",success:function(response){if(response.data){$(response.target).html(response.data);if(response.followContainer){$('.follow-tag-container').find('.follow-action-add').replaceWith(response.followContainer);$('[data-toggle="popover"]').popover();}
var $option=$('.tag-related .tag-name li[data-tag-id="'+currentTagId+'"]');$('.tag-name button span.text').text($option.text());$('.tag-related .tag-name li').removeClass('hidden');$option.addClass('hidden');}}});});}});observer.disconnect();}}});observer.observe(element[0]);}
Drupal.behaviors.tag_related_changed={attach:function attach(context){$('.tag-related select.tag-name').once('tag_related_changed').change(function(){$('.ajax-tag-related').html('<div class="loader"><div class="circle1"></div><div class="circle2"></div><div class="circle3"></div></div>');ajaxSettings.submit.selectedTagId=this.value;var myAjaxObject=Drupal.ajax(ajaxSettings);myAjaxObject.execute();});}};}(jQuery,Drupal));;(function($,Drupal){'use strict';Drupal.behaviors.hovercard={attach:function attach(context,settings){$('.link-wrapper-hovercard').once('hovercard').each(function(index,item){const $wrapper=$(item);const $link=$wrapper.find('a');let timerLeave,timerEnter,loading,isMouseEnter,clicked,bookmarkOn=false;$link.on('click',()=>{clicked=true;if(timerEnter){clearTimeout(timerEnter);}});$wrapper.on('mouseenter',function(e){const self=this;if(timerLeave){clearTimeout(timerLeave);}
if(self.hasHovercard&&!clicked){timerEnter=setTimeout(()=>{self.querySelector('.hovercard').classList.remove('hide');},300);}else{if(loading){return;}
loading=isMouseEnter=true;const t0=performance.now();fetch(Drupal.url('api/hovercard?url='+encodeURI($link.data('hovercard')))).then((function(response){if(!response.ok){throw new Error();}
return response.text()})).then(function(html){const fragment=document.createRange().createContextualFragment(html);self.append(fragment);const hoverCard=self.querySelector('.hovercard');$(hoverCard).find('[data-toggle="popover"]').popover();const bookmarkAction=$(hoverCard).find('.bookmark-action-add a');if(bookmarkAction){bookmarkAction.on('show.bs.popover',function(){bookmarkOn=true;}).on('hide.bs.popover',function(){bookmarkOn=false;$wrapper.trigger('mouseleave');});}
if(isMouseEnter&&!clicked){const t1=performance.now();let delay=150;if((t1-t0)<=0){delay=0;}
setTimeout(()=>{hoverCard.classList.remove('hide');if(window.dataLayer){window.dataLayer.push({"event":"PreviewLink","eventCategory":"PreviewLink","eventAction":"Visible","eventLabel":$link.data('hovercard')});}},delay);}
self.hasHovercard=true;}).catch(function(e){$wrapper.off('mouseenter mouseleave');});}}).on('mouseleave',function(e){if(bookmarkOn){return;}
const self=this;isMouseEnter=false;if(timerEnter){clearTimeout(timerEnter);}
timerLeave=setTimeout(function(){const hovercard=self.querySelector('.hovercard');if(hovercard){hovercard.classList.replace('fade-in-up','fade-out-down');setTimeout(()=>{hovercard.classList.add('hide');hovercard.classList.replace('fade-out-down','fade-in-up');},500);}},300);});});}};}(jQuery,Drupal));;/*!pym.js - v1.3.2 - 2018-02-13*/!function(a){"function"==typeof define&&define.amd?define(a):"undefined"!=typeof module&&module.exports?module.exports=a():window.pym=a.call(this)}(function(){var a={},b=function(a){var b=document.createEvent("Event");b.initEvent("pym:"+a,!0,!0),document.dispatchEvent(b)},c=function(a){var b=new RegExp("[\\?&]"+a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]")+"=([^&#]*)"),c=b.exec(location.search);return null===c?"":decodeURIComponent(c[1].replace(/\+/g," "))},d=function(a,b){if(("*"===b.xdomain||a.origin.match(new RegExp(b.xdomain+"$")))&&"string"==typeof a.data)return!0},e=function(a){var b=/^(?:(?:https?|mailto|ftp):|[^&:\/?#]*(?:[\/?#]|$))/gi;if(a.match(b))return!0},f=function(a,b,c){return["pym",a,b,c].join("xPYMx")},g=function(a){var b=["pym",a,"(\\S+)","(.*)"];return new RegExp("^"+b.join("xPYMx")+"$")},h=Date.now||function(){return(new Date).getTime()},i=function(a,b,c){var d,e,f,g=null,i=0;c||(c={});var j=function(){i=!1===c.leading?0:h(),g=null,f=a.apply(d,e),g||(d=e=null)};return function(){var k=h();i||!1!==c.leading||(i=k);var l=b-(k-i);return d=this,e=arguments,l<=0||l>b?(g&&(clearTimeout(g),g=null),i=k,f=a.apply(d,e),g||(d=e=null)):g||!1===c.trailing||(g=setTimeout(j,l)),f}},j=function(){for(var b=a.autoInitInstances.length,c=b-1;c>=0;c--){var d=a.autoInitInstances[c];d.el.getElementsByTagName("iframe").length&&d.el.getElementsByTagName("iframe")[0].contentWindow||a.autoInitInstances.splice(c,1)}};return a.autoInitInstances=[],a.autoInit=function(c){var d=document.querySelectorAll("[data-pym-src]:not([data-pym-auto-initialized])"),e=d.length;j();for(var f=0;f<e;++f){var g=d[f];g.setAttribute("data-pym-auto-initialized",""),""===g.id&&(g.id="pym-"+f+"-"+Math.random().toString(36).substr(2,5));var h=g.getAttribute("data-pym-src"),i={xdomain:"string",title:"string",name:"string",id:"string",sandbox:"string",allowfullscreen:"boolean",parenturlparam:"string",parenturlvalue:"string",optionalparams:"boolean",trackscroll:"boolean",scrollwait:"number"},k={};for(var l in i)if(null!==g.getAttribute("data-pym-"+l))switch(i[l]){case"boolean":k[l]=!("false"===g.getAttribute("data-pym-"+l));break;case"string":k[l]=g.getAttribute("data-pym-"+l);break;case"number":var m=Number(g.getAttribute("data-pym-"+l));isNaN(m)||(k[l]=m);break;default:console.err("unrecognized attribute type")}var n=new a.Parent(g.id,h,k);a.autoInitInstances.push(n)}return c||b("pym-initialized"),a.autoInitInstances},a.Parent=function(a,b,c){this.id=a,this.url=b,this.el=document.getElementById(a),this.iframe=null,this.settings={xdomain:"*",optionalparams:!0,parenturlparam:"parentUrl",parenturlvalue:window.location.href,trackscroll:!1,scrollwait:100},this.messageRegex=g(this.id),this.messageHandlers={},c=c||{},this._constructIframe=function(){var a=this.el.offsetWidth.toString();this.iframe=document.createElement("iframe");var b="",c=this.url.indexOf("#");for(c>-1&&(b=this.url.substring(c,this.url.length),this.url=this.url.substring(0,c)),this.url.indexOf("?")<0?this.url+="?":this.url+="&",this.iframe.src=this.url+"initialWidth="+a+"&childId="+this.id,this.settings.optionalparams&&(this.iframe.src+="&parentTitle="+encodeURIComponent(document.title),this.iframe.src+="&"+this.settings.parenturlparam+"="+encodeURIComponent(this.settings.parenturlvalue)),this.iframe.src+=b,this.iframe.setAttribute("width","100%"),this.iframe.setAttribute("scrolling","no"),this.iframe.setAttribute("marginheight","0"),this.iframe.setAttribute("frameborder","0"),this.settings.title&&this.iframe.setAttribute("title",this.settings.title),void 0!==this.settings.allowfullscreen&&!1!==this.settings.allowfullscreen&&this.iframe.setAttribute("allowfullscreen",""),void 0!==this.settings.sandbox&&"string"==typeof this.settings.sandbox&&this.iframe.setAttribute("sandbox",this.settings.sandbox),this.settings.id&&(document.getElementById(this.settings.id)||this.iframe.setAttribute("id",this.settings.id)),this.settings.name&&this.iframe.setAttribute("name",this.settings.name);this.el.firstChild;)this.el.removeChild(this.el.firstChild);this.el.appendChild(this.iframe),window.addEventListener("resize",this._onResize),this.settings.trackscroll&&window.addEventListener("scroll",this._throttleOnScroll)},this._onResize=function(){this.sendWidth(),this.settings.trackscroll&&this.sendViewportAndIFramePosition()}.bind(this),this._onScroll=function(){this.sendViewportAndIFramePosition()}.bind(this),this._fire=function(a,b){if(a in this.messageHandlers)for(var c=0;c<this.messageHandlers[a].length;c++)this.messageHandlers[a][c].call(this,b)},this.remove=function(){window.removeEventListener("message",this._processMessage),window.removeEventListener("resize",this._onResize),this.el.removeChild(this.iframe),j()},this._processMessage=function(a){if(d(a,this.settings)&&"string"==typeof a.data){var b=a.data.match(this.messageRegex);if(!b||3!==b.length)return!1;var c=b[1],e=b[2];this._fire(c,e)}}.bind(this),this._onHeightMessage=function(a){var b=parseInt(a);this.iframe.setAttribute("height",b+"px")},this._onNavigateToMessage=function(a){e(a)&&(document.location.href=a)},this._onScrollToChildPosMessage=function(a){var b=document.getElementById(this.id).getBoundingClientRect().top+window.pageYOffset,c=b+parseInt(a);window.scrollTo(0,c)},this.onMessage=function(a,b){a in this.messageHandlers||(this.messageHandlers[a]=[]),this.messageHandlers[a].push(b)},this.sendMessage=function(a,b){this.el.getElementsByTagName("iframe").length&&(this.el.getElementsByTagName("iframe")[0].contentWindow?this.el.getElementsByTagName("iframe")[0].contentWindow.postMessage(f(this.id,a,b),"*"):this.remove())},this.sendWidth=function(){var a=this.el.offsetWidth.toString();this.sendMessage("width",a)},this.sendViewportAndIFramePosition=function(){var a=this.iframe.getBoundingClientRect(),b=window.innerWidth||document.documentElement.clientWidth,c=window.innerHeight||document.documentElement.clientHeight,d=b+" "+c;d+=" "+a.top+" "+a.left,d+=" "+a.bottom+" "+a.right,this.sendMessage("viewport-iframe-position",d)};for(var h in c)this.settings[h]=c[h];return this._throttleOnScroll=i(this._onScroll.bind(this),this.settings.scrollwait),this.onMessage("height",this._onHeightMessage),this.onMessage("navigateTo",this._onNavigateToMessage),this.onMessage("scrollToChildPos",this._onScrollToChildPosMessage),this.onMessage("parentPositionInfo",this.sendViewportAndIFramePosition),window.addEventListener("message",this._processMessage,!1),this._constructIframe(),this},a.Child=function(a){this.parentWidth=null,this.id=null,this.parentTitle=null,this.parentUrl=null,this.settings={renderCallback:null,xdomain:"*",polling:0,parenturlparam:"parentUrl"},this.timerId=null,this.messageRegex=null,this.messageHandlers={},a=a||{},this.onMessage=function(a,b){a in this.messageHandlers||(this.messageHandlers[a]=[]),this.messageHandlers[a].push(b)},this._fire=function(a,b){if(a in this.messageHandlers)for(var c=0;c<this.messageHandlers[a].length;c++)this.messageHandlers[a][c].call(this,b)},this._processMessage=function(a){if(d(a,this.settings)&&"string"==typeof a.data){var b=a.data.match(this.messageRegex);if(b&&3===b.length){var c=b[1],e=b[2];this._fire(c,e)}}}.bind(this),this._onWidthMessage=function(a){var b=parseInt(a);b!==this.parentWidth&&(this.parentWidth=b,this.settings.renderCallback&&this.settings.renderCallback(b),this.sendHeight())},this.sendMessage=function(a,b){window.parent.postMessage(f(this.id,a,b),"*")},this.sendHeight=function(){var a=document.getElementsByTagName("body")[0].offsetHeight.toString();return this.sendMessage("height",a),a}.bind(this),this.getParentPositionInfo=function(){this.sendMessage("parentPositionInfo")},this.scrollParentTo=function(a){this.sendMessage("navigateTo","#"+a)},this.navigateParentTo=function(a){this.sendMessage("navigateTo",a)},this.scrollParentToChildEl=function(a){var b=document.getElementById(a).getBoundingClientRect().top+window.pageYOffset;this.scrollParentToChildPos(b)},this.scrollParentToChildPos=function(a){this.sendMessage("scrollToChildPos",a.toString())};this.remove=function(){window.removeEventListener("message",this._processMessage),this.timerId&&clearInterval(this.timerId)};for(var e in a)this.settings[e]=a[e];this.id=c("childId")||a.id,this.messageRegex=new RegExp("^pymxPYMx"+this.id+"xPYMx(\\S+)xPYMx(.*)$");var g=parseInt(c("initialWidth"));return this.parentUrl=c(this.settings.parenturlparam),this.parentTitle=c("parentTitle"),this.onMessage("width",this._onWidthMessage),window.addEventListener("message",this._processMessage,!1),this.settings.renderCallback&&this.settings.renderCallback(g),this.sendHeight(),this.settings.polling&&(this.timerId=window.setInterval(this.sendHeight,this.settings.polling)),function(a){var c,d=document.getElementsByTagName("html")[0],e=d.className;try{c=window.self!==window.top?"embedded":"not-embedded"}catch(a){c="embedded"}e.indexOf(c)<0&&(d.className=e?e+" "+c:c,a&&a(c),b("marked-embedded"))}(a.onMarkedEmbeddedStatus),this},"undefined"!=typeof document&&a.autoInit(!0),a});;(function($,Drupal,drupalSettings){"use strict";var shortLink='',pending=[];if($('link[rel=shortlink]').length){shortLink=$('link[rel=shortlink]').attr('href')+'/nl_subscription';if(typeof shortLink==="undefined"||!shortLink){shortLink='/front'+'/nl_subscription';}}
else{shortLink='/nl_subscription_landing?alias='+window.location.pathname;}
Drupal.behaviors.newsletter={attach:function(context,settings){var mailaddress=readCookie("nl_subscription_email");$('.nl-subscription-container').once('newsletters').each(function(){var ajaxSettings={url:shortLink,email:(mailaddress?mailaddress:''),type:'POST',};var myAjaxObject=Drupal.ajax(ajaxSettings);myAjaxObject.commands.destroyObject=function(ajax,response,status){Drupal.ajax.instances[this.instanceIndex]=null;};myAjaxObject.execute();Drupal.attachBehaviors(context);});}};$.fn.onloadNLSubscriptionForm=function(form){var expire_date=new Date(),interest_id=$('.nl-subscription-container form div[data-interest-id]').attr("data-interest-id");expire_date.setTime(expire_date.getTime()+(24*60*60*1000));if(typeof interest_id!=="undefined"){if(!readCookie("nl_subscription_box_"+interest_id)){$('.nl-subscription-inarticle').insertAfter($("div.body_content > div > p:eq(3)"));$('.nl-subscription-container').show();var usefull_classes=$('.nl-subscription-box').attr("class").replace('nl-subscription-box','');$('.nl-subscription-container').addClass(usefull_classes);document.cookie="nl_subscription_box_"+interest_id+"="+1+"; expires="+expire_date.toUTCString()+"; path=/";window.dataLayer.push({"NewsletterID":interest_id});}}};$('.nl-subscription-container, .newsletters-page, .newsletter-page, .nl-subscription-container-footer').on('click','.nl-subscription-submit',function(){var form_id=$(this).closest('form.mailchimp-profile-form').attr('id'),$container=$(this).closest('[data-interest-id]'),interest=$container.attr('data-interest-id'),checked=$('#'+form_id).find('[name="chk_'+interest+'"]').prop("checked");pending.push({'form-id':form_id,'interest-id':interest,'value':checked});$container.addClass('pending');triggerClick();});function triggerClick(){var form_id=pending[0]['form-id'],interest=pending[0]['interest-id'],$chkbox=$('#'+form_id).find('[name="chk_'+interest+'"]');if($chkbox.length==1){$chkbox.trigger('click');$('[name="chk_'+interest+'"]').each(function(){$(this).prop('checked',$chkbox.prop("checked"));});}}
Drupal.AjaxCommands.prototype.nlSubscription_submitCallback=function(ajax,response,status){var interest=response.data.interest_id,$form=$(ajax.selector).closest('form.mailchimp-profile-form');if(response.data.status=='errUserEmail'){pending=[];$('[data-interest-id]').removeClass('pending');$form.find('.user-email-valid-message').text(response.data.output_message);var $email_input=$form.find('.form-email');$('html,body').animate({scrollTop:$email_input.offset().top-90},function(){$email_input.focus();});$('[name="chk_'+interest+'"]').each(function(){$(this).prop('checked',!$(this).prop('checked'));});if(window.dataLayer){window.dataLayer.push({"event":"NewsletterSubscribe","eventCategory":"NewsletterSubscription","eventAction":"Error","eventLabel":interest});}}
else{$('[data-interest-id="'+interest+'"]').removeClass('pending');$('form.mailchimp-profile-form .user-email-valid-message').text('');if(typeof $form.find('[data-drupal-selector="edit-user-email"]').val()!="undefined"){document.cookie="nl_subscription_email="+$form.find('[data-drupal-selector="edit-user-email"]').val()+"; expires=Fri, 31 Dec 9999 23:59:59 GMT; path=/";}
for(var i=0;i<pending.length;i++){if(pending[i]['interest-id']==interest){pending.splice(i,1);}}
if(pending.length){triggerClick();}
for(var i in response.data.mailchimp_response.interests){if(response.data.mailchimp_response.interests.hasOwnProperty(i)){var $el=$('[data-interest-id="'+i+'"]');if(response.data.mailchimp_response.interests[i]){$el.addClass('sub').removeClass('notsub');$el.find('input[type="checkbox"][data-interest_id="\'+i+\'"]').prop("checked",true);}
else{$el.addClass('notsub').removeClass('sub');$el.find('input[type="checkbox"][data-interest_id="\'+i+\'"]').prop("checked",false);}}}
if(!$form.closest('.newsletters-page').length&&!$form.closest('.newsletter-page').length){$form.find('.form-item-user-email').hide();$form.find('.nl-subscription-box-wrapper').addClass('subscription-success').html(response.data.output_message);}
else{if(response.data.mailchimp_response.status=='pending'){$form.find('.user-email-checkmailbox-message').addClass('subscription-success').html(response.data.output_message);$('html,body').animate({scrollTop:$(".newsletters-page").offset().top-60});}}
if(window.dataLayer){window.dataLayer.push({"event":"NewsletterSubscribe","eventCategory":"NewsletterSubscription","eventAction":"Success","eventLabel":interest});}}};function readCookie(name){var nameEQ=name+"=";var cookies=document.cookie.split(';');for(var i=0;i<cookies.length;i++){var c=cookies[i];while(c.charAt(0)==' '){c=c.substring(1,c.length);}
if(c.indexOf(nameEQ)==0){return c.substring(nameEQ.length,c.length);}}
return null;}})(jQuery,Drupal,drupalSettings);;(function($,drupalSettings){"use strict";if(typeof window.__forecast.collectShareFacebook!=="undefined"){$('.share .share-item-facebook').click(function(){window.__forecast.collectShareFacebook();});}
if(typeof window.__forecast.collectShareTwitter!=="undefined"){$('.share .share-item-twitter').click(function(){window.__forecast.collectShareTwitter();});}
if(typeof window.__forecast.collectShare!=="undefined"){$('.share .share-item-linkedin').click(function(){window.__forecast.collectShare();});}
if(typeof window.__forecast.collectShareMail!=="undefined"){$('.share .share-item-enveloppe').click(function(){window.__forecast.collectShareMail();});}
var original_textarea_value=$('form.share-by-mail-form #edit-message-body').val();$('.share .email').click(function(){if(original_textarea_value.indexOf('&utm_campaign=gallery')>0){var iButton=$('.share .email').index(this);$('form.share-by-mail-form #edit-message-body').val(original_textarea_value);if(iButton>0){$('.share-by-mail-form #edit-message-body').val(original_textarea_value.replace('utm_campaign=gallery','utm_campaign=gallery#&gid=1&pid='+iButton).replace($('article h1').text().replace(/^\s*[\r\n]/gm,""),$('.share .email').eq(iButton).closest('.gallery--caption--container').children('.picture-description').text()+"\r\n").replace("une galerie photos",'une photographie'));}}});$('#share-by-mail-modal').on('shown.bs.modal',function(event){$(this).find('input[type=text],input[type=email],textarea').filter(':visible:first').focus();$(this).find('.modal-title').text($(event.relatedTarget).data('modal-title'));});function resetCssHilight(elem){if(elem){elem.removeClass('error');elem.closest('.form-item').prev().text('');}
$('form.share-by-mail-form .form-submit').removeClass('error').removeClass('success').val('Envoyer \uf1d8');}
$('form.share-by-mail-form .share-to, form.share-by-mail-form .share-from').keyup(function(){resetCssHilight($(this));});$('form.share-by-mail-form .form-submit').click(function(){resetCssHilight();$(this).addClass('pending');$(this).find('input').trigger('click');});Drupal.AjaxCommands.prototype.shareByMail_submitCallback=function(ajax,response,status){$('form.share-by-mail-form .form-submit').removeClass('pending');if(response.data.status==true){$('form.share-by-mail-form .form-submit').addClass('success').html(response.data.message);$('.share-by-mail-form').delay(3000).queue(function(){resetCssHilight();$('form.share-by-mail-form input[type=email]').val('');$('#share-by-mail-modal .close').trigger('click');});}
else if(response.data.status=='errFromName'){$('form.share-by-mail-form .share-from').addClass('error').focus();$('form.share-by-mail-form .share-from-valid-message').text(response.data.message);}
else if(response.data.status=='errEmail'){$('form.share-by-mail-form .share-to').addClass('error').focus();$('form.share-by-mail-form .share-to-valid-message').text(response.data.message);}
else{$('form.share-by-mail-form .form-submit').addClass('error').html(response.data.message);}}})(jQuery,drupalSettings);;(function($,drupalSettings,w){if($(".main-content-playlist.main-playlist").length){var main_playlist_id=$(".main-content-playlist.main-playlist").first().data('playlist-id');$('.see-all[data-playlist-id="'+main_playlist_id+'"]').closest('.playlist').remove();}
var mainPlayer=false,countdown=5;var $mainContent=$('.main-content');var $videoWrapper=$('.big-video-player .video-wrapper');var playlist=$_GET('playlist');var $curItemPlaylist={},$curItemBlock={};var adStarted,adEnded;$(document).ready(function(){if($mainContent.data('target')){var url=$mainContent.data('target'),title=$mainContent.find('h3').text(),oldLocation=window.location.href;$mainContent.on('click',function(){window.document.title=title+' - Le Temps';window.history.pushState(null,title,url);});$(window).on('popstate',function(e){window.location.href=oldLocation;});}});window['initBigPlayer']=function(){var id='main-player-htmltag';if(arguments.length===1){id=arguments[0];if(typeof id==="object"){if(id&&id.getAttribute('id')){id=id.getAttribute('id');}}}
if(!document.getElementById(id)){return;}
mainPlayer=bc(id);mainPlayer.playerSkippable({hideWhenInactive:false});mainPlayer.on('pause',function(){$('.sponsor-bar').removeClass('playing');});mainPlayer.on('loadedmetadata',function(){$videoWrapper.find(".vjs-skippable-skip").click(function(){mainPlayer.ima3.adsManager.stop();$(this).parent().hide();adStarted=false;adEnded=true;});});mainPlayer.on("ads-ad-started",function(event){var skipTime=drupalSettings.np8_adtech.site_config.skipTime;$videoWrapper.find(".vjs-skippable-container").show();$videoWrapper.find(".vjs-skippable-countdown")[0].innerHTML="Passer la pub dans "+Math.round(skipTime)+" secondes";$videoWrapper.find(".vjs-skippable-countdown").show();$videoWrapper.find(".vjs-skippable-skip").hide();var intervalStopAd=setInterval(function(){try{var adDuration=mainPlayer.ima3.adPlayer.duration();var timeRemaining=mainPlayer.ima3.adsManager.getRemainingTime();var timeElapsed=adDuration-timeRemaining;if(Math.round(timeElapsed+1)>skipTime){$videoWrapper.find(".vjs-skippable-skip").show();$videoWrapper.find(".vjs-skippable-countdown").hide();clearInterval(intervalStopAd);}
$videoWrapper.find(".vjs-skippable-countdown")[0].innerHTML="Passer la pub dans "+(Math.round(skipTime-timeElapsed))+" secondes"}
catch(e){clearInterval(intervalStopAd);}},1000);adStarted=true;adEnded=false;});mainPlayer.on('ads-ad-ended',function(){$videoWrapper.find('.vjs-skippable-container').hide();});mainPlayer.on('play',function(){$('.main-content-playlist').removeClass('is-open');$('.sponsor-bar').addClass('playing');});if($mainContent.find('[data-type="brightcove"]').length){mainPlayer.on('timeupdate',function(evt){if(mainPlayer.mediainfo.duration-10<mainPlayer.currentTime()){$mainContent.find('.sponsor-message').show();}});}
else if($mainContent.find('[data-type="vimeo"]').length){function updateTimeMainVimeo(){if(mainPlayer.cache_.duration&&mainPlayer.cache_.currentTime){remainTime=mainPlayer.cache_.duration-mainPlayer.cache_.currentTime;if(remainTime<=10){$mainContent.find('.sponsor-message').show();}}}
timeupdater=setInterval(updateTimeMainVimeo,1000);}
mainPlayer.on('pause',function(){});mainPlayer.on('ended',function(){});mainPlayer.on('mouseout',function(){$('.vjs-control-bar').addClass('vjs-fade-out');});mainPlayer.on('mouseover',function(){$('.vjs-control-bar').removeClass('vjs-fade-out');});$('.main-content-overlay').click(function(){});if($_GET('playvideo')==1){mainPlayer.play();}};initBigPlayer();var gotFBsdk=false;function initFB(){if(gotFBsdk)return;gotFBsdk=true;}
w.fbAsyncInit=function(video_node_id){if(!gotFBsdk){initFB();return;}
FB.init({appId:'100160886777903',xfbml:true,version:'v2.12'});FB.Event.subscribe('xfbml.ready',function(msg){if(msg.type==='video'&&msg.id==='mainplayerfacebook'){mainPlayer=msg.instance;mainPlayer.subscribe('startedPlaying',function(e){$('.main-content-playlist').removeClass('is-open');$('.sponsor-bar').addClass('playing');});mainPlayer.subscribe('paused',function(e){$('.main-content-overlay').show();$('.sponsor-bar').removeClass('playing');});mainPlayer.subscribe('finishedPlaying',function(e){});}});};(function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(d.getElementById(id)){return;}
js=d.createElement(s);js.id=id;js.src="https://connect.facebook.net/en_US/sdk.js";fjs.parentNode.insertBefore(js,fjs);}(document,'script','facebook-jssdk'));var mainPayerYT=false;var currentTime=0;var YoutubeExistingCallback=w.onYouTubeIframeAPIReady;var youtoubeAPIReady=function(id){if($('#main-player-iframe').length&&(!mainPlayer||typeof mainPlayer.playVideo=='undefined')){var $video_div=$('#main-player-iframe'),video_node_id=$video_div.attr('data-node-id'),video_youtube_id=$video_div.attr('data-video-id');mainPlayer=new YT.Player('main-player-iframe',{videoId:video_youtube_id,playerVars:{'rel':0,'showinfo':0,},events:{onReady:function(event){mainPayerYT=true;if($_GET('playvideo')==1){event.target.playVideo();}
$('.main-content-overlay').click(function(){mainPlayer.playVideo();});function updateTime(){if(mainPlayer&&mainPlayer.getCurrentTime){remainTime=mainPlayer.getDuration()-mainPlayer.getCurrentTime();if(remainTime<=10){$mainContent.find('.sponsor-message').show();}}}
timeupdater=setInterval(updateTime,1000);},onStateChange:function(event){switch(event.data){case 0:break;case 1:$('.sponsor-bar').addClass('playing');break;case 2:$('.sponsor-bar').removeClass('playing');break;default:}}}});setTimeout(function(){if(!mainPayerYT){youtoubeAPIReady(id);}},5000);}
if(typeof YoutubeExistingCallback==="function"){YoutubeExistingCallback();}};w.onYouTubeIframeAPIReady=youtoubeAPIReady;function $_GET(param){var vars={};window.location.href.replace(location.hash,'').replace(/[?&]+([^=&]+)=?([^&]*)?/gi,function(m,key,value){vars[key]=value!==undefined?value:'';});if(param){return vars[param]?vars[param]:null;}
return vars;}})(jQuery,drupalSettings,window);;(function(Drupal,drupalSettings){function mapTextContentToAjaxResponse(content){if(content===''){return false;}
try{return JSON.parse(content);}catch(e){return false;}}
function bigPipeProcessPlaceholderReplacement(placeholderReplacement){var placeholderId=placeholderReplacement.getAttribute('data-big-pipe-replacement-for-placeholder-with-id');var content=placeholderReplacement.textContent.trim();if(typeof drupalSettings.bigPipePlaceholderIds[placeholderId]!=='undefined'){var response=mapTextContentToAjaxResponse(content);if(response===false){once.remove('big-pipe',placeholderReplacement);}else{var ajaxObject=Drupal.ajax({url:'',base:false,element:false,progress:false});ajaxObject.success(response,'success');}}}
var interval=drupalSettings.bigPipeInterval||50;var timeoutID;function bigPipeProcessDocument(context){if(!context.querySelector('script[data-big-pipe-event="start"]')){return false;}
once('big-pipe','script[data-big-pipe-replacement-for-placeholder-with-id]',context).forEach(bigPipeProcessPlaceholderReplacement);if(context.querySelector('script[data-big-pipe-event="stop"]')){if(timeoutID){clearTimeout(timeoutID);}
return true;}
return false;}
function bigPipeProcess(){timeoutID=setTimeout(function(){if(!bigPipeProcessDocument(document)){bigPipeProcess();}},interval);}
bigPipeProcess();window.addEventListener('load',function(){if(timeoutID){clearTimeout(timeoutID);}
bigPipeProcessDocument(document);});})(Drupal,drupalSettings);;