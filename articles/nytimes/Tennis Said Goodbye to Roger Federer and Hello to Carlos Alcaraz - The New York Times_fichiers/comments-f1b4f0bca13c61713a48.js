(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{GUXu:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var o={};n.r(o),n.d(o,"actionClass",(function(){return f})),n.d(o,"secondaryClass",(function(){return b})),n.d(o,"defaultClass",(function(){return h}));var i=n("pVnL"),a=n.n(i),r=n("QILm"),c=n.n(r),s=n("ERkP"),l=n.n(s),d=n("Lcdh"),m=n("jVmh"),u=n.n(m),p=Object(d.css)("background:none;border:none;color:",u.a.color.linkColor,";font-family:",u.a.font.franklinBase,";font-size:",u.a.font.size(13),";line-height:",u.a.font.size(18),";text-decoration:none;&:hover{text-decoration:underline;cursor:pointer;}"),f=Object(d.css)("button&,a{",p,";font-weight:",u.a.font.weight.mediumBold,";}"),b=Object(d.css)("button&,a{",p,";}"),h=Object(d.css)("button&,a{",p,";color:",u.a.color.gray40,";padding-bottom:4px;}"),v=["children","onClick","theme"],g={ACTION:"action",SECONDARY:"secondary",DEFAULT:"default"},y=function(e){var t=e.children,n=e.onClick,i=e.theme,r=c()(e,v),s=o["".concat(i,"Class")];return n?l.a.createElement("button",a()({type:"button",tabIndex:0,className:s,onClick:n},r),t):l.a.createElement("span",a()({className:s},r),t)};y.displayName="TextButton",y.defaultProps={children:null,onClick:null,theme:g.DEFAULT};t.b=y},Id00:function(e,t,n){"use strict";var o=n("gcR/"),i=n.n(o),a=(n("ERkP"),n("+4HN")),r=n("GB3f"),c=function(e){var t=e.children;return i()(a.a,{url:Object(r.b)()},void 0,t)};c.displayName="LoginLink",t.a=c},dlEz:function(e,t,n){"use strict";var o=n("gcR/"),i=n.n(o),a=n("lwsE"),r=n.n(a),c=n("W8MJ"),s=n.n(c),l=n("7W2i"),d=n.n(l),m=n("a1gu"),u=n.n(m),p=n("Nsbk"),f=n.n(p),b=n("ERkP"),h=n("Lcdh"),v=n("ywcI");function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return u()(this,n)}}var y={elapsed:"elapsed","elapsed-with-label":"elapsed","elapsed-with-year":"elapsed-year","short-elapsed":"short-elapsed","nyt-date":"LL","full-date":"ll","masthead-date":"LLL","abbreviated-date":"LL"},O=function(e){d()(n,e);var t=g(n);function n(){var e;r()(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={localeTimestamp:null,dateTime:Object(v.getISOFromUnix)(e.props.unix)},e}return s()(n,[{key:"componentDidMount",value:function(){this.formatTime()}},{key:"componentDidUpdate",value:function(e){e.iso===this.props.iso&&e.unix===this.props.unix&&e.formatter===this.props.formatter||this.formatTime()}},{key:"formatTime",value:function(){var e=this.props.iso&&Object(v.getISOFromString)(new Date(this.props.iso))||Object(v.getISOFromUnix)(this.props.unix)||(new Date).toISOString();this.setState({label:["elapsed-with-year","elapsed"].indexOf(this.props.formatter)>-1?this.toLocale(e,!0):null,localeTimestamp:this.toLocale(e,["elapsed-with-year","elapsed-with-label"].indexOf(this.props.formatter)>-1)})}},{key:"toLocale",value:function(e,t){var n=this.props,o=n.formatter,i=n.theme,a=Object(v.getTimestampLocale)(null==i?void 0:i.language),r="elapsed-with-year"===this.props.formatter;if("function"==typeof o)return o({date:new Date(e),labelText:t,checkDays:r});var c=y[o]?y[o]:"LL";return Object(v.formatDate)(e,c,a,t,r)}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.updatedText,o=e.updatedTextClassName;return this.state.localeTimestamp?i()("span",{"data-testid":"todays-date","aria-label":this.state.label,className:t,dateTime:this.state.dateTime},void 0,n?i()("span",{className:o},void 0,"Updated"):null,this.state.localeTimestamp):i()("span",{className:t},void 0,"Â ")}}]),n}(b.Component);O.displayName="Timestamp",O.defaultProps={unix:void 0,iso:void 0,className:void 0,updatedText:!1,updatedTextClassName:void 0,theme:void 0},t.a=Object(h.withTheme)(O)},"f+2V":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a}));var o=function(e,t){13!==e.keyCode&&32!==e.keyCode||t()},i=function(e,t){13===e.keyCode&&t()},a=function(e,t){27===e.keyCode&&t()}},izyI:function(e,t,n){"use strict";n.d(t,"a",(function(){return N}));var o=n("gcR/"),i=n.n(o),a=n("lSNA"),r=n.n(a),c=(n("ERkP"),n("Lcdh")),s=n("kILT"),l=n("ZKN5"),d=n("jVmh"),m=n.n(d),u=Object(c.css)("display:inline-block;margin-right:10px;overflow:hidden;object-fit:cover;.medium &{border-radius:50%;height:30px;width:30px;}.small &{border-radius:50%;height:26px;width:26px;}span&{background:",m.a.color.gray50,";color:",m.a.color.white,";display:inline-block;font-size:12px;text-align:center;text-transform:uppercase;.medium &{line-height:33px;}.small &{line-height:29px;}}.placeholder &{background:",m.a.color.gray80,";}"),p=new RegExp("http(s?)://graphics8.nytimes.com/images/apps/timespeople/none.png"),f="medium",b="small";function h(e){var t=e.url,n=e.title,o=e.size,a=e.placeholder,r=function(e){return e&&p.test(e)?null:e}(t);return i()("div",{className:Object(c.cx)(o,{placeholder:a}),"aria-hidden":"true"},void 0,r&&i()("img",{className:u,alt:n,src:r}),!r&&i()("span",{className:u},void 0,n.substr(0,1)))}h.displayName="UserHeader",h.defaultProps={size:f,title:"",url:null,placeholder:!1};var v,g,y=Object(l.a)(h),O=Object(c.css)("display:flex;font-size:",m.a.font.size(15),";margin-bottom:5px;width:100%;"),x=Object(c.css)("flex-grow:2;"),j=Object(c.css)("margin-left:10px;"),w=Object(c.css)("font-weight:",m.a.font.weight.bold,";"),I=Object(c.css)("color:",m.a.color.gray35,";font-size:",m.a.font.size(14),";font-weight:",m.a.font.weight.light,";line-height:",m.a.font.size(17),";margin-top:3px;a{color:",m.a.color.gray35,";font-family:",m.a.font.franklinBase,";text-decoration:none;display:inline-flex;&:hover{text-decoration:underline;}}"),C=Object(c.css)("& > *{&::before{color:",m.a.color.gray60,";content:'|';display:inline-block;margin:0 8px;}&:first-child::before{content:'';margin:0;}}"),k=Object(c.css)(".",w,"{background:",m.a.color.gray80,";height:10px;width:162px;}.",I,"{background:",m.a.color.gray80,";height:10px;margin-top:4px;width:100px;}"),N={MEDIUM:"medium",SMALL:"small"},T=(v={},r()(v,N.MEDIUM,f),r()(v,N.SMALL,b),v);function E(e){var t=e.title,n=e.location,o=e.avatarUrl,a=e.secondaryContent,r=e.size,l=e.avatarTitle,d=e.placeholder,m=e.isStaffCommenter,u=e.nytTitle,p=e.timeStamp;return d?i()("div",{className:Object(c.cx)(O,k)},void 0,i()(y,{size:T[r],placeholder:!0}),i()("div",{className:x},void 0,i()("div",{className:w}),i()("div",{className:I}))):i()("div",{className:O},void 0,i()(y,{title:l||t,url:o,size:T[r]}),i()("div",{className:x},void 0,i()("div",{className:w},void 0,t,m&&(g||(g=i()("div",{className:s.b})))),i()("div",{className:I},void 0,i()("span",{className:C},void 0,m?i()("span",{},void 0,u):i()("span",{dangerouslySetInnerHTML:{__html:n}}),p))),a&&i()("div",{className:j},void 0,a))}E.displayName="UserHeader",E.defaultProps={title:"",location:"",avatarUrl:null,secondaryContent:null,size:N.M,avatarTitle:null,placeholder:!1,isStaffCommenter:!1,timeStamp:null,nytTitle:""};t.b=E},kILT:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l}));var o=n("Lcdh"),i=n("jVmh"),a=n.n(i),r=Object(o.css)("border:1px solid ",a.a.color.gray60,";border-radius:3px;color:",a.a.color.black,";font-family:",a.a.font.franklinBase,";font-size:",a.a.font.size(15),";line-height:",a.a.font.size(18),";padding:10px 15px;transition:0.6s;width:100%;&:focus{border-color:",a.a.color.blue20,";}"),c=Object(o.css)("overflow-wrap:break-word;word-wrap:break-word;word-break:break-word;white-space:pre-wrap;"),s=Object(o.css)("color:",a.a.color.red10,";display:inline-block;"),l=Object(o.css)("border-radius:50%;height:18px;width:18px;background-color:",a.a.color.black,";background-image:url('","/vi-assets/static-assets/icon-t-logo-16x16-white-6d6d01f365f1dbdab596ce5f3e5b4592.svg","');background-position:center;background-repeat:no-repeat;background-size:10px 10px;display:inline-block;margin-left:4px;vertical-align:text-bottom;white-space:nowrap;")},vAfL:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return Zt}));var o=n("VkAN"),i=n.n(o),a=n("gcR/"),r=n.n(a),c=n("ERkP"),s=n.n(c),l=n("Udmz"),d=n("Ck9z"),m=n.n(d),u=n("ZKN5"),p=n("8iTF"),f=n("TVGw"),b=n("lSNA"),h=n.n(b),v=n("J4zp"),g=n.n(v),y=n("X6oL"),O=n("JBtm"),x=n.n(O),j=n("szIg"),w=n("jVmh"),I=n.n(w),C=n("iEJF"),k=n("f+2V"),N=n("rONy"),T=n("SYzA"),E=n("HChe"),z=n("Rb+W"),R=n("06b3"),L=n("Lcdh"),S=n("hKNt"),A=n("a9ya"),P=n("e0Jg"),M=n("RIqP"),U=n.n(M),F=n("I5XA"),B=n("f81r"),_=n("6w+j"),H=n.n(_),D=n("2oaX"),V=(H()((function(e){return null==e?void 0:e[Math.floor(Math.random()*e.length)]})),H()((function(e,t,n){var o;return null==e||null===(o=e.commentIds)||void 0===o?void 0:o.filter((function(e){return Object(D.b)(t,e).attributes.text.length<=n}))})),n("dlEz")),G=n("ywcI"),X=n("izyI"),K=n("kILT"),J=Object(L.css)("padding-top:10px;"),Y=Object(L.css)("font-size:",I.a.font.size(13),";line-height:",I.a.font.size(17),";h6{color:#589714;font-weight:",I.a.font.weight.bold,";}"),W=Object(L.css)("font-size:",I.a.font.size(14),";line-height:",I.a.font.size(18),";background:",I.a.color.gray90,";margin-top:15px;padding:15px;"),Q=Object(L.css)(K.d,";font-size:",I.a.font.size(14),";line-height:",I.a.font.size(20),";margin-left:40px;");function q(e){var t=e.avatarUrl,n=e.location,o=e.commentNotify,i=e.displayName,a=e.text,c=e.isReply,s=e.isStaffCommenter,l=e.nytTitle;return r()("div",{className:Object(L.cx)(h()({},J,c))},void 0,r()("div",{className:Y},void 0,r()("h6",{},void 0,s?B.a.commentPosted:B.a.submissionThanks),function(e,t){return e?B.a.verifiedAccountAutoApproved:t?B.a.waitingOnApprovalNotify:B.a.waitingOnApproval}(s,o)),r()("div",{className:W},void 0,r()(X.b,{size:X.a.MEDIUM,title:i,avatarUrl:t,location:n,timeStamp:!s&&r()("span",{},void 0,B.a.pendingApproval),nytTitle:l,isStaffCommenter:s}),r()("div",{className:Q},void 0,r()("p",{},void 0,a))))}q.displayName="SubmittedComment",q.defaultProps={avatarUrl:null,isReply:!1,isStaffCommenter:!1,nytTitle:"",location:""};var Z,$=Object(j.connect)((function(e,t){var n=e.profile.data;return{avatarUrl:n.picURL,commentNotify:Boolean(n.comment_notify),displayName:n.displayName,email:n.email,isStaffCommenter:n.isReporter,location:n.location,nytTitle:n.title,text:e.commentEntry.submittedComments[t.replyToCommentId]}}))(q),ee=n("InUh"),te=n.n(ee),ne=te()((function(){return Promise.all([n.e(0),n.e(18),n.e(50)]).then(n.bind(null,"69BI"))}),{loadableGenerated:{webpack:function(){return["69BI"]},modules:["./CommentForm"]}}),oe=Object(L.css)("position:relative;");function ie(e){var t=e.replyToCommentId,n=e.article;return r()("div",{className:oe},void 0,r()(ne,{article:n,replyToCommentId:t}))}ie.displayName="CommentEntry",ie.defaultProps={replyToCommentId:void 0},ie.fragments={article:m()(Z||(Z=i()(["\n    fragment CommentEntry_article on Article {\n      id\n      ...CommentForm_article\n    }\n    fragment CommentForm_article on Article {\n      id\n      url\n    }\n  "])))};var ae=Object(j.connect)()(ie),re=Object(L.css)("font-size:",I.a.font.size(12),";font-weight:",I.a.font.weight.light,";line-height:",I.a.font.size(16),";margin-top:15px;h4{color:",I.a.color.gray35,";text-transform:uppercase;}"),ce=Object(L.css)("border-left:2px solid ",I.a.color.gray70,";padding-left:15px;"),se=Object(L.css)("background:",I.a.color.white,";border:1px solid ",I.a.color.gray50,";border-radius:4px;color:",I.a.color.gray27,";display:block;font-size:0.62rem;font-weight:",I.a.font.weight.medium,";letter-spacing:0.025rem;line-height:",I.a.font.size(18),";margin-top:20px;padding:5px 0;text-transform:uppercase;width:100%;&:hover{background-color:",I.a.color.gray90,";border:1px solid ",I.a.color.gray60,";color:",I.a.color.gray25,";}"),le=function(e){var t=e.numTotalReplies,n=e.replies,o=e.viewId,i=e.fetchReplies,a=e.isFetchingReplies,c=e.isAcceptingComments,s=e.sourceId,l=e.articleId;if(0===t)return null;var d=n.length<t;return r()("div",{className:re},void 0,r()("h4",{},void 0,t," ",t>1?B.a.replies:B.a.reply),r()("div",{className:ce,"aria-live":"polite"},void 0,n.map((function(e){return r()(Ve,{commentId:e,viewId:o,isAcceptingComments:c,isNested:!0,sourceId:s,articleId:l},e)}))),d&&r()("button",{type:"button",className:se,onClick:i},void 0,a?B.a.loading:B.a.viewAllReplies))};le.displayName="ReplyList",le.defaultProps={fetchReplies:void 0,isFetchingReplies:void 0,isAcceptingComments:void 0};var de=le,me=n("PgO9"),ue=n("HUmG"),pe=n("TwAE"),fe=n("Id00"),be=n("GUXu");function he(e){var t,n=e.hasUserRecommended,o=e.recommendedCount,i=e.unrecommendComment,a=e.recommendComment,c=Object(me.a)().user,s=Object(y.useTracking)(),l=n?B.a.recommended:B.a.recommend,d=o>0?"".concat(o," ").concat(l):l;return Object(ue.d)(c)?r()(be.b,{theme:be.a.SECONDARY,onClick:function(){return function(e){n?(s.trackEvent(Object(P.q)(e)),i()):(s.trackEvent(Object(P.k)(e)),a())}(d)}},void 0,d):r()(be.b,{theme:be.a.SECONDARY},void 0,t||(t=r()(fe.a,{},void 0,d)))}he.displayName="RecommendButton";var ve=Object(j.connect)((function(e,t){return{recommendedCount:Object(D.e)(e,t.commentId),hasUserRecommended:Object(D.f)(e,t.commentId)}}),(function(e,t){return{recommendComment:function(){return e(Object(S.n)(t.commentId))},unrecommendComment:function(){return e(Object(S.q)(t.commentId))}}}))(he);function ge(e){var t=e.openCommentEntry,n=Object(me.a)().user;return Object(ue.d)(n)?r()(be.b,{theme:be.a.ACTION,onClick:function(){t()}},void 0,B.a.reply):r()(be.b,{theme:be.a.ACTION},void 0,r()(fe.a,{},void 0,B.a.reply))}ge.displayName="ReplyButton";var ye=Object(j.connect)(null,(function(e,t){return{openCommentEntry:function(){return e(Object(S.m)(t.replyToCommentId))}}}))(ge);function Oe(e){var t=e.commentId,n=e.isNested,o=e.numReplies,i=e.replyToAuthorName,a=e.replyToCommentId,c=e.shouldHideReplies,s=e.isAcceptingComments,d=e.handleShowReplies,m=Object(l.useHistory)(),u=Object(l.useLocation)(),p=!n&&a&&i&&s;if(p)return r()("span",{},void 0,p&&r()(be.b,{theme:be.a.ACTION,onClick:function(e){e.preventDefault(),Object(f.f)({history:m,location:u},a)}},void 0,B.a.inReplyTo," ",i));if(c){var b="".concat(o," ").concat(o>1?B.a.replies:B.a.reply);return r()(be.b,{theme:be.a.ACTION,onClick:d},void 0,b)}return s?r()(ye,{replyToCommentId:t}):null}Oe.defaultProps={isNested:!1,replyToAuthorName:void 0,replyToCommentId:void 0,isAcceptingComments:void 0,shouldHideReplies:void 0,handleShowReplies:function(){return null}};var xe=Object(j.connect)((function(e,t){return{numReplies:Object(D.d)(e,t.commentId),replyToCommentId:Object(D.h)(e,t.commentId),replyToAuthorName:Object(D.g)(e,t.commentId)}}))(Oe),je=n("7WMn"),we=function(e){var t=e.sourceId,n=e.commentId;if(!e.userIsModerator)return null;return r()(be.b,{onClick:function(){var e=Object(je.b)()===je.a.PRD?"prd":"dev",o="https://moderator-dashboard.".concat(e,".nyt.net/articles/article_").concat(t,"/comments/").concat(n);window.open(o)}},void 0,"Moderate")};we.displayName="InternalUseOnlyModerateButton";var Ie=we,Ce=Object(L.css)("margin:20px 0 15px;font-family:",I.a.font.franklinBase,";font-size:0.75rem;color:",I.a.color.gray40,";line-height:1;text-align:center;width:100%;"),ke="".concat(B.a.permalink,": ");function Ne(e){var t=e.shortUrl,n=e.commentId,o=e.fetchShortUrl,i=Object(y.useTracking)().trackEvent;Object(c.useEffect)((function(){o()}),[o]);var a="#permid=".concat(n),s=ke+(t?"".concat(t).concat(a):"Loading...");return r()("input",{className:Ce,readOnly:!0,onClick:function(){i(Object(P.j)())},onFocus:function(e){var t=e.target;t.focus(),window.setTimeout((function(){t.setSelectionRange(ke.length,t.value.length)}),0)},value:s})}Ne.displayName="Permalink",Ne.defaultProps={shortUrl:null};var Te=Object(j.connect)((function(e,t){return{shortUrl:Object(D.j)(e,t.commentId)}}),(function(e,t){return{fetchShortUrl:function(){return e(Object(S.j)(t.commentId))}}}))(Ne),Ee=Object(L.css)("a,button{background:none;border:none;color:",I.a.color.linkColor,";font-family:",I.a.font.franklinBase,";font-size:",I.a.font.size(13),";line-height:",I.a.font.size(18),";margin-right:10px;text-align:left;text-decoration:none;vertical-align:top;&:hover{text-decoration:underline;cursor:pointer;}}"),ze=Object(L.css)("margin-right:0;float:right;a,button{color:",I.a.color.gray40,";}"),Re=te()((function(){return Promise.all([n.e(0),n.e(18),n.e(50)]).then(n.bind(null,"2XQA"))}),{loadableGenerated:{webpack:function(){return["2XQA"]},modules:["../FlagForm"]}});function Le(e){var t=e.commentId,n=e.viewId,o=e.sourceId,i=e.isNested,a=e.shouldHideReplies,c=e.isAcceptingComments,s=e.handleShowReplies,l=e.userIsModerator,d=Object(me.a)().user,m=Object(ue.d)(d);return r()("div",{},void 0,r()("div",{className:Ee},void 0,r()(Ie,{userIsModerator:l,commentId:t,sourceId:o}),r()(xe,{handleShowReplies:s,shouldHideReplies:a,isAcceptingComments:c,viewId:n,commentId:t,isNested:i}),r()(ve,{commentId:t}),r()(pe.a,{width:400,ariaLabel:"Share permalink",arrowPosition:"top",buttonContent:B.a.share,modalContent:r()(Te,{commentId:t})}),r()("div",{className:ze},void 0,m&&r()(pe.a,{width:400,ariaLabel:"Flag content menu",arrowPosition:"top",className:ze,buttonContent:B.a.flag,modalContent:r()(Re,{commentId:t})}),!m&&r()(fe.a,{},void 0,B.a.flag))))}Le.displayName="Toolbar",Le.defaultProps={viewId:null};var Se=Le,Ae=Object(L.css)("border-bottom:1px solid ",I.a.color.gray60,";font-family:",I.a.font.franklinBase,";font-weight:",I.a.font.weight.medium,";margin-top:20px;padding-bottom:20px;&:last-of-type{border:none;padding-bottom:40px;}"),Pe=Object(L.css)(K.d,";margin-left:40px;"),Me=Object(L.css)("display:inline-block;float:right;font-size:",I.a.font.size(12),";font-weight:",I.a.font.weight.bold,";line-height:",I.a.font.size(18),";white-space:nowrap;",I.a.breakpoint.medium,"{font-size:0.737rem;line-height:1.05rem;}&::before{border-radius:50%;height:18px;width:18px;background-color:#fcc772;background-image:url('","/vi-assets/static-assets/icon-t-logo-16x16-333333-d6642c94331b1039d5c1246dcdf3926a.svg","');background-position:center;background-repeat:no-repeat;background-size:10px 10px;content:'';display:inline-block;margin-right:4px;margin-bottom:-1px;vertical-align:sub;}"),Ue=Object(L.css)("font-size:",I.a.font.size(14),";line-height:",I.a.font.size(20),";overflow-x:hidden;a{color:",I.a.color.linkColor,";font-family:",I.a.font.franklinBase,";text-decoration:none;&:hover{text-decoration:underline;}",K.d,";}"),Fe=Object(L.css)("font-size:",I.a.font.size(12),";line-height:",I.a.font.size(15),";color:",I.a.color.red10,";margin-top:5px;"),Be=Object(L.css)("margin-top:15px;"),_e=Object(L.css)("border:none;padding-bottom:0;.",Pe,"{margin-left:36px;}"),He=Object(L.css)("margin-top:10px;");function De(e){var t,n=e.commentId,o=e.isNested,i=e.viewId,a=e.totalComments,s=e.commentIndex,d=e.isAcceptingComments,m=e.sourceId,u=e.articleId,p=e.error,b=Object(j.useSelector)((function(t){return function(e,t){var n,o=Object(D.b)(e,t.commentId);if(!o)return{error:!0};var i=o.attributes.authorPanel,a=Object(D.h)(e,t.commentId),r={profile:{name:i.name,location:i.location,avatarUrl:i.avatar,title:i.title},isoTimestamp:o.attributes.sourceApprovedAt,isHighlighted:Boolean(o.attributes.isHighlighted),isStaffCommenter:Boolean(o.attributes.isReporterReply),replyToCommentId:a,hasSubmittedReply:t.commentId in e.commentEntry.submittedComments,text:o.attributes.text,isFlagged:Object(D.k)(e,t.commentId),commentEntryReplyToCommentId:e.commentEntry.replyToCommentId,numTotalReplies:Object(D.d)(e,t.commentId),userIsModerator:null===(n=e.profile.data)||void 0===n?void 0:n.isModerator};return t.isNested||(r.isFetchingReplies=o.relationships.replies.isFetchingReplies,r.replies=Object(D.c)(e,t.commentId)||[]),r}(t,e)})),v=b.profile,O=b.isoTimestamp,x=b.isHighlighted,w=b.isStaffCommenter,C=b.replyToCommentId,k=b.hasSubmittedReply,N=b.text,T=b.isFlagged,E=b.commentEntryReplyToCommentId,z=b.numTotalReplies,R=b.userIsModerator,M=b.replies,U=b.isFetchingReplies,F=Object(j.useDispatch)(),_=Object(y.useTracking)(Object(P.c)(n)),H=_.Track,K=_.trackEvent,J=Object(l.useHistory)(),Y=Object(l.useLocation)(),W=Object(c.useState)((i===A.d.HIGHLIGHTED||i===A.d.RECOMMENDED)&&0!==z),Q=g()(W,2),q=Q[0],Z=Q[1],ee=function(){i===A.d.REPORTER_REPLIES?F(Object(S.g)(u,n)):F(Object(S.i)(u,n,M.length)),K(Object(P.e)(B.a.viewAllReplies))},te=function(e){e.preventDefault(),K(Object(P.m)(i,A.d.SINGLE_COMMENT)),C?Object(f.f)({history:J,location:Y},C,n):Object(f.f)({history:J,location:Y},n)};if(p)return null;var ne,oe=Object(G.formatDate)(O,"elapsed","en",!0),ie="".concat(v.name," commented ").concat(oe),re=!o&&!!z&&!q,ce=(ne=t||(t=r()(V.a,{iso:O,formatter:"elapsed"})),i===A.d.SINGLE_COMMENT?ne:r()("a",{href:"",onClick:te},void 0,ne));return r()(H,{},void 0,r()("div",{className:Object(L.cx)(Ae,h()({},_e,o)),role:"article",tabIndex:0,"aria-setsize":a,"aria-posinset":s,"aria-labelledby":"comment-description-".concat(s),"aria-describedby":"comment-content-".concat(s)},void 0,r()("a",{className:Object(L.cx)(I.a.a11y.visuallyHidden),href:"",id:"comment-description-".concat(s),"aria-label":ie,tabIndex:-1},void 0,ie),r()(X.b,{avatarTitle:v.name,title:v.name,avatarUrl:v.avatarUrl,location:v.location,timeStamp:ce,isStaffCommenter:w,secondaryContent:x&&r()("div",{className:Me},void 0,B.a.timesPick),size:o?X.a.SMALL:X.a.MEDIUM,nytTitle:v.title}),r()("div",{className:Pe},void 0,r()("p",{id:"comment-content-".concat(s),className:Ue,dangerouslySetInnerHTML:{__html:N}}),T&&r()("div",{className:Fe},void 0,B.a.reported),!T&&r()("div",{className:Be},void 0,r()(Se,{viewId:i,commentId:n,sourceId:m,isNested:o,handleShowReplies:function(){z>0&&0===M.length&&ee(),Z(!1)},shouldHideReplies:q,isAcceptingComments:d,userIsModerator:R}),E===n&&r()("div",{className:He},void 0,r()(ae,{replyToCommentId:n})),k&&r()($,{isReply:!0,replyToCommentId:n}),re&&r()(de,{viewId:i,replies:M,numTotalReplies:z,fetchReplies:ee,isFetchingReplies:U,isAcceptingComments:d,sourceId:m,articleId:u})))))}De.displayName="Comment",De.defaultProps={error:!1,isNested:!1,totalComments:0,commentIndex:0};var Ve=Object(u.a)(De),Ge=n("XnIf"),Xe=Object(L.css)("color:",I.a.color.blue20,";font-size:13px;margin-bottom:10px;position:relative;text-align:right;"),Ke=Object(L.css)("cursor:pointer;display:inline-block;"),Je=Object(L.css)("background:none;display:inline-block;width:9px;margin-left:6px;margin-bottom:2px;vertical-align:baseline;@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){height:10px;}"),Ye=Object(L.css)("background-color:",I.a.color.white,";cursor:pointer;position:absolute;right:0;width:105px;ul{border-style:solid;box-shadow:2px 4px 6px ",I.a.color.gray60,";padding-top:4px;text-align:left;}li{color:",I.a.color.black,";padding:10px;&:hover{background-color:",I.a.color.gray90,";}}"),We=Object(L.css)("font-weight:",I.a.font.weight.mediumBold,";");function Qe(e){var t=e.articleId,n=e.listId,o=e.sortOptions,i=e.sortCommentList,a=e.selectedSortType,l=Object(y.useTracking)(),d=Object(c.useRef)(null),m=Object(c.useRef)(null),u=Object(c.useState)(!1),p=g()(u,2),f=p[0],b=p[1];Object(c.useEffect)((function(){var e=function(e){null!=d.current&&d.current.contains(e.target)||b(!1)};return document.addEventListener("click",e,!0),function(){document.removeEventListener("click",e,!0)}}),[]);var v=function(){b(!f)},O=function(e,o){o.preventDefault(),e!==a&&(i(t,n,e),l.trackEvent(Object(P.n)(e))),v(),m.current&&m.current.focus()};if(0===o.length)return null;var x=o.find((function(e){return e.sortType===a}));return s.a.createElement("div",{className:Xe,ref:d},s.a.createElement("div",{role:"button",id:"comment-list-toggle-sort-options",tabIndex:0,onClick:v,onKeyDown:function(e){return Object(k.a)(e,v)},className:Ke,ref:m},r()("span",{},void 0,"Sort by: ",x.label),r()("button",{type:"button",className:Je,tabIndex:-1,"aria-expanded":f,"aria-haspopup":"true"},void 0,r()(Ge.a,{fill:I.a.color.blue20}))),f&&r()("div",{className:Ye},void 0,r()("ul",{role:"tablist"},void 0,o.map((function(e){var t=e.sortType,n=e.label;return r()("li",{onClick:function(e){return O(t,e)},onKeyDown:function(e){Object(k.a)(e,(function(){O(t,e)}))},role:"tab",className:Object(L.cx)(h()({},We,t===a)),"aria-selected":t===a,tabIndex:0},t,n)})))))}Qe.displayName="SortOptions",Qe.defaultProps={selectedSortType:null};var qe=Object(j.connect)((function(e,t){var n=e.commentLists[t.listId];return{sortOptions:(n.sortTypes||[]).map((function(e){return{sortType:e,label:A.b[e]}})),selectedSortType:n.selectedSortType||null}}),(function(e){return{sortCommentList:function(t,n,o){return e(Object(S.p)(t,n,o))}}}))(Qe),Ze=Object(L.css)("font-size:",I.a.font.size(13),";line-height:",I.a.font.size(20),";margin-top:20px;"),$e=Object(L.css)("background:",I.a.color.white,";border:1px solid ",I.a.color.gray50,";border-radius:4px;color:",I.a.color.gray27,";display:block;font-size:0.62rem;font-weight:",I.a.font.weight.medium,";letter-spacing:0.025rem;line-height:",I.a.font.size(18),";margin-top:20px;padding:5px 0;text-transform:uppercase;width:100%;&:hover{background-color:",I.a.color.gray90,";border:1px solid ",I.a.color.gray60,";color:",I.a.color.gray25,";}"),et=function(e){var t=e.children,n=e.offset,o=e.onEnter,i=e.onExit;if(e.disable||n>t.length)return t;var a=U()(t),c=r()(F.Waypoint,{onEnter:o,onExit:i},"waypointTwo");return a.splice(t.length-n,0,c),a};function tt(e){var t=e.shouldShowPanel,n=e.fetchCommentList,o=e.fetchCommentListNext,i=e.selectedSortType,a=e.viewId,s=e.articleId,l=e.listId,d=e.sourceId,m=e.commentIds,u=e.isFetching,p=e.isAcceptingComments,f=e.hasNext,b=e.isFetchingNext,h=Object(y.useTracking)();Object(c.useEffect)((function(){t&&n(s,l)}),[t,l,n,s]);var v=u||null===m?B.a.loading:0===m.length?B.a.noComments:null;if(v)return r()("div",{className:Ze},void 0,v);var g=B.a.readMore,O=B.a.loading;return r()("div",{role:"feed",tabIndex:-1,"aria-label":B.a.commentList},void 0,i&&r()(qe,{articleId:s,listId:l,viewId:a}),m&&r()(et,{offset:15,onEnter:function(){return o(s,l)},disable:!f},void 0,m.map((function(e,t){return r()(Ve,{tabIndex:0,totalComments:m.length,commentIndex:t+1,articleId:s,viewId:a,isAcceptingComments:p,commentId:e,sourceId:d},e+a)}))),f&&r()("button",{type:"button",className:$e,onClick:function(){return e=g,h.trackEvent(Object(P.h)(a,e)),void o(s,l);var e},disabled:b},void 0,b?O:g))}tt.displayName="CommentList",tt.defaultProps={commentIds:null,selectedSortType:null,sourceId:void 0,isFetching:void 0,isFetchingNext:void 0,isAcceptingComments:void 0};var nt,ot=Object(j.connect)((function(e,t){var n,o,i=function(e,t){var n=function(e,t){return e.views[t]||null}(e,t);return n?n.listId:null}(e,t.viewId),a=function(e,t){return e.commentLists[t]||null}(e,i),r=null,c=!1,s=null;return a&&(r=a.commentIds||null,c=!!a.nextUrl,s=a.selectedSortType||null),{listId:i,commentIds:r,hasNext:c,isFetching:null===(n=e.commentLists[i])||void 0===n?void 0:n.isFetching,isFetchingNext:null===(o=e.commentLists[i])||void 0===o?void 0:o.isFetchingNext,selectedSortType:s}}),(function(e){return{fetchCommentList:function(t,n){return e(Object(S.e)(t,n))},fetchCommentListNext:function(t,n){return e(Object(S.f)(t,n))}}}))(tt),it=Object(L.css)("margin-top:10px;"),at=Object(L.css)("color:",I.a.color.gray20,";font-size:",I.a.font.size(14),";font-weight:",I.a.font.weight.medium,";line-height:",I.a.font.size(18),";margin-bottom:12px;margin-top:15px;a{color:",I.a.color.blue20,";font-family:",I.a.font.franklinBase,";text-decoration:none;&:hover{text-decoration:underline;}}",I.a.breakpoint.medium,"{line-height:",I.a.font.size(20),";}"),rt=Object(L.css)(K.c,";box-sizing:border-box;color:",I.a.color.gray30,";display:block;font-size:",I.a.font.size(14),";height:42px;line-height:",I.a.font.size(24),";padding-top:11px;"),ct=Object(L.css)("cursor:text;");function st(e){var t,n,o=e.article,i=e.isFetching,a=e.isAcceptingComments,c=e.isStaffCommenter,l=e.commentEntryReplyToCommentId,d=e.openCommentEntry,m=Object(me.a)().user,u=Object(y.useTracking)(),p=null==o||null===(t=o.commentProperties)||void 0===t?void 0:t.prompt;if(i)return null;if(!a)return r()("div",{className:Object(L.cx)(it,at),dangerouslySetInnerHTML:{__html:B.a.commentsClosed}});var f=Object(D.i)(),b=Object(ue.d)(m);if(l===f&&b)return r()("div",{className:it},void 0,n||(n=r()(ae,{article:o,replyToCommentId:f})));var h=B.a.commentPromptPlaceholder,v=p||B.a.welcome,g=B.a.moderationDisclaimer;return r()("div",{className:it},void 0,b&&r()("span",{className:Object(L.cx)(rt,ct),onClick:d,onKeyPress:d,role:"textbox",tabIndex:"0"},void 0,h),!b&&r()(fe.a,{},void 0,r()("span",{className:rt},void 0,h)),r()("div",{className:at},void 0,c?B.a.verifiedNote:s.a.createElement(s.a.Fragment,null,v," ",r()("a",{href:"https://www.nytimes.com/content/help/site/usercontent/usercontent.html",target:"_blank",rel:"noopener noreferrer",onClick:function(){return e=g,void u.trackEvent(Object(P.f)(e));var e}},void 0,g))))}st.displayName="CommentPrompt",st.defaultProps={article:void 0,isAcceptingComments:void 0,isFetching:void 0,commentEntryReplyToCommentId:void 0},st.fragments={article:m()(nt||(nt=i()(["\n    fragment CommentPrompt_article on Article {\n      id\n      ...CommentEntry_article\n    }\n    ","\n  "])),ae.fragments.article)};var lt=Object(j.connect)((function(e){var t,n;return{isStaffCommenter:null===(t=e.profile)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.isReporter,isFetching:e.article.isFetching&&e.profile.isFetching,commentQuestion:e.panel.commentQuestion||"",commentEntryReplyToCommentId:e.commentEntry.replyToCommentId}}),(function(e){return{openCommentEntry:function(){return e(Object(S.m)(Object(D.i)()))}}}))(st),dt=Object(L.css)("background:none;border:none;color:",I.a.color.blue20,";font-size:",I.a.font.size(13),";font-weight:",I.a.font.weight.book,";line-height:",I.a.font.size(20),";"),mt=Object(L.css)("max-width:300px;text-align:center;"),ut=Object(L.css)("font-family:",I.a.font.franklinBase,";font-weight:",I.a.font.weight.bold,";font-size:17px;display:flex;justify-content:center;align-items:center;.",mt,"{padding:100px 0;}@supports (height:100vh){height:70vh;.",mt,"{padding:0;}}");function pt(e){var t=e.articleId,n=e.sourceId,o=e.commentId,i=e.replyCommentId,a=e.isFetching,s=e.isCommentLoaded,l=e.isAcceptingComments,d=e.fetchComments,m=e.closeView,u=Object(c.useState)(a),p=g()(u,2),f=p[0],b=p[1];return Object(c.useEffect)((function(){var e=function(){return b(!1)};d(t,o,i?[i]:[]).then(e).catch(e)}),[t,o,d,i]),r()("div",{},void 0,r()("button",{type:"button",className:dt,onClick:m},void 0,B.a.backToAllComments),s&&r()(Ve,{articleId:t,sourceId:n,commentId:o,viewId:A.d.SINGLE_COMMENT,isAcceptingComments:l}),!f&&!s&&r()("div",{className:ut},void 0,r()("span",{className:mt},void 0,B.a.commentNotFound)))}pt.displayName="SingleComment",pt.defaultProps={isFetching:!0,sourceId:void 0,isAcceptingComments:void 0,isCommentLoaded:!1,replyCommentId:""};var ft,bt=Object(j.connect)((function(e,t){var n=Object(D.b)(e,t.commentId);return{isCommentLoaded:Boolean(n)}}),(function(e){return{fetchComments:function(t,n,o){return e(Object(S.g)(t,n,o))}}}))(pt),ht=n("+4HN"),vt=Object(L.css)("font-family:",I.a.font.franklinBase,";font-weight:",I.a.font.weight.medium,";font-size:",I.a.font.size(17),";letter-spacing:0.2px;line-height:1.2rem;display:flex;justify-content:center;align-items:center;height:100%;width:100%;"),gt=Object(L.css)("max-width:300px;p{padding:1em 0;}"),yt=Object(L.css)("color:",I.a.color.blue20,";"),Ot=function(){return ft||(ft=r()("div",{className:vt},void 0,r()("div",{className:gt},void 0,r()("p",{},void 0,"Due to technical difficulties, comments are unavailable. Weâre working to fix the issue as soon as possible."),r()("p",{},void 0,"If you have a critical piece of feedback for us, you can always reach the newsroom via the"," ",r()(ht.a,{className:yt,alt:"reader center",url:"https://www.nytimes.com/2017/08/08/reader-center/we-want-to-hear-from-you.html"},void 0,"Reader Center"),"."),r()("p",{},void 0,"Thank you for reading, and sorry for the trouble!"))))};Ot.displayName="UnderMaintenance";var xt=Ot,jt=Object(L.css)("position:relative;"),wt=Object(L.css)("background:-webkit-linear-gradient(left,rgba(255,255,255,0) 0%,rgba(255,255,255,1) 100%);height:42px;position:absolute;pointer-events:none;right:0;top:0;width:30px;z-index:2;"),It=Object(L.css)("background:",I.a.color.white,";border-bottom:1px solid ",I.a.color.gray60,";box-shadow:0 6px 6px -6px ",I.a.color.gray60,";display:block;height:42px;-webkit-overflow-scrolling:touch;overflow-x:auto;overflow-y:hidden;&::-webkit-scrollbar{display:none;}@media (max-width:",I.a.breakpoint.width.small,"px){padding:0 20px;}ul{color:",I.a.color.gray35,";display:inline-block;font-size:",I.a.font.size(14),";line-height:",I.a.font.size(21),";overflow:hidden;white-space:nowrap;",I.a.breakpoint.medium,"{font-size:",I.a.font.size(14),";line-height:",I.a.font.size(21),";}",I.a.breakpoint.extraLarge,"{font-size:",I.a.font.size(14),";line-height:",I.a.font.size(21),";}li{display:inline-block;cursor:pointer;padding-top:15px;padding-bottom:4px;margin-right:20px;min-width:30px;text-align:center;font-weight:",I.a.font.weight.mediumBold,";a{color:",I.a.color.gray35,";}&.selected{border-bottom:2px solid ",I.a.color.black,";color:",I.a.color.black,";font-weight:",I.a.font.weight.mediumBold,";a{color:",I.a.color.black,";}}}}");function Ct(e){var t=e.tabs,n=e.selectedViewId,o=e.selectView,i=e.firstTabRef,a=Object(y.useTracking)();return 0===t.length?null:r()("div",{className:jt},void 0,r()("div",{className:wt}),r()("div",{className:It},void 0,r()("ul",{role:"tablist"},void 0,t.map((function(e,t){var c=e.viewId,l=e.label;return r()("li",{className:Object(L.cx)({selected:n===c}),role:"tab","aria-selected":n===c},c,s.a.createElement("a",{href:"",ref:0===t?i:null,tabIndex:0,onClick:function(e){return function(e,t){t.preventDefault(),e!==n&&(a.trackEvent(Object(P.m)(n,e)),o(e))}(c,e)}},l))})))))}Ct.displayName="Tabs",Ct.defaultProps={tabs:[],selectedViewId:null};var kt,Nt=Object(j.connect)((function(e){return{tabs:e.panel.tabs}}),(function(e){return{selectView:function(t){return e(Object(S.o)(t))}}}))(Ct),Tt=n("kV2j"),Et=Object(L.css)("color:",I.a.color.black,";display:inline-block;font-weight:",I.a.font.weight.bold,";font-size:",I.a.font.size(30),";line-height:",I.a.font.size(34),";padding-left:2px;padding-right:2px;span{color:",I.a.color.gray20,";font-weight:",I.a.font.weight.medium,";font-size:",I.a.font.size(24),";line-height:",I.a.font.size(29),";}a:focus{outline:0;}"),zt=Object(L.css)("color:",I.a.color.blue30,";display:none;font-family:",I.a.font.serifMedium,";line-height:1.18rem;margin-top:5px;text-decoration:none;&:hover{text-decoration:underline;}"),Rt=Object(L.css)("font-family:",I.a.font.franklinBase,";font-size:",I.a.font.size(14),";line-height:",I.a.font.size(20),";font-weight:",I.a.font.weight.bold,";text-transform:uppercase;letter-spacing:0.05em;top:50px;right:125px;"),Lt="Comments Panel";function St(e){var t=e.closePanel,n=e.skipToCommentList,o=e.commentCount,i=e.article;return r()("header",{},void 0,r()("h2",{className:Et},void 0,r()("a",{href:"#commentsContainer",tabIndex:-1,"aria-label":Lt},void 0,"Comments ",o>0&&r()("span",{},void 0,o))),r()("a",{className:zt,href:"",onClick:t},void 0,i.headline.default),r()("a",{href:"",className:Object(L.cx)(I.a.a11y.visuallyHidden,I.a.a11y.focusable,Rt),onClick:n,tabIndex:0},void 0,"Skip to Comments"))}St.displayName="Header",St.defaultProps={commentCount:void 0},St.fragments={article:m()(kt||(kt=i()(["\n    fragment Header_article on Article {\n      id\n      headline {\n        default\n      }\n    }\n  "])))};var At,Pt,Mt=Object(j.connect)((function(e){return{commentCount:Object(Tt.b)(e)}}))(St),Ut=Object(L.css)("background-color:",I.a.color.white,";box-shadow:3px 0 12px 3px rgba(0,0,0,0.25);font-family:",I.a.font.franklinBase,";height:100%;overflow:hidden;position:fixed;right:0;top:0;width:100%;z-index:",I.a.zIndex.commentsPanel,";visibility:hidden;transform:translateX(110%);transition:transform 300ms ease,visibility 300ms;",I.a.printHide,";",I.a.breakpoint.small,"{width:530px;}"),Ft=Object(L.css)("visibility:visible;transform:none;transition:transform 300ms ease,visibility 300ms;"),Bt=Object(L.css)(I.a.breakpoint.small,"{width:100%;}"),_t=Object(L.css)("background-color:",I.a.color.white,";display:block;height:15px;right:16px;position:absolute;top:16px;width:15px;z-index:3;@media (max-width:",I.a.breakpoint.width.small,"px){right:15px;}"),Ht=Object(L.css)("height:100%;overflow-y:scroll;width:100%;-webkit-overflow-scrolling:touch;"),Dt=Object(L.css)("padding:40px 0;position:relative;box-sizing:border-box;height:100%;"),Vt=Object(L.css)("padding:0 40px;z-index:0;@media (max-width:",I.a.breakpoint.width.small,"px){padding:0 20px;}"),Gt=Object(L.css)("margin-bottom:10px;position:sticky;top:0;z-index:2;",I.a.breakpoint.small,"{padding:0 40px;}"),Xt=Object(E.a)(),Kt=Object(z.f)(R.a);function Jt(e){var t,n=e.article,o=e.shouldShowPanel,i=Object(j.useDispatch)(),a=Object(l.useHistory)(),d=Object(l.useLocation)(),m=Object(T.a)(),u=Object(c.useRef)(null),b=Object(c.useRef)(null),v=Object(c.useRef)(null),O=Object(c.useRef)(null),w=Object(c.useState)(!1),E=g()(w,2),z=E[0],R=E[1],M=Object(c.useState)(!1),U=g()(M,2),F=U[0],B=U[1],_=Object(j.useSelector)((function(e){return function(e,t){var n,o={viewId:e.panel.viewId},i=Object(f.c)(t.location),a=i.commentId,r=i.replyCommentId;return a&&(o.backToViewId=o.viewId,o.viewId=A.d.SINGLE_COMMENT,o.singleComment={commentId:a,replyCommentId:r}),null!==(n=e.article)&&void 0!==n&&n.data&&(o.articleId=e.article.data.id),o.isAcceptingComments=Object(p.f)(e.article.commentStatus),o.hasSubmittedParentComment=!1,o.replyToCommentId=Object(D.i)(),o.isUnderMaintenance=e.panel.isUnderMaintenance||!1,e.commentEntry&&(o.hasSubmittedParentComment=Object(D.i)()in e.commentEntry.submittedComments),o}(e,{location:d})})),H=_.viewId,V=_.backToViewId,G=_.singleComment,X=_.articleId,K=_.isAcceptingComments,J=_.replyToCommentId,Y=_.hasSubmittedParentComment,W=_.isUnderMaintenance,Q=Object(y.useTracking)(Object(P.l)(H)),q=Q.Track,Z=Q.trackEvent,ee=function(){Z(Object(P.b)()),function(){if(document&&window){var e=window.NYT_SPEECHBUBBLE||"comments-speech-bubble-top",t=document.getElementById(e);t&&(t.focus(),delete window.NYT_SPEECHBUBBLE)}}(),Object(f.a)({history:a,location:d})},te=function(e){return Object(k.c)(e,ee)},ne=function(){var e,t,o=x.a.parse(d.search);i(Object(S.h)(n.url)),i(Object(S.d)(X,n.url)),u.current&&setTimeout((function(){return u.current.focus()}),450),"HPCommentsRefer"===o.modref?t=P.a.AUTOOPEN_HOME:"comment-approval"===o.emc?t=P.a.AUTOOPEN_EMAIL_LINK:H===A.d.SINGLE_COMMENT?t=P.a.AUTOOPEN_PERMALINK:void 0===(null===(e=a.location)||void 0===e?void 0:e.state)&&a.location.hash==="#".concat(p.b.COMMENTS_PANEL)&&(t=P.a.AUTOOPEN),t&&setTimeout((function(){return Z(Object(P.i)(t))}),1e3)},oe=function(){return Object(f.e)({history:a,location:d})};Object(c.useEffect)((function(){var e;return o&&(e=setTimeout((function(){B(!0)}),3e3),F&&Object(N.a)((function(){!z&&o&&(window.Iterate("install","6193eb18c2492100018d54a9"),window.Iterate("identify",{agentId:Kt,referrerUrl:document.referrer,referrerPage:document.location,device:Xt}),R(!0))}))),function(){clearTimeout(e)}}),[o,z,F]),Object(c.useEffect)((function(){return o&&ne(),document.addEventListener("keydown",te,!1),window.NYT_openCommentsPanel=oe,function(){document.removeEventListener("keydown",te,!1)}}),[]),Object(c.useEffect)((function(){null!==O.current&&!O.current&&o&&ne(),O.current=o}),[o]);var ie=!W&&G&&G.commentId,ae=!W&&!ie;return r()(q,{},void 0,r()("div",{className:Object(L.cx)(Ut,(t={},h()(t,Ft,o),h()(t,Bt,m),t)),role:"region","aria-label":"comments panel",tabIndex:-1},void 0,!m&&s.a.createElement("button",{ref:u,type:"button",className:_t,onClick:ee,"aria-label":"close comments panel"},r()(C.a,{tabIndex:0,stroke:I.a.color.gray30})),r()("div",{className:Ht},void 0,r()("div",{className:Dt},void 0,W&&(At||(At=r()(xt,{}))),ie&&X&&r()("div",{className:Vt},void 0,r()(bt,{tabIndex:0,sourceId:n.sourceId,articleId:X,commentId:G.commentId,replyCommentId:G.replyCommentId,closeView:function(){Z(Object(P.m)(A.d.SINGLE_COMMENT,V)),Object(f.b)({history:a,location:d})},isAcceptingComments:K})),ae&&r()("div",{},void 0,r()("div",{className:Vt},void 0,r()(Mt,{article:n,closePanel:ee,skipToCommentList:function(e){e.preventDefault(),v.current&&setTimeout((function(){return v.current.focus()}),500)}}),!Y&&r()(lt,{article:n,isAcceptingComments:K}),Y&&r()($,{replyToCommentId:J})),s.a.createElement("div",{ref:b,className:Gt},r()(Nt,{selectedViewId:H,firstTabRef:v})),r()("div",{className:Vt},void 0,X&&H&&r()(ot,{shouldShowPanel:o,isAcceptingComments:K,viewId:H,articleId:X,sourceId:n.sourceId})))))))}Jt.displayName="CommentsPanel",Jt.fragments={article:m()(Pt||(Pt=i()(["\n    fragment CommentsPanel_article on Article {\n      id\n      ...CommentPrompt_article\n      ...Header_article\n      sourceId\n      url\n    }\n    ","\n    ","\n  "])),lt.fragments.article,Mt.fragments.article)};var Yt,Wt=Jt;function Qt(e){var t=e.article,n=Object(l.useLocation)();return Object(p.h)(t.commentProperties.status)?r()(Wt,{shouldShowPanel:Object(f.d)({location:n}),article:t}):null}Qt.fragments={article:m()(Yt||(Yt=i()(["\n    fragment CommentsPanelContainer_article on Article {\n      id\n      commentProperties {\n        status\n        prompt\n      }\n      ...CommentsPanel_article\n    }\n    ","\n  "])),Wt.fragments.article)};var qt=Object(u.a)(Qt);qt.displayName="CommentsPanelContainer";var Zt=qt}}]);
//# sourceMappingURL=comments-f1b4f0bca13c61713a48.js.map