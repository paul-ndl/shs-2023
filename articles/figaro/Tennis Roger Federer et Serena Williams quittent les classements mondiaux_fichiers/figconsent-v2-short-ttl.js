(()=>{"use strict";var n=function(){return Boolean("figconsent"===window.location.hash.substring(1)||!1)},o=function(o){return function(e){if(n()||"warn"===o||"error"===o){for(var t,a=arguments.length,c=new Array(a>1?a-1:0),i=1;i<a;i++)c[i-1]=arguments[i];(t=console)[o].apply(t,["[FIGCONSENT] ".concat(e)].concat(c))}}};n()&&console.log("[FIGCONSENT] 🐞 enable logger !");const e={showLog:n,log:o("log"),info:o("info"),warn:o("warn"),error:o("error")};var t="fig_cmp_uuid";function a(){var n=function(n){var o,e,t,a=document.cookie.split(";"),c=null;for(o=0;o<a.length;o+=1)e=a[o].substr(0,a[o].indexOf("=")),t=a[o].substr(a[o].indexOf("=")+1),"fig_cmp_uuid"===(e=e.replace(/^\s+|\s+$/g,""))&&(c=decodeURIComponent(t));return c}();if(!n){console.log("[FIGCONSENT] new UUID generated"),n=function(n){for(var o="zyxwvutsrqponmlkjihgfedcbaZYXWVUTSRQPONMLKJIHGFEDCBA9876543210",e="",t=32;t--;)e+=o[Math.random()*o.length|0];return e}();var o=window.location.hostname.split(".").slice(-2).join(".");document.cookie="".concat(t,"=").concat(n,";path=").concat("/",";domain=").concat(o,";max-age=").concat(31536e3)}return console.log("[FIGCONSENT] UUID is ".concat(n)),n}var c="[__tcfapi]",i=function(){return void 0===window.__tcfapi?(e.error("".concat(c," missing window.__tcfapi")),function(){return{}}):window.__tcfapi};const r=function(n){i()("addEventListener",2,(function(o,t){e.info("".concat(c," addEventListener"),o,t),t&&o&&("useractioncomplete"===o.eventStatus||"tcloaded"===o.eventStatus)&&n&&"function"==typeof n&&n(o)}))};var s=function(){return window.dfpNpa},d=function(n){window.dfpNpa=n},u=function(){e.info("[npaGlobalVarPlugin] start"),r((function(n){var o;o=function(n){if(!n||!n.purpose||!n.purpose.consents)return!1;var o=Object.values(n.purpose.consents);return Boolean(o.length>=10&&o.every(Boolean))}(n),d(Number(!o)),e.info("[handleDFPNpaGlobalVar] dfpNpa value after consents",s())}))},l=function(){e.info("[popinByClick] addClickListener");var n=document.querySelectorAll('[data-js="figconsent-handle-consent"]');if(n&&n.length){e.info("[popinByClick] listen click on ",n);for(var o=0;o<n.length;o+=1)n[o].addEventListener("click",(function(){var n;n={jumpAt:"privacy"},i()("show",2,(function(o){e.info("".concat(c," show"),n,o)}),n)}))}},f="[tagManagers]",p=function(){r((function(n){if(e.info("".concat(f," callback addConsentListenerToPushEvents"),n),window.dataLayer){if(n&&n.purpose&&n.purpose.consents){var o=Object.values(n.purpose.consents);for(var t in window.dataLayer.push({BU_isConsentGiven:Boolean(o.length>=10&&o.every(Boolean)||!1===n.gdprApplies)}),n.purpose.consents)n.purpose.consents[t]&&window.dataLayer.push({event:"appconsent_ctrl_".concat(t)})}}else e.error("".concat(f," datalayer not found"))}))};console.log("[FIGCONSENT] was executed"),window.__FIGCONSENT_EXECUTED__||(window.__FIGCONSENT_EXECUTED__=!0,window.__FIGCONSENT_VERSION__="4.1.0",function(n){try{var o=document.createElement("script");o.id="js-appconsent-tcf2",o.src="https://cdn.appconsent.io/loader-clear.js",o.async=!0,o.onload=function(){var n;e.info("appconsent bundle was loaded"),window.figconsent={},function(n){var o=encodeURIComponent(window.location.href.split("?")[0]),t={appKey:"86e15e67-fd78-41d3-b341-a1df1d334793",forceGDPRApplies:!0,uuid:a(),urlRedirect:{main:{denyAll:"https://".concat("connect.lefigaro.fr","/login")+"?client=horizon_web&type=main"+"&redirect_uri=".concat(o)+"&ac_cmd=no_show",continueWithoutAccepting:"https://".concat("abonnement.lefigaro.fr","/lefigaro")+"?redirect_uri=".concat(o)+"&ac_cmd=no_show&origine=VWH210016&ga_source=VWH210016_bandeau_cookie_consent"}}};i()("init",2,(function(o,t){e.info("".concat(c," init"),o,t),n&&"function"==typeof n&&n()}),t)}((function(){var n;n={lazy:!0},i()("show",2,(function(o){e.info("".concat(c," show"),n,o)}),n),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",(function(){p()})):p()})),u(),e.info("[popinByClick] start"),l(),document.addEventListener("DOMContentLoaded",(function(){l()})),(n=document.createElement("style")).innerHTML="\n    .cookiebarcontainer {\n      display: none !important;\n    }",document.head.appendChild(n)},document.head.appendChild(o)}catch(n){throw new Error("FigConsent-> can't load notice")}}(),(void 0===s()||0!==s()&&1!==s())&&(d(1),e.info("[handleDFPNpaGlobalVar] dfpNpa value is invalid, setting it to its default value",s())))})();