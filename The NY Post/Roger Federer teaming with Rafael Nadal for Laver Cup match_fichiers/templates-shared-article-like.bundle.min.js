!function(){var e,t={6114:function(e,t,n){var i;!function(t){"use strict";var o=function(){},s=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.msRequestAnimationFrame||function(e){return setTimeout(e,16)};function a(){var e=this;e.reads=[],e.writes=[],e.raf=s.bind(t),o("initialized",e)}function r(e){e.scheduled||(e.scheduled=!0,e.raf(c.bind(null,e)),o("flush scheduled"))}function c(e){o("flush");var t,n=e.writes,i=e.reads;try{o("flushing reads",i.length),e.runTasks(i),o("flushing writes",n.length),e.runTasks(n)}catch(e){t=e}if(e.scheduled=!1,(i.length||n.length)&&r(e),t){if(o("task errored",t.message),!e.catch)throw t;e.catch(t)}}function l(e,t){var n=e.indexOf(t);return!!~n&&!!e.splice(n,1)}a.prototype={constructor:a,runTasks:function(e){var t;for(o("run tasks");t=e.shift();)t()},measure:function(e,t){o("measure");var n=t?e.bind(t):e;return this.reads.push(n),r(this),n},mutate:function(e,t){o("mutate");var n=t?e.bind(t):e;return this.writes.push(n),r(this),n},clear:function(e){return o("clear",e),l(this.reads,e)||l(this.writes,e)},extend:function(e){if(o("extend",e),"object"!=typeof e)throw new Error("expected object");var t=Object.create(this);return function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}(t,e),t.fastdom=this,t.initialize&&t.initialize(),t},catch:null};var d=t.fastdom=t.fastdom||new a;void 0===(i=function(){return d}.call(d,n,d,e))||(e.exports=i)}("undefined"!=typeof window?window:this)},1732:function(e,t,n){"use strict";var i=n(1515);function o(e){let t={};return null!==e&&(t=e.getBoundingClientRect()),t}function s(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var r,c,l,d,u,h=(r=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],c=function(){function e(t){var n=t.targetModal,i=t.triggers,o=void 0===i?[]:i,a=t.onShow,r=void 0===a?function(){}:a,c=t.onClose,l=void 0===c?function(){}:c,d=t.openTrigger,u=void 0===d?"data-micromodal-trigger":d,h=t.closeTrigger,m=void 0===h?"data-micromodal-close":h,f=t.openClass,v=void 0===f?"is-open":f,g=t.disableScroll,p=void 0!==g&&g,y=t.disableFocus,w=void 0!==y&&y,b=t.awaitCloseAnimation,k=void 0!==b&&b,S=t.awaitOpenAnimation,E=void 0!==S&&S,C=t.debugMode,A=void 0!==C&&C;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.modal=document.getElementById(n),this.config={debugMode:A,disableScroll:p,openTrigger:u,closeTrigger:m,openClass:v,onShow:r,onClose:l,awaitCloseAnimation:k,awaitOpenAnimation:E,disableFocus:w},o.length>0&&this.registerTriggers.apply(this,s(o)),this.onClick=this.onClick.bind(this),this.onKeydown=this.onKeydown.bind(this)}var t;return(t=[{key:"registerTriggers",value:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];n.filter(Boolean).forEach((function(t){t.addEventListener("click",(function(t){return e.showModal(t)}))}))}},{key:"showModal",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.activeElement=document.activeElement,this.modal.setAttribute("aria-hidden","false"),this.modal.classList.add(this.config.openClass),this.scrollBehaviour("disable"),this.addEventListeners(),this.config.awaitOpenAnimation?this.modal.addEventListener("animationend",(function t(){e.modal.removeEventListener("animationend",t,!1),e.setFocusToFirstNode()}),!1):this.setFocusToFirstNode(),this.config.onShow(this.modal,this.activeElement,t)}},{key:"closeModal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.modal;if(this.modal.setAttribute("aria-hidden","true"),this.removeEventListeners(),this.scrollBehaviour("enable"),this.activeElement&&this.activeElement.focus&&this.activeElement.focus(),this.config.onClose(this.modal,this.activeElement,e),this.config.awaitCloseAnimation){var n=this.config.openClass;this.modal.addEventListener("animationend",(function e(){t.classList.remove(n),t.removeEventListener("animationend",e,!1)}),!1)}else t.classList.remove(this.config.openClass)}},{key:"closeModalById",value:function(e){this.modal=document.getElementById(e),this.modal&&this.closeModal()}},{key:"scrollBehaviour",value:function(e){if(this.config.disableScroll){var t=document.querySelector("body");switch(e){case"enable":Object.assign(t.style,{overflow:""});break;case"disable":Object.assign(t.style,{overflow:"hidden"})}}}},{key:"addEventListeners",value:function(){this.modal.addEventListener("touchstart",this.onClick),this.modal.addEventListener("click",this.onClick),document.addEventListener("keydown",this.onKeydown)}},{key:"removeEventListeners",value:function(){this.modal.removeEventListener("touchstart",this.onClick),this.modal.removeEventListener("click",this.onClick),document.removeEventListener("keydown",this.onKeydown)}},{key:"onClick",value:function(e){(e.target.hasAttribute(this.config.closeTrigger)||e.target.parentNode.hasAttribute(this.config.closeTrigger))&&(e.preventDefault(),e.stopPropagation(),this.closeModal(e))}},{key:"onKeydown",value:function(e){27===e.keyCode&&this.closeModal(e),9===e.keyCode&&this.retainFocus(e)}},{key:"getFocusableNodes",value:function(){var e=this.modal.querySelectorAll(r);return Array.apply(void 0,s(e))}},{key:"setFocusToFirstNode",value:function(){var e=this;if(!this.config.disableFocus){var t=this.getFocusableNodes();if(0!==t.length){var n=t.filter((function(t){return!t.hasAttribute(e.config.closeTrigger)}));n.length>0&&n[0].focus(),0===n.length&&t[0].focus()}}}},{key:"retainFocus",value:function(e){var t=this.getFocusableNodes();if(0!==t.length)if(t=t.filter((function(e){return null!==e.offsetParent})),this.modal.contains(document.activeElement)){var n=t.indexOf(document.activeElement);e.shiftKey&&0===n&&(t[t.length-1].focus(),e.preventDefault()),!e.shiftKey&&t.length>0&&n===t.length-1&&(t[0].focus(),e.preventDefault())}else t[0].focus()}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(e.prototype,t),e}(),l=null,d=function(e){if(!document.getElementById(e))return console.warn("MicroModal: ❗Seems like you have missed %c'".concat(e,"'"),"background-color: #f8f9fa;color: #50596c;font-weight: bold;","ID somewhere in your code. Refer example below to resolve it."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<div class="modal" id="'.concat(e,'"></div>')),!1},u=function(e,t){if(function(e){e.length<=0&&(console.warn("MicroModal: ❗Please specify at least one %c'micromodal-trigger'","background-color: #f8f9fa;color: #50596c;font-weight: bold;","data attribute."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<a href="#" data-micromodal-trigger="my-modal"></a>'))}(e),!t)return!0;for(var n in t)d(n);return!0},{init:function(e){var t=Object.assign({},{openTrigger:"data-micromodal-trigger"},e),n=s(document.querySelectorAll("[".concat(t.openTrigger,"]"))),i=function(e,t){var n=[];return e.forEach((function(e){var i=e.attributes[t].value;void 0===n[i]&&(n[i]=[]),n[i].push(e)})),n}(n,t.openTrigger);if(!0!==t.debugMode||!1!==u(n,i))for(var o in i){var a=i[o];t.targetModal=o,t.triggers=s(a),l=new c(t)}},show:function(e,t){var n=t||{};n.targetModal=e,!0===n.debugMode&&!1===d(e)||(l&&l.removeEventListeners(),(l=new c(n)).showModal())},close:function(e){e?l.closeModalById(e):l.closeModal()}});"undefined"!=typeof window&&(window.MicroModal=h);var m=h;class f extends i.wA{constructor(e){super(e);const{responseFormId:t,triggers:n}=this.options;n&&n.length>0&&n.forEach((e=>{e.addEventListener("click",(e=>this.openModal(e)))}));const{formid:i=!1}=window;if(i&&t){m.show(t);const e=document.getElementById(t).querySelector(".button--solid");e&&(e.href=`${window.location.origin}${window.location.pathname}`)}}openModal(e){e.preventDefault();const t=e.currentTarget.dataset.modalTriggerFor;m.show(t)}}var v={name:"authorEmail",class:f,options:{responseFormId:"email-response",triggers:document.querySelectorAll("[data-author-email]")}};class g extends i.wA{constructor(e){super(e);const t=document.querySelector(".byline__author a"),n=[...this.children.focusableEls];this.close=this.close.bind(this),this.open=this.open.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.init=this.init.bind(this),this.init(t,n)}close(e){e.setAttribute("aria-expanded","false"),this.element.setAttribute("aria-hidden","true"),e.focus()}handleKeyDown(e,t,n){const i=t[0],o=t[t.length-1],s=()=>{document.activeElement===i&&this.close(n)},a=()=>{document.activeElement===o&&this.close(n)};switch(e.key){case"Tab":if(1===t.length){a();break}e.shiftKey?s():a();break;case"Escape":this.close(n)}}open(e,t){const n=t[0];console.log("open called"),e.setAttribute("aria-expanded","true"),this.element.setAttribute("aria-hidden","false"),this.element.addEventListener("keydown",(n=>{this.handleKeyDown(n,t,e)})),n.focus()}init(e,t){e.addEventListener("click",(()=>{this.open(e,t)}))}}var p={name:"authorFlyout",class:g,querySelectorAll:{focusableEls:'a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]'}},y=JSON.parse('{"xl":"1280","lg":"1024","md":"768","sm":"600","xs":"480"}'),w=Object.keys(y).reduce(((e,t)=>{const n=y[t]/16+"rem",i=(y[t]-1)/16+"rem";return e[`${t}Min`]=window.matchMedia(`(min-width: ${n})`),e[`${t}Max`]=window.matchMedia(`(max-width: ${i})`),e}),{});class b extends i.wA{constructor(e){super(e),this.activateStickyCountdown=this.activateStickyCountdown.bind(this),this.removeStickyClass=this.removeStickyClass.bind(this),this.billboardWrapper=this.element,w.lgMin.matches&&this.init()}init(){window.addEventListener("scroll",this.activateStickyCountdown)}activateStickyCountdown(){const{scrollY:e}=window;e>=100&&(setTimeout((()=>{this.removeStickyClass()}),5e3),window.removeEventListener("scroll",this.activateStickyCountdown))}removeStickyClass(){const{billboardWrapper:e,options:{stickyClass:t}}=this;void 0!==e&&e.classList.contains(t)&&e.classList.remove(t)}}var k={name:"billboardOverlay",class:b,options:{stickyClass:"is-sticky"}};const S=window.requestAnimationFrame;class E{constructor(e,t,n,i=250,o=!0){this.event=t,this.element=n,this.frequency=i,this.timer=!1,this.initial=o,this.callback=e,this.requestTick=this.requestTick.bind(this),this.update=this.update.bind(this),this.callback?this.addHandler():console.error("Debounce error: you must specify a callback.")}addHandler(){this.element.addEventListener(this.event,this.requestTick)}update(){this.callback(),this.timer=!1}requestTick(){!this.timer&&this.initial&&this.update(),this.timer&&window.clearTimeout(this.timer),this.timer=window.setTimeout((()=>{S((()=>{this.update()}))}),this.frequency)}destroy(){this.element.removeEventListener(this.event,this.requestTick)}}class C extends i.wA{constructor(e){super(e),this.init()}init(){const e=document.querySelector(".single__header"),t=document.querySelector(".single__footer");null!==e&&null!==t&&(this.checkBreakPoints(),w.xlMin.addListener((()=>{this.checkBreakPoints()})))}checkBreakPoints(){w.xlMin.matches?this.initShareDesktop():w.xlMax.matches&&this.initShareMobile()}initShareDesktop(){const{floatingShare:e}=this.children,{attachedClass:t,detachedClass:n,opaqueClass:i}=this.options,o=document.querySelector(".single__header"),s=document.querySelector(".single__footer");e.classList.remove(i),this.debouncer=new E((()=>{const a=s.offsetTop,r=document.documentElement.scrollTop;r<o.getBoundingClientRect().top?e.classList.remove(i):e.classList.add(i),r<a-658?(e.classList.add(n),e.classList.remove(t),e.style.top="658px"):(e.classList.remove(n),e.classList.add(t)),e.style.removeProperty("display")}),"scroll",window,20,!1)}initShareMobile(){const{floatingShare:e}=this.children,{detachedClass:t,opaqueClass:n}=this.options;void 0!==this.debouncer&&this.debouncer.destroy(),e.style.top="0",e.classList.add(n,t),e.style.removeProperty("display")}}var A={name:"floatingShare",class:C,querySelector:{floatingShare:".single__floating-share"},options:{opaqueClass:"opaque",detachedClass:"detached",attachedClass:"attached",showClass:"show",offset:60}},L=n(6951),_=n.n(L);class M extends i.wA{constructor(e){super(e);const t=document.querySelectorAll("[data-modal-image]");t&&t.length>0&&t.forEach((e=>{e.addEventListener("click",(e=>this.openModal(e)))}))}getImage(){let e="";const{imageID:t}=this.options;if(0!==t){this.element.setAttribute("id",t);const n=document.querySelector(`.wp-image-${t}`);n&&(e=n.cloneNode(!0),e.setAttribute("sizes","(max-width: 1400px) 100vw, 1400px"),e.removeAttribute("class"))}return e}openModal(e){const{modalContent:t}=this.children;e.target.dataset.modalImage&&(e.target.closest("a")&&e.preventDefault(),this.options.imageID=e.target.dataset.modalImage.toString());const n=this.getImage();t&&n&&(t.innerHTML=_().sanitize(n),m.show(this.options.imageID))}}var x={name:"imageModal",class:M,querySelector:{modalContent:"[data-modal-content-image]"},options:{imageID:0}};class q extends i.wA{constructor(e){super(e),this.init()}init(){const{socialShare:e,urlShare:t}=this.children;e.length>0&&t.length>0&&this.initUrlShare(),void 0!==window.ga&&Array.from(document.querySelectorAll(".social-icons__icon")).forEach((e=>{e.addEventListener("click",(e=>{const t=e.target.closest("a");let n="";const i=t.title.length?t.title.split(/\s+/).pop().replace("friend","Email"):"",o=encodeURI(window.location.href);e.target.closest(".article-header__social-icons")&&(n="article top share"),(e.target.closest(".single__floating-share")||e.target.closest(".article-share-fixed"))&&(n="floating share"),""!==n&&window.ga("send","social",i,n,o)}))}))}initUrlShare(){const{urlShare:e}=this.children,t=document.querySelector(".modal__sharing-url .modal__inner"),n=document.getElementById("sharing-url-title"),i=n.innerHTML;e.forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault();const t=e.target.dataset.shared;document.querySelector("#sharing-url-input").setAttribute("value",t),m.show("modal-sharing-url",{onShow:()=>{n.innerHTML=_().sanitize(i)}})}))})),t.addEventListener("click",(()=>{!function(){if(document.queryCommandSupported("copy")){const e=document.getElementById("sharing-url-title"),t=document.getElementById("sharing-url-input"),n=document.createRange(),i=window.getSelection();n.selectNodeContents(t),i.removeAllRanges(),i.addRange(n),t.select(),t.setSelectionRange(0,999),document.execCommand("copy")&&(e.textContent="Copied!")}}()}))}}var T={name:"socialShare",class:q,querySelectorAll:{socialShare:".social-icons",urlShare:".social-icons__icon--post-url",emailShare:".social-icons__icon--email"}};const O=new i.yW("article-like"),I=[v,p,k,A,x,T];var F;F=()=>{O.initComponents(I),function(){const{truncateSidebar:e}=window.nypScripts.nypost_wp_vars;if("no"!==e&&window.innerWidth>1024){const e=function(){let e=0;return[".archive__header",".archive__content",".section__content",".single__header",".featured-image",".entry-content"].forEach((t=>{const n=document.querySelector(t),{height:i}=o(n);i&&(e+=parseInt(i,10))})),e}(),t=document.querySelector('aside[class$="__sidebar"]'),{height:n}=o(t);if(e&&n&&parseInt(n,10)>parseInt(e,10)){const n=document.querySelectorAll('aside[class$="__sidebar"] > div');if(n&&n.length){let i=0;n.forEach((n=>{const o=n;1===o.nodeType&&(i+=o.clientHeight,i>e&&o.classList.contains("widget-wrapper")&&!o.classList.contains("widget_nypost_dfp_ad_widget")&&!o.classList.contains("dfp_ad")&&t.removeChild(o))}))}}}}()},"complete"!==document.readyState&&"interactive"!==document.readyState||F(),document.addEventListener("DOMContentLoaded",F)}},n={};function i(e){var o=n[e];if(void 0!==o)return o.exports;var s=n[e]={exports:{}};return t[e].call(s.exports,s,s.exports,i),s.exports}i.m=t,e=[],i.O=function(t,n,o,s){if(!n){var a=1/0;for(d=0;d<e.length;d++){n=e[d][0],o=e[d][1],s=e[d][2];for(var r=!0,c=0;c<n.length;c++)(!1&s||a>=s)&&Object.keys(i.O).every((function(e){return i.O[e](n[c])}))?n.splice(c--,1):(r=!1,s<a&&(a=s));if(r){e.splice(d--,1);var l=o();void 0!==l&&(t=l)}}return t}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[n,o,s]},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,{a:t}),t},i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={8719:0};i.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,s,a=n[0],r=n[1],c=n[2],l=0;if(a.some((function(t){return 0!==e[t]}))){for(o in r)i.o(r,o)&&(i.m[o]=r[o]);if(c)var d=c(i)}for(t&&t(n);l<a.length;l++)s=a[l],i.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return i.O(d)},n=self.webpackChunknypost_2021=self.webpackChunknypost_2021||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var o=i.O(void 0,[4403,3703],(function(){return i(1732)}));o=i.O(o)}();
//# sourceMappingURL=templates-shared-article-like.bundle.min.js.map