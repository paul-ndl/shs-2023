function checkDomain(e){var t=document.referrer.toString().substr(7).replace("/",".").split("."),s=!0;for(i=0;i<t.length;i++)(!e.domain||e.domain===t[i])&&(s=!0);return s}function initialize(t){for(var e in t)t.hasOwnProperty(e)&&"baseURL"!==e&&"language"!==e&&"widget_id"!==e&&"iframeId"!==e&&"timezone"!==e&&"format_date"!==e&&"format_time"!==e&&"history"!==e&&"custom_country_list"!==e&&"odds_book_list"!==e&&("string"==typeof t[e]||t[e]instanceof String)&&(t[e]=t[e].toLowerCase());if(void 0!==t.custom_css&&""!==t.custom_css)for(var i=t.custom_css.split(","),s=0;s<i.length;s++)(r=document.createElement("link")).rel="preload",r.href=i[s],r.as="style",document.getElementsByTagName("head")[0].appendChild(r);var o=document.createElement("link");o.type="text/css",o.rel="stylesheet",o.href="//widgets.sports.gracenote.com/"+t.version+"/assets/css/widgets/"+t.sport+"/"+t.type+"/index.css?c="+t.customer_id+"&module="+t.sport+"&type="+t.type,document.getElementsByTagName("head")[0].appendChild(o);var n=(new Date).getTime(),o=document.createElement("IMG");if(o.src="//widgets.sports.gracenote.com/pixel.gif?c="+t.customer_id+"&wid="+t.widget_id+"&w="+t.sport+"-"+t.type+"&t="+n,document.getElementsByTagName("body")[0].appendChild(o),t.updateRatio=6e4,void 0!==t.custom_css&&""!==t.custom_css)for(var r,i=t.custom_css.split(","),s=0;s<i.length;s++)(r=document.createElement("link")).type="text/css",r.rel="stylesheet",r.href=i[s],document.getElementsByTagName("head")[0].appendChild(r);require.config({baseUrl:"//widgets.sports.gracenote.com/"+t.version+"/assets/js",urlArgs:"c="+t.customer_id+"&module="+t.sport+"&type="+t.type+"&bust="+t.version,waitSeconds:20}),require(["app/widgets/"+t.sport+"/"+t.type],function(e){e.init(t)})}window.addEventListener("message",function(t){if(""!==t.origin&&"//cdn.cm.infostradasports.com"!==t.origin&&"//s3-eu-west-1.amazonaws.com"!==t.origin){var i,s,o;try{i=JSON.parse(t.data)}catch(e){i=null}i&&(s=o=null,o=i.settings,i.oldWidgetSettings&&(s=i.oldWidgetSettings),o&&void 0!==o.widget_id&&(s.widget_id==="link-from-widget-"+o.iframeId||s.widget_linking?s.widget_linking?initialize(o):s.widget_id==="link-from-widget-"+o.iframeId&&initialize(s):jQuery.getJSON("https://widgets.sports.gracenote.com/configs/"+o.widget_id+".json",function(e){o.customer_id=o.customer_id||e.customer_id||e.client_id,e.customer_id=o.customer_id,e.baseURL=o.baseURL,e.domainOrigin=t.origin,"yes"===e.allow_tags||"yes"===s["return-to-"+o.iframeId]?("yes"===e.allow_tags&&jQuery.extend(!0,e,o),"yes"===s["return-to-"+o.iframeId]&&jQuery.extend(!0,e,s)):(e.widget_id=o.widget_id,e.iframeId=o.iframeId,o.custom_css&&""!=o.custom_css&&(e.custom_css=o.custom_css)),checkDomain(e)?initialize(e):document.body.innerHTML+="Error: domain is not allowed."}).fail(function(){document.body.innerHTML+="Error: could not load widget id."})))}},!1);